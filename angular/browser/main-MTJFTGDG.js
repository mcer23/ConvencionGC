import{a as y,b as R,c as rg,d as nr,e as rr,f as fl,g as m}from"./chunk-FDPDDWYW.js";function fw(n,e){return Object.is(n,e)}var mt=null,pl=!1,xd=1,Er=Symbol("SIGNAL");function Ne(n){let e=mt;return mt=n,e}function pw(){return mt}function bR(){return pl}var pa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ag(n){if(pl)throw new Error("");if(mt===null)return;mt.consumerOnSignalRead(n);let e=mt.nextProducerIndex++;if(Vd(mt),e<mt.producerNode.length&&mt.producerNode[e]!==n&&ml(mt)){let t=mt.producerNode[e];Ud(t,mt.producerIndexOfThis[e])}mt.producerNode[e]!==n&&(mt.producerNode[e]=n,mt.producerIndexOfThis[e]=ml(mt)?Cw(n,mt,e):0),mt.producerLastReadVersion[e]=n.version}function SR(){xd++}function mw(n){if(!(ml(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===xd)){if(!n.producerMustRecompute(n)&&!Ld(n)){n.dirty=!1,n.lastCleanEpoch=xd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=xd}}function gw(n){if(n.liveConsumerNode===void 0)return;let e=pl;pl=!0;try{for(let t of n.liveConsumerNode)t.dirty||vw(t)}finally{pl=e}}function yw(){return mt?.consumerAllowSignalWrites!==!1}function vw(n){n.dirty=!0,gw(n),n.consumerMarkedDirty?.(n)}function gl(n){return n&&(n.nextProducerIndex=0),Ne(n)}function kd(n,e){if(Ne(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ml(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ud(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ld(n){Vd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(mw(t),r!==t.version))return!0}return!1}function Fd(n){if(Vd(n),ml(n))for(let e=0;e<n.producerNode.length;e++)Ud(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Cw(n,e,t){if(Ew(n),n.liveConsumerNode.length===0&&_w(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Cw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ud(n,e){if(Ew(n),n.liveConsumerNode.length===1&&_w(n))for(let r=0;r<n.producerNode.length;r++)Ud(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Vd(i),i.producerIndexOfThis[r]=e}}function ml(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Vd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Ew(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function _w(n){return n.producerNode!==void 0}function ww(n){let e=Object.create(AR);e.computation=n;let t=()=>{if(mw(e),ag(e),e.value===Pd)throw e.error;return e.value};return t[Er]=e,t}var ig=Symbol("UNSET"),og=Symbol("COMPUTING"),Pd=Symbol("ERRORED"),AR=R(y({},pa),{value:ig,dirty:!0,error:null,equal:fw,producerMustRecompute(n){return n.value===ig||n.value===og},producerRecomputeValue(n){if(n.value===og)throw new Error("Detected cycle in computations.");let e=n.value;n.value=og;let t=gl(n),r;try{r=n.computation()}catch(i){r=Pd,n.error=i}finally{kd(n,t)}if(e!==ig&&e!==Pd&&r!==Pd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function DR(){throw new Error}var Iw=DR;function Tw(){Iw()}function bw(n){Iw=n}var MR=null;function Sw(n){let e=Object.create(Dw);e.value=n;let t=()=>(ag(e),e.value);return t[Er]=e,t}function cg(n,e){yw()||Tw(),n.equal(n.value,e)||(n.value=e,RR(n))}function Aw(n,e){yw()||Tw(),cg(n,e(n.value))}var Dw=R(y({},pa),{equal:fw,value:void 0});function RR(n){n.version++,SR(),gw(n),MR?.()}function Mw(n,e,t){let r=Object.create(NR);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Fd(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=sg)}let a=()=>{if(r.fn===null)return;if(bR())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ld(r))return;r.hasRun=!0;let c=gl(r);try{r.cleanupFn(),r.cleanupFn=sg,r.fn(i)}finally{kd(r,c)}};return r.ref={notify:()=>vw(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Er]:r},r.ref}var sg=()=>{},NR=R(y({},pa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:sg});function oe(n){return typeof n=="function"}function ma(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=ma(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var dt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Rw(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Rw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yl(t,e)}remove(e){let{_finalizers:t}=this;t&&yl(t,e),e instanceof n&&e._removeParent(this)}};dt.EMPTY=(()=>{let n=new dt;return n.closed=!0,n})();var lg=dt.EMPTY;function Bd(n){return n instanceof dt||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function Rw(n){oe(n)?n():n.unsubscribe()}var ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ga={setTimeout(n,e,...t){let{delegate:r}=ga;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ga;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jd(n){ga.setTimeout(()=>{let{onUnhandledError:e}=ir;if(e)e(n);else throw n})}function vl(){}var Nw=ug("C",void 0,void 0);function Ow(n){return ug("E",void 0,n)}function xw(n){return ug("N",n,void 0)}function ug(n,e,t){return{kind:n,value:e,error:t}}var $o=null;function ya(n){if(ir.useDeprecatedSynchronousErrorHandling){let e=!$o;if(e&&($o={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$o;if($o=null,t)throw r}}else n()}function Pw(n){ir.useDeprecatedSynchronousErrorHandling&&$o&&($o.errorThrown=!0,$o.error=n)}var qo=class extends dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bd(e)&&e.add(this)):this.destination=PR}static create(e,t,r){return new va(e,t,r)}next(e){this.isStopped?hg(xw(e),this):this._next(e)}error(e){this.isStopped?hg(Ow(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hg(Nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OR=Function.prototype.bind;function dg(n,e){return OR.call(n,e)}var fg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){$d(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){$d(r)}else $d(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){$d(t)}}},va=class extends qo{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ir.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dg(e.next,o),error:e.error&&dg(e.error,o),complete:e.complete&&dg(e.complete,o)}):i=e}this.destination=new fg(i)}};function $d(n){ir.useDeprecatedSynchronousErrorHandling?Pw(n):jd(n)}function xR(n){throw n}function hg(n,e){let{onStoppedNotification:t}=ir;t&&ga.setTimeout(()=>t(n,e))}var PR={closed:!0,next:vl,error:xR,complete:vl};var Ca=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(n){return n}function pg(...n){return mg(n)}function mg(n){return n.length===0?wn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=LR(t)?t:new va(t,r,i);return ya(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kw(r),new r((i,o)=>{let s=new va({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ca](){return this}pipe(...t){return mg(t)(this)}toPromise(t){return t=kw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function kw(n){var e;return(e=n??ir.Promise)!==null&&e!==void 0?e:Promise}function kR(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function LR(n){return n&&n instanceof qo||kR(n)&&Bd(n)}function gg(n){return oe(n?.lift)}function De(n){return e=>{if(gg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new yg(n,e,t,r,i)}var yg=class extends qo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ea(){return De((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _a=class extends Ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dt;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dt.EMPTY)}return e}refCount(){return Ea()(this)}};var Lw=ma(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new qd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Lw}next(t){ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ya(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lg:(this.currentObservers=null,o.push(t),new dt(()=>{this.currentObservers=null,yl(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ae;return t.source=this,t}}return n.create=(e,t)=>new qd(e,t),n})(),qd=class extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:lg}};var gt=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vg={now(){return(vg.delegate||Date).now()},delegate:void 0};var Cl=class extends Ve{constructor(e=1/0,t=1/0,r=vg){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var qt=new Ae(n=>n.complete());function Fw(n){return n&&oe(n.schedule)}function Uw(n){return n[n.length-1]}function zd(n){return oe(Uw(n))?n.pop():void 0}function ji(n){return Fw(Uw(n))?n.pop():void 0}function fe(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Vw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zo(n){return this instanceof zo?(this.v=n,this):new zo(n)}function Hw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(g){return Promise.resolve(g).then(p,d)}}function a(p,g){r[p]&&(i[p]=function(v){return new Promise(function(S,L){o.push([p,v,S,L])>1||c(p,v)})},g&&(i[p]=g(i[p])))}function c(p,g){try{l(r[p](g))}catch(v){f(o[0][3],v)}}function l(p){p.value instanceof zo?Promise.resolve(p.value.v).then(u,d):f(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function f(p,g){p(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Bw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Vw=="function"?Vw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Gd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Wd(n){return oe(n?.then)}function Kd(n){return oe(n[Ca])}function Qd(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Yd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zd=FR();function Jd(n){return oe(n?.[Zd])}function Xd(n){return Hw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zo(t.read());if(i)return yield zo(void 0);yield yield zo(r)}}finally{t.releaseLock()}})}function eh(n){return oe(n?.getReader)}function ht(n){if(n instanceof Ae)return n;if(n!=null){if(Kd(n))return UR(n);if(Gd(n))return VR(n);if(Wd(n))return HR(n);if(Qd(n))return jw(n);if(Jd(n))return BR(n);if(eh(n))return jR(n)}throw Yd(n)}function UR(n){return new Ae(e=>{let t=n[Ca]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VR(n){return new Ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function HR(n){return new Ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jd)})}function BR(n){return new Ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function jw(n){return new Ae(e=>{$R(n,e).catch(t=>e.error(t))})}function jR(n){return jw(Xd(n))}function $R(n,e){var t,r,i,o;return fe(this,void 0,void 0,function*(){try{for(t=Bw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function nn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function th(n,e=0){return De((t,r)=>{t.subscribe(we(r,i=>nn(r,n,()=>r.next(i),e),()=>nn(r,n,()=>r.complete(),e),i=>nn(r,n,()=>r.error(i),e)))})}function nh(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $w(n,e){return ht(n).pipe(nh(e),th(e))}function qw(n,e){return ht(n).pipe(nh(e),th(e))}function zw(n,e){return new Ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Gw(n,e){return new Ae(t=>{let r;return nn(t,e,()=>{r=n[Zd](),nn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function rh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ae(t=>{nn(t,e,()=>{let r=n[Symbol.asyncIterator]();nn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ww(n,e){return rh(Xd(n),e)}function Kw(n,e){if(n!=null){if(Kd(n))return $w(n,e);if(Gd(n))return zw(n,e);if(Wd(n))return qw(n,e);if(Qd(n))return rh(n,e);if(Jd(n))return Gw(n,e);if(eh(n))return Ww(n,e)}throw Yd(n)}function Ie(n,e){return e?Kw(n,e):ht(n)}function z(...n){let e=ji(n);return Ie(n,e)}function wa(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new Ae(e?i=>e.schedule(r,0,i):r)}function Cg(n){return!!n&&(n instanceof Ae||oe(n.lift)&&oe(n.subscribe))}var ei=ma(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return De((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:qR}=Array;function zR(n,e){return qR(e)?n(...e):n(e)}function ih(n){return X(e=>zR(n,e))}var{isArray:GR}=Array,{getPrototypeOf:WR,prototype:KR,keys:QR}=Object;function oh(n){if(n.length===1){let e=n[0];if(GR(e))return{args:e,keys:null};if(YR(e)){let t=QR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function YR(n){return n&&typeof n=="object"&&WR(n)===KR}function sh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ah(...n){let e=ji(n),t=zd(n),{args:r,keys:i}=oh(n);if(r.length===0)return Ie([],e);let o=new Ae(ZR(r,e,i?s=>sh(i,s):wn));return t?o.pipe(ih(t)):o}function ZR(n,e,t=wn){return r=>{Qw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Qw(e,()=>{let l=Ie(n[c],e),u=!1;l.subscribe(we(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Qw(n,e,t){n?nn(t,n,e):e()}function Yw(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},p=v=>l<r?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let S=!1;ht(t(v,u++)).subscribe(we(e,L=>{i?.(L),o?p(L):e.next(L)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let L=c.shift();s?nn(e,s,()=>g(L)):g(L)}f()}catch(L){e.error(L)}}))};return n.subscribe(we(e,p,()=>{d=!0,f()})),()=>{a?.()}}function yt(n,e,t=1/0){return oe(e)?yt((r,i)=>X((o,s)=>e(r,o,i,s))(ht(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>Yw(r,i,n,t)))}function Eg(n=1/0){return yt(wn,n)}function Zw(){return Eg(1)}function Ia(...n){return Zw()(Ie(n,ji(n)))}function ch(n){return new Ae(e=>{ht(n()).subscribe(e)})}function _g(...n){let e=zd(n),{args:t,keys:r}=oh(n),i=new Ae(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ht(t[u]).subscribe(we(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?sh(r,a):a),o.complete())}))}});return e?i.pipe(ih(e)):i}function ft(n,e){return De((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function or(n){return De((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=ht(n(s,or(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Jw(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(we(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function sr(n,e){return oe(e)?yt(n,e,1):yt(n,1)}function $i(n){return De((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function In(n){return n<=0?()=>qt:De((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function wg(n){return X(()=>n)}function lh(n=JR){return De((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JR(){return new ei}function qi(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function _r(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ft((i,o)=>n(i,o,r)):wn,In(1),t?$i(e):lh(()=>new ei))}function Ta(n){return n<=0?()=>qt:De((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ig(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ft((i,o)=>n(i,o,r)):wn,Ta(1),t?$i(e):lh(()=>new ei))}function Tg(n,e){return De(Jw(n,e,arguments.length>=2,!0))}function bg(...n){let e=ji(n);return De((t,r)=>{(e?Ia(n,t,e):Ia(n,t)).subscribe(r)})}function vt(n,e){return De((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,c=>{i?.unsubscribe();let l=0,u=o++;ht(n(c,u)).subscribe(i=we(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sg(n){return De((e,t)=>{ht(n).subscribe(we(t,()=>t.complete(),vl)),!t.closed&&e.subscribe(t)})}function At(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wn}var BI="https://g.co/ng/security#xss",D=class extends Error{constructor(e,t){super(Wh(e,t)),this.code=e}};function Wh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ol(n){return{toString:n}.toString()}var uh="__parameters__";function XR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function jI(n,e,t){return Ol(()=>{let r=XR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(uh)?c[uh]:Object.defineProperty(c,uh,{value:[]})[uh];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Il=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function eN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Gt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Vg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var tN=Be({__forward_ref__:Be});function is(n){return n.__forward_ref__=is,n.toString=function(){return Gt(this())},n}function zt(n){return $I(n)?n():n}function $I(n){return typeof n=="function"&&n.hasOwnProperty(tN)&&n.__forward_ref__===is}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Oe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kh(n){return Xw(n,zI)||Xw(n,GI)}function qI(n){return Kh(n)!==null}function Xw(n,e){return n.hasOwnProperty(e)?n[e]:null}function nN(n){let e=n&&(n[zI]||n[GI]);return e||null}function eI(n){return n&&(n.hasOwnProperty(tI)||n.hasOwnProperty(rN))?n[tI]:null}var zI=Be({\u0275prov:Be}),tI=Be({\u0275inj:Be}),GI=Be({ngInjectableDef:Be}),rN=Be({ngInjectorDef:Be}),B=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function WI(n){return n&&!!n.\u0275providers}var iN=Be({\u0275cmp:Be}),oN=Be({\u0275dir:Be}),sN=Be({\u0275pipe:Be}),aN=Be({\u0275mod:Be}),Th=Be({\u0275fac:Be}),wl=Be({__NG_ELEMENT_ID__:Be}),nI=Be({__NG_ENV_ID__:Be});function Wo(n){return typeof n=="string"?n:n==null?"":String(n)}function cN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Wo(n)}function lN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,n)}function Qy(n,e){throw new D(-201,!1)}var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{}),Hg;function KI(){return Hg}function rn(n){let e=Hg;return Hg=n,e}function QI(n,e,t){let r=Kh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&me.Optional)return null;if(e!==void 0)return e;Qy(n,"Injector")}var uN={},Tl=uN,Bg="__NG_DI_FLAG__",bh="ngTempTokenPath",dN="ngTokenPath",hN=/\n/gm,fN="\u0275",rI="__source",Da;function pN(){return Da}function zi(n){let e=Da;return Da=n,e}function mN(n,e=me.Default){if(Da===void 0)throw new D(-203,!1);return Da===null?QI(n,void 0,e):Da.get(n,e&me.Optional?null:void 0,e)}function k(n,e=me.Default){return(KI()||mN)(zt(n),e)}function A(n,e=me.Default){return k(n,Qh(e))}function Qh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jg(n){let e=[];for(let t=0;t<n.length;t++){let r=zt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],c=gN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(k(i,o))}else e.push(k(r))}return e}function YI(n,e){return n[Bg]=e,n.prototype[Bg]=e,n}function gN(n){return n[Bg]}function yN(n,e,t,r){let i=n[bh];throw e[rI]&&i.unshift(e[rI]),n.message=vN(`
`+n.message,i,t,r),n[dN]=i,n[bh]=null,n}function vN(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==fN?n.slice(2):n;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(hN,`
  `)}`}var Yh=YI(jI("Optional"),8);var Yy=YI(jI("SkipSelf"),4);function Ko(n,e){let t=n.hasOwnProperty(Th);return t?n[Th]:null}function CN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function EN(n){return n.flat(Number.POSITIVE_INFINITY)}function Zy(n,e){n.forEach(t=>Array.isArray(t)?Zy(t,e):e(t))}function ZI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _N(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function wN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Zh(n,e,t){let r=xl(n,e);return r>=0?n[r|1]=t:(r=~r,wN(n,r,e,t)),r}function Ag(n,e){let t=xl(n,e);if(t>=0)return n[t|1]}function xl(n,e){return IN(n,e,1)}function IN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ra={},on=[],Na=new B(""),JI=new B("",-1),XI=new B(""),Ah=class{get(e,t=Tl){if(t===Tl){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return t}},eT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eT||{}),Tr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tr||{}),Ki=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ki||{});function TN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function $g(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];SN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function bN(n){return n===3||n===4||n===6}function SN(n){return n.charCodeAt(0)===64}function bl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?iI(n,t,i,null,e[++r]):iI(n,t,i,null,null))}}return n}function iI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var tT="ng-template";function AN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Jy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Jy(n){return n.type===4&&n.value!==tT}function DN(n,e,t){let r=n.type===4&&!t?tT:n.value;return e===r}function MN(n,e,t){let r=4,i=n.attrs,o=i!==null?ON(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ar(r)&&!ar(c))return!1;if(s&&ar(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!DN(n,c,t)||c===""&&e.length===1){if(ar(r))return!1;s=!0}}else if(r&8){if(i===null||!AN(n,i,c,t)){if(ar(r))return!1;s=!0}}else{let l=e[++a],u=RN(c,i,Jy(n),t);if(u===-1){if(ar(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(ar(r))return!1;s=!0}}}}return ar(r)||s}function ar(n){return(n&1)===0}function RN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xN(e,n)}function nT(n,e,t=!1){for(let r=0;r<e.length;r++)if(MN(n,e[r],t))return!0;return!1}function NN(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function ON(n){for(let e=0;e<n.length;e++){let t=n[e];if(bN(t))return e}return n.length}function xN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function PN(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function oI(n,e){return n?":not("+e.trim()+")":e}function kN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ar(s)&&(e+=oI(o,i),i=""),r=s,o=o||!ar(r);t++}return i!==""&&(e+=oI(o,i)),e}function LN(n){return n.map(kN).join(",")}function FN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ar(i))break;i=o}r++}return{attrs:e,classes:t}}function j(n){return Ol(()=>{let e=aT(n),t=R(y({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tr.Emulated,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null,id:""});cT(t);let r=n.dependencies;return t.directiveDefs=aI(r,!1),t.pipeDefs=aI(r,!0),t.id=HN(t),t})}function UN(n){return Qo(n)||rT(n)}function VN(n){return n!==null}function xe(n){return Ol(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sI(n,e){if(n==null)return Ra;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ki.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ki.None?[r,a]:r,e[o]=s):t[o]=r}return t}function nt(n){return Ol(()=>{let e=aT(n);return cT(e),e})}function Xy(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qo(n){return n[iN]||null}function rT(n){return n[oN]||null}function iT(n){return n[sN]||null}function oT(n){let e=Qo(n)||rT(n)||iT(n);return e!==null?e.standalone:!1}function sT(n,e){let t=n[aN]||null;if(!t&&e===!0)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return t}function aT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ra,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sI(n.inputs,e),outputs:sI(n.outputs),debugInfo:null}}function cT(n){n.features?.forEach(e=>e(n))}function aI(n,e){if(!n)return null;let t=e?iT:UN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(VN)}function HN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pl(n){return{\u0275providers:n}}function BN(...n){return{\u0275providers:lT(!0,n),\u0275fromNgModule:!0}}function lT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Zy(e,s=>{let a=s;qg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uT(i,o),t}function uT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ev(i,o=>{e(o,r)})}}function qg(n,e,t,r){if(n=zt(n),!n)return!1;let i=null,o=eI(n),s=!o&&Qo(n);if(!o&&!s){let c=n.ngModule;if(o=eI(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)qg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zy(o.imports,u=>{qg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&uT(l,e)}if(!a){let l=Ko(i)||(()=>new i);e({provide:i,useFactory:l,deps:on},i),e({provide:XI,useValue:i,multi:!0},i),e({provide:Na,useValue:()=>k(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;ev(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ev(n,e){for(let t of n)WI(t)&&(t=t.\u0275providers),Array.isArray(t)?ev(t,e):e(t)}var jN=Be({provide:String,useValue:Be});function dT(n){return n!==null&&typeof n=="object"&&jN in n}function $N(n){return!!(n&&n.useExisting)}function qN(n){return!!(n&&n.useFactory)}function Oa(n){return typeof n=="function"}function zN(n){return!!n.useClass}var Jh=new B(""),yh={},GN={},Dg;function tv(){return Dg===void 0&&(Dg=new Ah),Dg}var sn=class{},Sl=class extends sn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gg(e,s=>this.processProvider(s)),this.records.set(JI,ba(void 0,this)),i.has("environment")&&this.records.set(sn,ba(void 0,this));let o=this.records.get(Jh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(XI,on,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=zi(this),r=rn(void 0),i;try{return e()}finally{zi(t),rn(r)}}get(e,t=Tl,r=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nI))return e[nI](this);r=Qh(r);let i,o=zi(this),s=rn(void 0);try{if(!(r&me.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=ZN(e)&&Kh(e);l&&this.injectableDefInScope(l)?c=ba(zg(e),yh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&me.Self?tv():this.parent;return t=r&me.Optional&&t===Tl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[bh]=a[bh]||[]).unshift(Gt(e)),o)throw a;return yN(a,e,"R3InjectorError",this.source)}else throw a}finally{rn(s),zi(o)}}resolveInjectorInitializers(){let e=Ne(null),t=zi(this),r=rn(void 0),i;try{let o=this.get(Na,on,me.Self);for(let s of o)s()}finally{zi(t),rn(r),Ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){e=zt(e);let t=Oa(e)?e:zt(e&&e.provide),r=KN(e);if(!Oa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ba(void 0,yh,!0),i.factory=()=>jg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ne(null);try{return t.value===yh&&(t.value=GN,t.value=t.factory()),typeof t.value=="object"&&t.value&&YN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=zt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zg(n){let e=Kh(n),t=e!==null?e.factory:Ko(n);if(t!==null)return t;if(n instanceof B)throw new D(204,!1);if(n instanceof Function)return WN(n);throw new D(204,!1)}function WN(n){if(n.length>0)throw new D(204,!1);let t=nN(n);return t!==null?()=>t.factory(n):()=>new n}function KN(n){if(dT(n))return ba(void 0,n.useValue);{let e=hT(n);return ba(e,yh)}}function hT(n,e,t){let r;if(Oa(n)){let i=zt(n);return Ko(i)||zg(i)}else if(dT(n))r=()=>zt(n.useValue);else if(qN(n))r=()=>n.useFactory(...jg(n.deps||[]));else if($N(n))r=()=>k(zt(n.useExisting));else{let i=zt(n&&(n.useClass||n.provide));if(QN(n))r=()=>new i(...jg(n.deps));else return Ko(i)||zg(i)}return r}function ba(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function QN(n){return!!n.deps}function YN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ZN(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Gg(n,e){for(let t of n)Array.isArray(t)?Gg(t,e):t&&WI(t)?Gg(t.\u0275providers,e):e(t)}function ur(n,e){n instanceof Sl&&n.assertNotDestroyed();let t,r=zi(n),i=rn(void 0);try{return e()}finally{zi(r),rn(i)}}function fT(){return KI()!==void 0||pN()!=null}function JN(n){if(!fT())throw new D(-203,!1)}function XN(n){return typeof n=="function"}var oi=0,de=1,Y=2,Ut=3,cr=4,cn=5,Al=6,Dh=7,lr=8,xa=9,br=10,tt=11,Dl=12,cI=13,Ba=14,Fn=15,Yo=16,Sa=17,ti=18,Xh=19,pT=20,Gi=21,vh=22,Ln=23,an=25,mT=1;var Zo=7,Mh=8,Pa=9,Tn=10,Rh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Rh||{});function Wi(n){return Array.isArray(n)&&typeof n[mT]=="object"}function si(n){return Array.isArray(n)&&n[mT]===!0}function nv(n){return(n.flags&4)!==0}function ef(n){return n.componentOffset>-1}function tf(n){return(n.flags&1)===1}function Qi(n){return!!n.template}function Wg(n){return(n[Y]&512)!==0}var Kg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function gT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ai(){return yT}function yT(n){return n.type.prototype.ngOnChanges&&(n.setInput=tO),eO}ai.ngInherit=!0;function eO(){let n=CT(this),e=n?.current;if(e){let t=n.previous;if(t===Ra)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function tO(n,e,t,r,i){let o=this.declaredInputs[r],s=CT(n)||nO(n,{previous:Ra,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Kg(l&&l.currentValue,t,c===Ra),gT(n,e,i,t)}var vT="__ngSimpleChanges__";function CT(n){return n[vT]||null}function nO(n,e){return n[vT]=e}var lI=null;var wr=function(n,e,t){lI?.(n,e,t)},ET="svg",rO="math";function Sr(n){for(;Array.isArray(n);)n=n[oi];return n}function _T(n,e){return Sr(e[n])}function Un(n,e){return Sr(e[n.index])}function wT(n,e){return n.data[e]}function IT(n,e){return n[e]}function Ji(n,e){let t=e[n];return Wi(t)?t:t[oi]}function iO(n){return(n[Y]&4)===4}function rv(n){return(n[Y]&128)===128}function oO(n){return si(n[Ut])}function ka(n,e){return e==null?null:n[e]}function TT(n){n[Sa]=0}function bT(n){n[Y]&1024||(n[Y]|=1024,rv(n)&&rf(n))}function sO(n,e){for(;n>0;)e=e[Ba],n--;return e}function nf(n){return!!(n[Y]&9216||n[Ln]?.dirty)}function Qg(n){n[br].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),nf(n)&&rf(n)}function rf(n){n[br].changeDetectionScheduler?.notify(0);let e=Jo(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!rv(e)));)e=Jo(e)}function ST(n,e){if((n[Y]&256)===256)throw new D(911,!1);n[Gi]===null&&(n[Gi]=[]),n[Gi].push(e)}function aO(n,e){if(n[Gi]===null)return;let t=n[Gi].indexOf(e);t!==-1&&n[Gi].splice(t,1)}function Jo(n){let e=n[Ut];return si(e)?e[Ut]:e}var ce={lFrame:kT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var AT=!1;function cO(){return ce.lFrame.elementDepthCount}function lO(){ce.lFrame.elementDepthCount++}function uO(){ce.lFrame.elementDepthCount--}function DT(){return ce.bindingsEnabled}function MT(){return ce.skipHydrationRootTNode!==null}function dO(n){return ce.skipHydrationRootTNode===n}function hO(){ce.skipHydrationRootTNode=null}function le(){return ce.lFrame.lView}function ot(){return ce.lFrame.tView}function ve(n){return ce.lFrame.contextLView=n,n[lr]}function Ce(n){return ce.lFrame.contextLView=null,n}function Vt(){let n=RT();for(;n!==null&&n.type===64;)n=n.parent;return n}function RT(){return ce.lFrame.currentTNode}function fO(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function os(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function iv(){return ce.lFrame.isParent}function ov(){ce.lFrame.isParent=!1}function pO(){return ce.lFrame.contextLView}function NT(){return AT}function uI(n){AT=n}function ss(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mO(){return ce.lFrame.bindingIndex}function gO(n){return ce.lFrame.bindingIndex=n}function of(){return ce.lFrame.bindingIndex++}function sv(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yO(){return ce.lFrame.inI18n}function vO(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yg(e)}function CO(){return ce.lFrame.currentDirectiveIndex}function Yg(n){ce.lFrame.currentDirectiveIndex=n}function EO(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function OT(){return ce.lFrame.currentQueryIndex}function av(n){ce.lFrame.currentQueryIndex=n}function _O(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function xT(n,e,t){if(t&me.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&me.Host);)if(i=_O(o),i===null||(o=o[Ba],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=PT();return r.currentTNode=e,r.lView=n,!0}function cv(n){let e=PT(),t=n[de];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function PT(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?kT(n):e}function kT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function LT(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var FT=LT;function lv(){let n=LT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wO(n){return(ce.lFrame.contextLView=sO(n,ce.lFrame.contextLView))[lr]}function Xi(){return ce.lFrame.selectedIndex}function Xo(n){ce.lFrame.selectedIndex=n}function uv(){let n=ce.lFrame;return wT(n.tView,n.selectedIndex)}function ln(){ce.lFrame.currentNamespace=ET}function UT(){IO()}function IO(){ce.lFrame.currentNamespace=null}function TO(){return ce.lFrame.currentNamespace}var VT=!0;function sf(){return VT}function af(n){VT=n}function bO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=yT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ch(n,e,t){HT(n,e,3,t)}function Eh(n,e,t,r){(n[Y]&3)===t&&HT(n,e,t,r)}function Mg(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function HT(n,e,t,r){let i=r!==void 0?n[Sa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Sa]+=65536),(a<o||o==-1)&&(SO(n,t,e,c),n[Sa]=(n[Sa]&4294901760)+c+2),c++}function dI(n,e){wr(4,n,e);let t=Ne(null);try{e.call(n)}finally{Ne(t),wr(5,n,e)}}function SO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[Sa]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,dI(a,o)):dI(a,o)}var Ma=-1,es=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function AO(n){return n instanceof es}function DO(n){return(n.flags&8)!==0}function MO(n){return(n.flags&16)!==0}var Rg={},Zg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qh(r);let i=this.injector.get(e,Rg,r);return i!==Rg||t===Rg?i:this.parentInjector.get(e,t,r)}};function BT(n){return n!==Ma}function Nh(n){return n&32767}function RO(n){return n>>16}function Oh(n,e){let t=RO(n),r=e;for(;t>0;)r=r[Ba],t--;return r}var Jg=!0;function xh(n){let e=Jg;return Jg=n,e}var NO=256,jT=NO-1,$T=5,OO=0,Ir={};function xO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(wl)&&(r=t[wl]),r==null&&(r=t[wl]=OO++);let i=r&jT,o=1<<i;e.data[n+(i>>$T)]|=o}function Ph(n,e){let t=qT(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,Ng(r.data,n),Ng(e,null),Ng(r.blueprint,null));let i=dv(n,e),o=n.injectorIndex;if(BT(i)){let s=Nh(i),a=Oh(i,e),c=a[de].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ng(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function dv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=QT(i),r===null)return Ma;if(t++,i=i[Ba],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ma}function Xg(n,e,t){xO(n,e,t)}function zT(n,e,t){if(t&me.Optional||n!==void 0)return n;Qy(e,"NodeInjector")}function GT(n,e,t,r){if(t&me.Optional&&r===void 0&&(r=null),!(t&(me.Self|me.Host))){let i=n[xa],o=rn(void 0);try{return i?i.get(e,r,t&me.Optional):QI(e,r,t&me.Optional)}finally{rn(o)}}return zT(r,e,t)}function WT(n,e,t,r=me.Default,i){if(n!==null){if(e[Y]&2048&&!(r&me.Self)){let s=FO(n,e,t,r,Ir);if(s!==Ir)return s}let o=KT(n,e,t,r,Ir);if(o!==Ir)return o}return GT(e,t,r,i)}function KT(n,e,t,r,i){let o=kO(t);if(typeof o=="function"){if(!xT(e,n,r))return r&me.Host?zT(i,t,r):GT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))Qy(t);else return s}finally{FT()}}else if(typeof o=="number"){let s=null,a=qT(n,e),c=Ma,l=r&me.Host?e[Fn][cn]:null;for((a===-1||r&me.SkipSelf)&&(c=a===-1?dv(n,e):e[a+8],c===Ma||!fI(r,!1)?a=-1:(s=e[de],a=Nh(c),e=Oh(c,e)));a!==-1;){let u=e[de];if(hI(o,a,u.data)){let d=PO(a,e,t,s,r,l);if(d!==Ir)return d}c=e[a+8],c!==Ma&&fI(r,e[de].data[a+8]===l)&&hI(o,a,e)?(s=u,a=Nh(c),e=Oh(c,e)):a=-1}}return i}function PO(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],c=r==null?ef(a)&&Jg:r!=s&&(a.type&3)!==0,l=i&me.Host&&o===a,u=_h(a,s,t,c,l);return u!==null?ts(e,s,u,a):Ir}function _h(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let p=d;p<f;p++){let g=s[p];if(p<c&&t===g||p>=c&&g.type===t)return p}if(i){let p=s[c];if(p&&Qi(p)&&p.type===t)return c}return null}function ts(n,e,t,r){let i=n[t],o=e.data;if(AO(i)){let s=i;s.resolving&&lN(cN(o[t]));let a=xh(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?rn(s.injectImpl):null,u=xT(n,r,me.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&bO(t,o[t],e)}finally{l!==null&&rn(l),xh(a),s.resolving=!1,FT()}}return i}function kO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wl)?n[wl]:void 0;return typeof e=="number"?e>=0?e&jT:LO:e}function hI(n,e,t){let r=1<<n;return!!(t[e+(n>>$T)]&r)}function fI(n,e){return!(n&me.Self)&&!(n&me.Host&&e)}var Go=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return WT(this._tNode,this._lView,e,Qh(r),t)}};function LO(){return new Go(Vt(),le())}function Rt(n){return Ol(()=>{let e=n.prototype.constructor,t=e[Th]||ey(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Th]||ey(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ey(n){return $I(n)?()=>{let e=ey(zt(n));return e&&e()}:Ko(n)}function FO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=KT(o,s,t,r|me.Self,Ir);if(a!==Ir)return a;let c=o.parent;if(!c){let l=s[pT];if(l){let u=l.get(t,Ir,r);if(u!==Ir)return u}c=QT(s),s=s[Ba]}o=c}return i}function QT(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function pI(n,e=null,t=null,r){let i=YT(n,e,t,r);return i.resolveInjectorInitializers(),i}function YT(n,e=null,t=null,r,i=new Set){let o=[t||on,BN(n)];return r=r||(typeof n=="object"?void 0:Gt(n)),new Sl(o,e||tv(),r||null,i)}var ni=class n{static{this.THROW_IF_NOT_FOUND=Tl}static{this.NULL=new Ah}static create(e,t){if(Array.isArray(e))return pI({name:""},t,e,"");{let r=e.name??"";return pI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=F({token:n,providedIn:"any",factory:()=>k(JI)})}static{this.__NG_ELEMENT_ID__=-1}};var UO=new B("");UO.__NG_ELEMENT_ID__=n=>{let e=Vt();if(e===null)throw new D(204,!1);if(e.type&2)return e.value;if(n&me.Optional)return null;throw new D(204,!1)};var VO="ngOriginalError";function Og(n){return n[VO]}var ZT=!0,hv=(()=>{class n{static{this.__NG_ELEMENT_ID__=HO}static{this.__NG_ENV_ID__=t=>t}}return n})(),ty=class extends hv{constructor(e){super(),this._lView=e}onDestroy(e){return ST(this._lView,e),()=>aO(this._lView,e)}};function HO(){return new ty(le())}var Nr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}}return n})();var ny=class extends Ve{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,fT()&&(this.destroyRef=A(hv,{optional:!0})??void 0,this.pendingTasks=A(Nr,{optional:!0})??void 0)}emit(e){let t=Ne(null);try{super.next(e)}finally{Ne(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof dt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Te=ny;function kh(...n){}function JT(n){let e,t;function r(){n=kh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function mI(n){return queueMicrotask(()=>n()),()=>{n=kh}}var fv="isAngularZone",Lh=fv+"_ID",BO=0,He=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ZT}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jO,kh,kh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},jO={};function pv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $O(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){JT(()=>{n.callbackScheduled=!1,ry(n),n.isCheckStableRunning=!0,pv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ry(n)}function qO(n){let e=()=>{$O(n)},t=BO++;n._inner=n._inner.fork({name:"angular",properties:{[fv]:!0,[Lh]:t,[Lh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(zO(c))return r.invokeTask(o,s,a,c);try{return gI(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),yI(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return gI(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!GO(c)&&e(),yI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ry(n),pv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ry(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function gI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yI(n){n._nesting--,pv(n)}var iy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function zO(n){return XT(n,"__ignore_ng_zone__")}function GO(n){return XT(n,"__scheduler_tick__")}function XT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ar=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Og(e);for(;t&&Og(t);)t=Og(t);return t||null}},WO=new B("",{providedIn:"root",factory:()=>{let n=A(He),e=A(Ar);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function KO(){return ja(Vt(),le())}function ja(n,e){return new Qe(Un(n,e))}var Qe=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=KO}}return n})();function QO(n){return n instanceof Qe?n.nativeElement:n}function YO(){return this._results[Symbol.iterator]()}var oy=class n{get changes(){return this._changes??=new Te}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=YO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=EN(e);(this._changesDetected=!CN(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function eb(n){return(n.flags&128)===128}var tb=new Map,ZO=0;function JO(){return ZO++}function XO(n){tb.set(n[Xh],n)}function sy(n){tb.delete(n[Xh])}var vI="__ngContext__";function Yi(n,e){Wi(e)?(n[vI]=e[Xh],XO(e)):n[vI]=e}function nb(n){return ib(n[Dl])}function rb(n){return ib(n[cr])}function ib(n){for(;n!==null&&!si(n);)n=n[cr];return n}var ay;function ob(n){ay=n}function sb(){if(ay!==void 0)return ay;if(typeof document<"u")return document;throw new D(210,!1)}var mv=new B("",{providedIn:"root",factory:()=>ex}),ex="ng",gv=new B(""),un=new B("",{providedIn:"platform",factory:()=>"unknown"});var yv=new B(""),vv=new B("",{providedIn:"root",factory:()=>sb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tx="h",nx="b";var rx=()=>null;function Cv(n,e,t=!1){return rx(n,e,t)}var ab=!1,ix=new B("",{providedIn:"root",factory:()=>ab});var dh;function ox(){if(dh===void 0&&(dh=null,Il.trustedTypes))try{dh=Il.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dh}function lf(n){return ox()?.createHTML(n)||n}var hh;function sx(){if(hh===void 0&&(hh=null,Il.trustedTypes))try{hh=Il.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hh}function CI(n){return sx()?.createHTML(n)||n}var ri=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BI})`}},cy=class extends ri{getTypeName(){return"HTML"}},ly=class extends ri{getTypeName(){return"Style"}},uy=class extends ri{getTypeName(){return"Script"}},dy=class extends ri{getTypeName(){return"URL"}},hy=class extends ri{getTypeName(){return"ResourceURL"}};function Vn(n){return n instanceof ri?n.changingThisBreaksApplicationSecurity:n}function eo(n,e){let t=ax(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${BI})`)}return t===e}function ax(n){return n instanceof ri&&n.getTypeName()||null}function cb(n){return new cy(n)}function lb(n){return new ly(n)}function ub(n){return new uy(n)}function db(n){return new dy(n)}function hb(n){return new hy(n)}function cx(n){let e=new py(n);return lx()?new fy(e):e}var fy=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(lf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},py=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=lf(e),t}};function lx(){try{return!!new window.DOMParser().parseFromString(lf(""),"text/html")}catch{return!1}}var ux=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uf(n){return n=String(n),n.match(ux)?n:"unsafe:"+n}function ci(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function kl(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var fb=ci("area,br,col,hr,img,wbr"),pb=ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mb=ci("rp,rt"),dx=kl(mb,pb),hx=kl(pb,ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fx=kl(mb,ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),EI=kl(fb,hx,fx,dx),gb=ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),px=ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mx=ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gx=kl(gb,px,mx),yx=ci("script,style,template"),my=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=Ex(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Cx(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=_I(e).toLowerCase();if(!EI.hasOwnProperty(t))return this.sanitizedSomething=!0,!yx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!gx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;gb[a]&&(c=uf(c)),this.buf.push(" ",s,'="',wI(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=_I(e).toLowerCase();EI.hasOwnProperty(t)&&!fb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wI(e))}};function vx(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Cx(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw yb(e);return e}function Ex(n){let e=n.firstChild;if(e&&vx(n,e))throw yb(e);return e}function _I(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function yb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var _x=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wx=/([^\#-~ |!])/g;function wI(n){return n.replace(/&/g,"&amp;").replace(_x,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(wx,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var fh;function Ev(n,e){let t=null;try{fh=fh||cx(n);let r=e?String(e):"";t=fh.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=fh.getInertBodyElement(r)}while(r!==o);let a=new my().sanitizeChildren(II(t)||t);return lf(a)}finally{if(t){let r=II(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function II(n){return"content"in n&&Ix(n)?n.content:null}function Ix(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Or=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Or||{});function vb(n){let e=Cb();return e?CI(e.sanitize(Or.HTML,n)||""):eo(n,"HTML")?CI(Vn(n)):Ev(sb(),Wo(n))}function as(n){let e=Cb();return e?e.sanitize(Or.URL,n)||"":eo(n,"URL")?Vn(n):uf(Wo(n))}function Cb(){let n=le();return n&&n[br].sanitizer}var Tx=/^>|^->|<!--|-->|--!>|<!-$/g,bx=/(<|>)/g,Sx="\u200B$1\u200B";function Ax(n){return n.replace(Tx,e=>e.replace(bx,Sx))}function Eb(n){return n.ownerDocument}function _b(n){return n instanceof Function?n():n}var Dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Dr||{}),Dx;function _v(n,e){return Dx(n,e)}function Aa(n,e,t,r,i){if(r!=null){let o,s=!1;si(r)?o=r:Wi(r)&&(s=!0,r=r[oi]);let a=Sr(r);n===0&&t!==null?i==null?Ab(e,t,a):Fh(e,t,a,i||null,!0):n===1&&t!==null?Fh(e,t,a,i||null,!0):n===2?jx(e,a,s):n===3&&e.destroyNode(a),o!=null&&qx(e,n,o,t,i)}}function Mx(n,e){return n.createText(e)}function Rx(n,e,t){n.setValue(e,t)}function Nx(n,e){return n.createComment(Ax(e))}function wb(n,e,t){return n.createElement(e,t)}function Ox(n,e){Ib(n,e),e[oi]=null,e[cn]=null}function xx(n,e,t,r,i,o){r[oi]=i,r[cn]=e,hf(n,r,t,1,i,o)}function Ib(n,e){e[br].changeDetectionScheduler?.notify(9),hf(n,e,e[tt],2,null,null)}function Px(n){let e=n[Dl];if(!e)return xg(n[de],n);for(;e;){let t=null;if(Wi(e))t=e[Dl];else{let r=e[Tn];r&&(t=r)}if(!t){for(;e&&!e[cr]&&e!==n;)Wi(e)&&xg(e[de],e),e=e[Ut];e===null&&(e=n),Wi(e)&&xg(e[de],e),t=e&&e[cr]}e=t}}function kx(n,e,t,r){let i=Tn+r,o=t.length;r>0&&(t[i-1][cr]=e),r<o-Tn?(e[cr]=t[i],ZI(t,Tn+r,e)):(t.push(e),e[cr]=null),e[Ut]=t;let s=e[Yo];s!==null&&t!==s&&Tb(s,e);let a=e[ti];a!==null&&a.insertView(n),Qg(e),e[Y]|=128}function Tb(n,e){let t=n[Pa],r=e[Ut];if(Wi(r))n[Y]|=Rh.HasTransplantedViews;else{let i=r[Ut][Fn];e[Fn]!==i&&(n[Y]|=Rh.HasTransplantedViews)}t===null?n[Pa]=[e]:t.push(e)}function wv(n,e){let t=n[Pa],r=t.indexOf(e);t.splice(r,1)}function gy(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t];if(r){let i=r[Yo];i!==null&&i!==n&&wv(i,r),e>0&&(n[t-1][cr]=r[cr]);let o=Sh(n,Tn+e);Ox(r[de],r);let s=o[ti];s!==null&&s.detachView(o[de]),r[Ut]=null,r[cr]=null,r[Y]&=-129}return r}function bb(n,e){if(!(e[Y]&256)){let t=e[tt];t.destroyNode&&hf(n,e,t,3,null,null),Px(e)}}function xg(n,e){if(e[Y]&256)return;let t=Ne(null);try{e[Y]&=-129,e[Y]|=256,e[Ln]&&Fd(e[Ln]),Fx(n,e),Lx(n,e),e[de].type===1&&e[tt].destroy();let r=e[Yo];if(r!==null&&si(e[Ut])){r!==e[Ut]&&wv(r,e);let i=e[ti];i!==null&&i.detachView(n)}sy(e)}finally{Ne(t)}}function Lx(n,e){let t=n.cleanup,r=e[Dh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Dh]=null);let i=e[Gi];if(i!==null){e[Gi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Fx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof es)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];wr(4,a,c);try{c.call(a)}finally{wr(5,a,c)}}else{wr(4,i,o);try{o.call(i)}finally{wr(5,i,o)}}}}}function Sb(n,e,t){return Ux(n,e.parent,t)}function Ux(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[oi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Tr.None||o===Tr.Emulated)return null}return Un(r,t)}}function Fh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Ab(n,e,t){n.appendChild(e,t)}function TI(n,e,t,r,i){r!==null?Fh(n,e,t,r,i):Ab(n,e,t)}function Db(n,e){return n.parentNode(e)}function Vx(n,e){return n.nextSibling(e)}function Mb(n,e,t){return Bx(n,e,t)}function Hx(n,e,t){return n.type&40?Un(n,t):null}var Bx=Hx,bI;function df(n,e,t,r){let i=Sb(n,r,e),o=e[tt],s=r.parent||e[cn],a=Mb(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)TI(o,i,t[c],a,!1);else TI(o,i,t,a,!1);bI!==void 0&&bI(o,r,e,t,i)}function El(n,e){if(e!==null){let t=e.type;if(t&3)return Un(e,n);if(t&4)return yy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return El(n,r);{let i=n[e.index];return si(i)?yy(-1,i):Sr(i)}}else{if(t&128)return El(n,e.next);if(t&32)return _v(e,n)()||Sr(n[e.index]);{let r=Rb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jo(n[Fn]);return El(i,r)}else return El(n,e.next)}}}return null}function Rb(n,e){if(e!==null){let r=n[Fn][cn],i=e.projection;return r.projection[i]}return null}function yy(n,e){let t=Tn+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return El(r,i)}return e[Zo]}function jx(n,e,t){n.removeChild(null,e,t)}function Iv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Yi(Sr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Iv(n,e,t.child,r,i,o,!1),Aa(e,n,i,a,o);else if(c&32){let l=_v(t,r),u;for(;u=l();)Aa(e,n,i,u,o);Aa(e,n,i,a,o)}else c&16?Nb(n,e,r,t,i,o):Aa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function hf(n,e,t,r,i,o){Iv(t,r,n.firstChild,e,i,o,!1)}function $x(n,e,t){let r=e[tt],i=Sb(n,t,e),o=t.parent||e[cn],s=Mb(o,t,e);Nb(r,0,e,t,i,s)}function Nb(n,e,t,r,i,o){let s=t[Fn],c=s[cn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Aa(e,n,i,u,o)}else{let l=c,u=s[Ut];eb(r)&&(l.flags|=128),Iv(n,e,l,u,i,o,!0)}}function qx(n,e,t,r,i){let o=t[Zo],s=Sr(t);o!==s&&Aa(e,n,r,o,i);for(let a=Tn;a<t.length;a++){let c=t[a];hf(c[de],c,n,e,r,o)}}function zx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dr.Important),n.setStyle(t,r,i,o))}}function Gx(n,e,t){n.setAttribute(e,"style",t)}function Ob(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&$g(n,e,r),i!==null&&Ob(n,e,i),o!==null&&Gx(n,e,o)}var Hn={};function _(n=1){Pb(ot(),le(),Xi()+n,!1)}function Pb(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ch(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Eh(e,o,0,t)}Xo(t)}function M(n,e=me.Default){let t=le();if(t===null)return k(n,e);let r=Vt();return WT(r,t,zt(n),e)}function kb(n,e,t,r,i,o){let s=Ne(null);try{let a=null;i&Ki.SignalBased&&(a=e[r][Er]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ki.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):gT(e,a,r,o)}finally{Ne(s)}}function Wx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Xo(~i);else{let o=i,s=t[++r],a=t[++r];vO(s,o);let c=e[o];a(2,c)}}}finally{Xo(-1)}}function ff(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[oi]=i,d[Y]=r|4|128|8|64,(l!==null||n&&n[Y]&2048)&&(d[Y]|=2048),TT(d),d[Ut]=d[Ba]=n,d[lr]=t,d[br]=s||n&&n[br],d[tt]=a||n&&n[tt],d[xa]=c||n&&n[xa]||null,d[cn]=o,d[Xh]=JO(),d[Al]=u,d[pT]=l,d[Fn]=e.type==2?n[Fn]:d,d}function $a(n,e,t,r,i){let o=n.data[e];if(o===null)o=Kx(n,e,t,r,i),yO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fO();o.injectorIndex=s===null?-1:s.injectorIndex}return os(o,!0),o}function Kx(n,e,t,r,i){let o=RT(),s=iv(),a=s?o:o&&o.parent,c=n.data[e]=eP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Lb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fb(n,e,t,r,i){let o=Xi(),s=r&2;try{Xo(-1),s&&e.length>an&&Pb(n,e,an,!1),wr(s?2:0,i),t(r,i)}finally{Xo(o),wr(s?3:1,i)}}function Tv(n,e,t){if(nv(e)){let r=Ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ne(r)}}}function bv(n,e,t){DT()&&(sP(n,e,t,Un(t,e)),(t.flags&64)===64&&Bb(n,e,t))}function Sv(n,e,t=Un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Ub(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Av(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Av(n,e,t,r,i,o,s,a,c,l,u){let d=an+r,f=d+i,p=Qx(d,f),g=typeof l=="function"?l():l;return p[de]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Qx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hn);return t}function Yx(n,e,t,r){let o=r.get(ix,ab)||t===Tr.ShadowDom,s=n.selectRootElement(e,o);return Zx(s),s}function Zx(n){Jx(n)}var Jx=()=>null;function Xx(n,e,t,r){let i=qb(e);i.push(t),n.firstCreatePass&&zb(n).push(r,i.length-1)}function eP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return MT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function SI(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ki.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?AI(r,t,l,a,c):AI(r,t,l,a)}return r}function AI(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function tP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=t?t.get(d):null,p=f?f.inputs:null,g=f?f.outputs:null;c=SI(0,d.inputs,u,c,p),l=SI(1,d.outputs,u,l,g);let v=c!==null&&s!==null&&!Jy(e)?yP(c,u,s):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function nP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Vb(n,e,t,r,i,o,s,a){let c=Un(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Mv(n,t,u,r,i),ef(e)&&rP(t,e.index)):e.type&3?(r=nP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function rP(n,e){let t=Ji(e,n);t[Y]&16||(t[Y]|=64)}function Dv(n,e,t,r){if(DT()){let i=r===null?null:{"":-1},o=cP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hb(n,e,t,s,i,a),i&&lP(t,r,i)}t.mergedAttrs=bl(t.mergedAttrs,t.attrs)}function Hb(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Xg(Ph(t,e),n,r[l].type);dP(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Lb(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=bl(t.mergedAttrs,u.hostAttrs),hP(n,t,e,c,u),uP(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}tP(n,t,o)}function iP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;oP(s)!=a&&s.push(a),s.push(t,r,o)}}function oP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sP(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ef(t)&&fP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ph(t,e),Yi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=ts(e,n,a,t);if(Yi(l,e),s!==null&&gP(e,a-i,l,c,t,s),Qi(c)){let u=Ji(t.index,e);u[lr]=ts(e,n,a,t)}}}function Bb(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=CO();try{Xo(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Yg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&aP(c,l)}}finally{Xo(-1),Yg(s)}}function aP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function cP(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(nT(e,s.selectors,!1))if(r||(r=[]),Qi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;vy(n,e,c)}else r.unshift(s),vy(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function vy(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function lP(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new D(-301,!1);r.push(e[i],o)}}}function uP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qi(e)&&(t[""]=n)}}function dP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ko(i.type,!0)),s=new es(o,Qi(i),M);n.blueprint[r]=s,t[r]=s,iP(n,e,r,Lb(n,t,i.hostVars,Hn),i)}function fP(n,e,t){let r=Un(e,n),i=Ub(t),o=n[br].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=pf(n,ff(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function pP(n,e,t,r,i,o){let s=Un(n,e);mP(e[tt],s,o,n.value,t,r,i)}function mP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Wo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function gP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];kb(r,t,c,l,u,d)}}function yP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function jb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function $b(n,e){let t=n.contentQueries;if(t!==null){let r=Ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];av(o),a.contentQueries(2,e[s],s)}}}finally{Ne(r)}}}function pf(n,e){return n[Dl]?n[cI][cr]=e:n[Dl]=e,n[cI]=e,e}function Cy(n,e,t){av(0);let r=Ne(null);try{e(n,t)}finally{Ne(r)}}function qb(n){return n[Dh]??=[]}function zb(n){return n.cleanup??=[]}function Gb(n,e){let t=n[xa],r=t?t.get(Ar,null):null;r&&r.handleError(e)}function Mv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];kb(u,l,r,a,c,i)}}function Wb(n,e,t){let r=_T(e,n);Rx(n[tt],r,t)}function vP(n,e){let t=Ji(e,n),r=t[de];CP(r,t);let i=t[oi];i!==null&&t[Al]===null&&(t[Al]=Cv(i,t[xa])),Rv(r,t,t[lr])}function CP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Rv(n,e,t){cv(e);try{let r=n.viewQuery;r!==null&&Cy(1,r,t);let i=n.template;i!==null&&Fb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ti]?.finishViewCreation(n),n.staticContentQueries&&$b(n,e),n.staticViewQueries&&Cy(2,n.viewQuery,t);let o=n.components;o!==null&&EP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,lv()}}function EP(n,e){for(let t=0;t<e.length;t++)vP(n,e[t])}function Kb(n,e,t,r){let i=Ne(null);try{let o=e.tView,a=n[Y]&4096?4096:16,c=ff(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Yo]=l;let u=n[ti];return u!==null&&(c[ti]=u.createEmbeddedView(o)),Rv(o,c,t),c}finally{Ne(i)}}function Ey(n,e){return!e||e.firstChild===null||eb(n)}function Qb(n,e,t,r=!0){let i=e[de];if(kx(i,e,n,t),r){let s=yy(t,n),a=e[tt],c=Db(a,n[Zo]);c!==null&&xx(i,n[cn],a,e,c,s)}let o=e[Al];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Uh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sr(o)),si(o)&&_P(o,r);let s=t.type;if(s&8)Uh(n,e,t.child,r);else if(s&32){let a=_v(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Rb(e,t);if(Array.isArray(a))r.push(...a);else{let c=Jo(e[Fn]);Uh(c[de],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _P(n,e){for(let t=Tn;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Uh(r[de],r,i,e)}n[Zo]!==n[oi]&&e.push(n[Zo])}var Yb=[];function wP(n){return n[Ln]??IP(n)}function IP(n){let e=Yb.pop()??Object.create(bP);return e.lView=n,e}function TP(n){n.lView[Ln]!==n&&(n.lView=null,Yb.push(n))}var bP=R(y({},pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{rf(n.lView)},consumerOnSignalRead(){this.lView[Ln]=this}});function SP(n){let e=n[Ln]??Object.create(AP);return e.lView=n,e}var AP=R(y({},pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Jo(n.lView);for(;e&&!Zb(e[de]);)e=Jo(e);e&&bT(e)},consumerOnSignalRead(){this.lView[Ln]=this}});function Zb(n){return n.type!==2}var DP=100;function Jb(n,e=!0,t=0){let r=n[br],i=r.rendererFactory,o=!1;o||i.begin?.();try{MP(n,t)}catch(s){throw e&&Gb(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function MP(n,e){let t=NT();try{uI(!0),_y(n,e);let r=0;for(;nf(n);){if(r===DP)throw new D(103,!1);r++,_y(n,1)}}finally{uI(t)}}function RP(n,e,t,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[br].inlineEffectRunner?.flush(),cv(e);let a=!0,c=null,l=null;o||(Zb(n)?(l=wP(e),c=gl(l)):pw()===null?(a=!1,l=SP(e),c=gl(l)):e[Ln]&&(Fd(e[Ln]),e[Ln]=null));try{TT(e),gO(n.bindingStartIndex),t!==null&&Fb(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&Ch(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Eh(e,p,0,null),Mg(e,0)}if(s||NP(e),Xb(e,0),n.contentQueries!==null&&$b(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&Ch(e,p)}else{let p=n.contentHooks;p!==null&&Eh(e,p,1),Mg(e,1)}Wx(n,e);let d=n.components;d!==null&&tS(e,d,0);let f=n.viewQuery;if(f!==null&&Cy(2,f,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&Ch(e,p)}else{let p=n.viewHooks;p!==null&&Eh(e,p,2),Mg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[vh]){for(let p of e[vh])p();e[vh]=null}o||(e[Y]&=-73)}catch(u){throw o||rf(e),u}finally{l!==null&&(kd(l,c),a&&TP(l)),lv()}}function Xb(n,e){for(let t=nb(n);t!==null;t=rb(t))for(let r=Tn;r<t.length;r++){let i=t[r];eS(i,e)}}function NP(n){for(let e=nb(n);e!==null;e=rb(e)){if(!(e[Y]&Rh.HasTransplantedViews))continue;let t=e[Pa];for(let r=0;r<t.length;r++){let i=t[r];bT(i)}}}function OP(n,e,t){let r=Ji(e,n);eS(r,t)}function eS(n,e){rv(n)&&_y(n,e)}function _y(n,e){let r=n[de],i=n[Y],o=n[Ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ld(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)RP(r,n,r.template,n[lr]);else if(i&8192){Xb(n,1);let a=r.components;a!==null&&tS(n,a,1)}}function tS(n,e,t){for(let r=0;r<e.length;r++)OP(n,e[r],t)}function Nv(n,e){let t=NT()?64:1088;for(n[br].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=Jo(n);if(Wg(n)&&!r)return n;n=r}return null}var ns=class{get rootNodes(){let e=this._lView,t=e[de];return Uh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(e){this._lView[lr]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(si(e)){let t=e[Mh],r=t?t.indexOf(this):-1;r>-1&&(gy(e,r),Sh(t,r))}this._attachedToViewContainer=!1}bb(this._lView[de],this._lView)}onDestroy(e){ST(this._lView,e)}markForCheck(){Nv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Qg(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Jb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wg(this._lView),t=this._lView[Yo];t!==null&&!e&&wv(t,this._lView),Ib(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;let t=Wg(this._lView),r=this._lView[Yo];r!==null&&!t&&Tb(r,this._lView),Qg(this._lView)}},ii=(()=>{class n{static{this.__NG_ELEMENT_ID__=kP}}return n})(),xP=ii,PP=class extends xP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Kb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ns(i)}};function kP(){return mf(Vt(),le())}function mf(n,e){return n.type&4?new PP(e,n,ja(n,e)):null}var Gq=new RegExp(`^(\\d+)*(${nx}|${tx})*(.*)`);var LP=()=>null;function wy(n,e){return LP(n,e)}var La=class{},Ov=new B("",{providedIn:"root",factory:()=>!1});var nS=new B(""),rS=new B(""),Iy=class{},Vh=class{};function FP(n){let e=Error(`No component factory found for ${Gt(n)}.`);return e[UP]=n,e}var UP="ngComponent";var Ty=class{resolveComponentFactory(e){throw FP(e)}},Fa=class{static{this.NULL=new Ty}},Mr=class{},dn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>VP()}}return n})();function VP(){let n=le(),e=Vt(),t=Ji(e.index,n);return(Wi(t)?t:n)[tt]}var HP=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>null})}}return n})();function Hh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vg(i,a);else if(o==2){let c=a,l=e[++s];r=Vg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Bh=class extends Fa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qo(e);return new Ml(t,this.ngModule)}};function DI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ki.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ki.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function BP(n){let e=n.toLowerCase();return e==="svg"?ET:e==="math"?rO:null}var Ml=class extends Vh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=DI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return DI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ne(null);try{i=i||this.ngModule;let s=i instanceof sn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Zg(e,s):e,c=a.get(Mr,null);if(c===null)throw new D(407,!1);let l=a.get(HP,null),u=a.get(La,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?Yx(f,r,this.componentDef.encapsulation,a):wb(f,p,BP(p)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let S=null;g!==null&&(S=Cv(g,a,!0));let L=Av(0,null,null,1,0,null,null,null,null,null,null),G=ff(null,L,null,v,null,null,d,f,a,null,S);cv(G);let q,pe,$e=null;try{let ke=this.componentDef,Ge,bt=null;ke.findHostDirectiveDefs?(Ge=[],bt=new Map,ke.findHostDirectiveDefs(ke,Ge,bt),Ge.push(ke)):Ge=[ke];let Xr=jP(G,g);$e=$P(Xr,g,ke,Ge,G,d,f),pe=wT(L,an),g&&GP(f,ke,g,r),t!==void 0&&WP(pe,this.ngContentSelectors,t),q=zP($e,ke,Ge,bt,G,[KP]),Rv(L,G,null)}catch(ke){throw $e!==null&&sy($e),sy(G),ke}finally{lv()}return new by(this.componentType,q,ja(pe,G),G,pe)}finally{Ne(o)}}},by=class extends Iy{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ns(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Mv(o[de],o,i,e,t),this.previousInputValues.set(e,t);let s=Ji(this._tNode.index,o);Nv(s,1)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jP(n,e){let t=n[de],r=an;return n[r]=e,$a(t,r,2,"#host",null)}function $P(n,e,t,r,i,o,s){let a=i[de];qP(r,n,e,s);let c=null;e!==null&&(c=Cv(e,i[xa]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=ff(i,Ub(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&vy(a,n,r.length-1),pf(i,d),i[n.index]=d}function qP(n,e,t,r){for(let i of n)e.mergedAttrs=bl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Hh(e,e.mergedAttrs,!0),t!==null&&xb(r,t,e))}function zP(n,e,t,r,i,o){let s=Vt(),a=i[de],c=Un(s,i);Hb(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=ts(i,a,d,s);Yi(f,i)}Bb(a,i,s),c&&Yi(c,i);let l=ts(i,a,s.directiveStart+s.componentOffset,s);if(n[lr]=i[lr]=l,o!==null)for(let u of o)u(l,e);return Tv(a,s,i),l}function GP(n,e,t,r){if(r)$g(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=FN(e.selectors[0]);i&&$g(n,t,i),o&&o.length>0&&Ob(n,t,o.join(" "))}}function WP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function KP(){let n=Vt();cf(le()[de],n)}var li=(()=>{class n{static{this.__NG_ELEMENT_ID__=QP}}return n})();function QP(){let n=Vt();return oS(n,le())}var YP=li,iS=class extends YP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){let e=dv(this._hostTNode,this._hostLView);if(BT(e)){let t=Oh(e,this._hostLView),r=Nh(e),i=t[de].data[r+8];return new Go(i,t)}else return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=MI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ey(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!XN(e),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new Ml(Qo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(sn,null);v&&(o=v)}let u=Qo(c.componentType??{}),d=wy(this._lContainer,u?.id??null),f=d?.firstChild??null,p=c.create(l,i,f,o);return this.insertImpl(p.hostView,a,Ey(this._hostTNode,d)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ut],l=new iS(c,c[cn],c[Ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Qb(s,i,o,r),e.attachToViewContainerRef(),ZI(Pg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=MI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=gy(this._lContainer,t);r&&(Sh(Pg(this._lContainer),t),bb(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=gy(this._lContainer,t);return r&&Sh(Pg(this._lContainer),t)!=null?new ns(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function MI(n){return n[Mh]}function Pg(n){return n[Mh]||(n[Mh]=[])}function oS(n,e){let t,r=e[n.index];return si(r)?t=r:(t=jb(r,e,null,n),e[n.index]=t,pf(e,t)),JP(t,e,n,r),new iS(t,n,e)}function ZP(n,e){let t=n[tt],r=t.createComment(""),i=Un(e,n),o=Db(t,i);return Fh(t,o,r,Vx(t,i),!1),r}var JP=tk,XP=()=>!1;function ek(n,e,t){return XP(n,e,t)}function tk(n,e,t,r){if(n[Zo])return;let i;t.type&8?i=Sr(r):i=ZP(e,t),n[Zo]=i}var Sy=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ay=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)xv(e,t).matches!==null&&this.queries[t].setDirty()}},jh=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=lk(e):this.predicate=e}},Dy=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},My=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,nk(t,o)),this.matchTNodeWithReadOption(e,t,_h(t,e,o,!1,!1))}else r===ii?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_h(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qe||i===li||i===ii&&t.type&4)this.addMatch(t.index,-2);else{let o=_h(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function nk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function rk(n,e){return n.type&11?ja(n,e):n.type&4?mf(n,e):null}function ik(n,e,t,r){return t===-1?rk(e,n):t===-2?ok(n,e,r):ts(n,n[de],t,e)}function ok(n,e,t){if(t===Qe)return ja(e,n);if(t===ii)return mf(e,n);if(t===li)return oS(e,n)}function sS(n,e,t,r){let i=e[ti].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(ik(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Ry(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=sS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Tn;d<u.length;d++){let f=u[d];f[Yo]===f[Ut]&&Ry(f[de],f,l,r)}if(u[Pa]!==null){let d=u[Pa];for(let f=0;f<d.length;f++){let p=d[f];Ry(p[de],p,l,r)}}}}}return r}function sk(n,e){return n[ti].queries[e].queryList}function aS(n,e,t){let r=new oy((t&4)===4);return Xx(n,e,r,r.destroy),(e[ti]??=new Ay).queries.push(new Sy(r))-1}function ak(n,e,t){let r=ot();return r.firstCreatePass&&(cS(r,new jh(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),aS(r,le(),e)}function ck(n,e,t,r){let i=ot();if(i.firstCreatePass){let o=Vt();cS(i,new jh(e,t,r),o.index),uk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return aS(i,le(),t)}function lk(n){return n.split(",").map(e=>e.trim())}function cS(n,e,t){n.queries===null&&(n.queries=new Dy),n.queries.track(new My(e,t))}function uk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function xv(n,e){return n.queries.getByIndex(e)}function dk(n,e){let t=n[de],r=xv(t,e);return r.crossesNgTemplate?Ry(t,n,e,[]):sS(t,n,r,e)}var RI=new Set;function to(n){RI.has(n)||(RI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function hk(n){return typeof n=="function"&&n[Er]!==void 0}function ge(n,e){to("NgSignals");let t=Sw(n),r=t[Er];return e?.equal&&(r.equal=e.equal),t.set=i=>cg(r,i),t.update=i=>Aw(r,i),t.asReadonly=fk.bind(t),t}function fk(){let n=this[Er];if(n.readonlyFn===void 0){let e=()=>this();e[Er]=n,n.readonlyFn=e}return n.readonlyFn}function lS(n){return hk(n)&&typeof n.set=="function"}function pk(n){return Object.getPrototypeOf(n.prototype).constructor}function Dt(n){let e=pk(n.type),t=!0,r=[n];for(;e;){let i;if(Qi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ph(n.inputs),s.inputTransforms=ph(n.inputTransforms),s.declaredInputs=ph(n.declaredInputs),s.outputs=ph(n.outputs);let a=i.hostBindings;a&&Ck(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&yk(n,c),l&&vk(n,l),mk(n,i),eN(n.outputs,i.outputs),Qi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Dt&&(t=!1)}}e=Object.getPrototypeOf(e)}gk(r)}function mk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function gk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bl(i.hostAttrs,t=bl(t,i.hostAttrs))}}function ph(n){return n===Ra?{}:n===on?[]:n}function yk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function vk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Ck(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Nt(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Zi=class{},Rl=class{};var Ny=class extends Zi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);let o=sT(e);this._bootstrapComponents=_b(o.bootstrap),this._r3Injector=YT(e,t,[{provide:Zi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Oy=class extends Rl{constructor(e){super(),this.moduleType=e}create(e){return new Ny(this.moduleType,e,[])}};var $h=class extends Zi{constructor(e){super(),this.componentFactoryResolver=new Bh(this),this.instance=null;let t=new Sl([...e.providers,{provide:Zi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],e.parent||tv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pv(n,e,t=null){return new $h({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function uS(n){return kv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Ek(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function kv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qa(n,e,t){return n[e]=t}function dS(n,e){return n[e]}function Rr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Ua(n,e,t,r){let i=Rr(n,e,t);return Rr(n,e+1,r)||i}function _k(n,e,t,r,i){let o=Ua(n,e,t,r);return Rr(n,e+2,i)||o}function hS(n,e,t,r,i,o){let s=Ua(n,e,t,r);return Ua(n,e+2,i,o)||s}function wk(n){return(n.flags&32)===32}function Ik(n,e,t,r,i,o,s,a,c){let l=e.consts,u=$a(e,n,4,s||null,a||null);Dv(e,t,u,ka(l,c)),cf(e,u);let d=u.tView=Av(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function fS(n,e,t,r,i,o,s,a,c,l){let u=t+an,d=e.firstCreatePass?Ik(u,e,n,r,i,o,s,a,c):e.data[u];os(d,!1);let f=Tk(e,n,d,t);sf()&&df(e,n,f,d),Yi(f,n);let p=jb(f,n,f,d);return n[u]=p,pf(n,p),ek(p,d,n),tf(d)&&bv(e,n,d),c!=null&&Sv(n,d,l),d}function $(n,e,t,r,i,o,s,a){let c=le(),l=ot(),u=ka(l.consts,o);return fS(c,l,n,e,t,r,i,u,s,a),$}var Tk=bk;function bk(n,e,t,r){return af(!0),e[tt].createComment("")}var _l=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(_l||{}),Sk=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}}return n})(),NI=class n{constructor(){this.ngZone=A(He),this.scheduler=A(La),this.errorHandler=A(Ar,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[_l.EarlyRead,_l.Write,_l.MixedReadWrite,_l.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}};function H(n,e,t,r){let i=le(),o=of();if(Rr(i,o,e)){let s=ot(),a=uv();pP(a,i,n,e,t,r)}return H}function Ak(n,e,t,r){return Rr(n,of(),t)?e+Wo(t)+r:Hn}function Dk(n,e,t,r,i,o){let s=mO(),a=Ua(n,s,t,i);return sv(2),a?e+Wo(t)+r+Wo(i)+o:Hn}function mh(n,e){return n<<17|e<<2}function rs(n){return n>>17&32767}function Mk(n){return(n&2)==2}function Rk(n,e){return n&131071|e<<17}function xy(n){return n|2}function Va(n){return(n&131068)>>2}function kg(n,e){return n&-131069|e<<2}function Nk(n){return(n&1)===1}function Py(n){return n|1}function Ok(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=rs(s),c=Va(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||xl(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=rs(n[a+1]);n[r+1]=mh(f,a),f!==0&&(n[f+1]=kg(n[f+1],r)),n[a+1]=Rk(n[a+1],r)}else n[r+1]=mh(a,0),a!==0&&(n[a+1]=kg(n[a+1],r)),a=r;else n[r+1]=mh(c,0),a===0?a=r:n[c+1]=kg(n[c+1],r),c=r;l&&(n[r+1]=xy(n[r+1])),OI(n,u,r,!0),OI(n,u,r,!1),xk(e,u,n,r,o),s=mh(a,c),o?e.classBindings=s:e.styleBindings=s}function xk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xl(o,e)>=0&&(t[r+1]=Py(t[r+1]))}function OI(n,e,t,r){let i=n[t+1],o=e===null,s=r?rs(i):Va(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Pk(c,e)&&(a=!0,n[s+1]=r?Py(l):xy(l)),s=r?rs(l):Va(l)}a&&(n[t+1]=r?xy(i):Py(i))}function Pk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xl(n,e)>=0:!1}var Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pS(n){return n.substring(Ct.key,Ct.keyEnd)}function kk(n){return n.substring(Ct.value,Ct.valueEnd)}function Lk(n){return yS(n),mS(n,Ha(n,0,Ct.textEnd))}function mS(n,e){let t=Ct.textEnd;return t===e?-1:(e=Ct.keyEnd=Uk(n,Ct.key=e,t),Ha(n,e,t))}function Fk(n){return yS(n),gS(n,Ha(n,0,Ct.textEnd))}function gS(n,e){let t=Ct.textEnd,r=Ct.key=Ha(n,e,t);return t===r?-1:(r=Ct.keyEnd=Vk(n,r,t),r=xI(n,r,t,58),r=Ct.value=Ha(n,r,t),r=Ct.valueEnd=Hk(n,r,t),xI(n,r,t,59))}function yS(n){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=n.length}function Ha(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Uk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Vk(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function xI(n,e,t,r){return e=Ha(n,e,t),e<t&&e++,e}function Hk(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let c=n.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=PI(n,c,s,t):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=PI(n,41,s,t):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function PI(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function E(n,e,t){let r=le(),i=of();if(Rr(r,i,e)){let o=ot(),s=uv();Vb(o,s,r,n,e,r[tt],t,!1)}return E}function ky(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Mv(n,t,o[s],s,r)}function za(n,e){return $k(n,e,null,!0),za}function gf(n){vS(_S,Bk,n,!1)}function Bk(n,e){for(let t=Fk(e);t>=0;t=gS(e,t))_S(n,pS(e),kk(e))}function Ee(n){vS(Qk,jk,n,!0)}function jk(n,e){for(let t=Lk(e);t>=0;t=mS(e,t))Zh(n,pS(e),!0)}function $k(n,e,t,r){let i=le(),o=ot(),s=sv(2);if(o.firstUpdatePass&&ES(o,n,s,r),e!==Hn&&Rr(i,s,e)){let a=o.data[Xi()];wS(o,a,i,i[tt],n,i[s+1]=Zk(e,t),r,s)}}function vS(n,e,t,r){let i=ot(),o=sv(2);i.firstUpdatePass&&ES(i,null,o,r);let s=le();if(t!==Hn&&Rr(s,o,t)){let a=i.data[Xi()];if(IS(a,r)&&!CS(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Vg(c,t||"")),ky(i,a,s,t,r)}else Yk(i,a,s,s[tt],s[o+1],s[o+1]=Kk(n,e,t),r,o)}}function CS(n,e){return e>=n.expandoStartIndex}function ES(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Xi()],s=CS(n,t);IS(o,r)&&e===null&&!s&&(e=!1),e=qk(i,o,e,r),Ok(i,o,e,t,s,r)}}function qk(n,e,t,r){let i=EO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Lg(null,n,e,t,r),t=Nl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Lg(i,n,e,t,r),o===null){let c=zk(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Lg(null,n,e,c[1],r),c=Nl(c,e.attrs,r),Gk(n,e,r,c))}else o=Wk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function zk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Va(r)!==0)return n[rs(r)]}function Gk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[rs(i)]=r}function Wk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Nl(r,s,t)}return Nl(r,e.attrs,t)}function Lg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Nl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Nl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Zh(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Kk(n,e,t){if(t==null||t==="")return on;let r=[],i=Vn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function _S(n,e,t){Zh(n,e,Vn(t))}function Qk(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Zh(n,r,t)}function Yk(n,e,t,r,i,o,s,a){i===Hn&&(i=on);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,g=null,v;u===d?(c+=2,l+=2,f!==p&&(g=d,v=p)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,v=p),g!==null&&wS(n,e,t,r,g,v,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function wS(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=Nk(l)?kI(c,e,t,i,Va(l),s):void 0;if(!qh(u)){qh(o)||Mk(l)&&(o=kI(c,null,t,i,a,s));let d=_T(Xi(),t);zx(r,s,d,i,o)}}function kI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=t[i+1];f===Hn&&(f=d?on:void 0);let p=d?Ag(f,r):u===r?f:void 0;if(l&&!qh(p)&&(p=Ag(c,r)),qh(p)&&(a=p,s))return a;let g=n[i+1];i=s?rs(g):Va(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ag(c,r))}return a}function qh(n){return n!==void 0}function Zk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Gt(Vn(n)))),n}function IS(n,e){return(n.flags&(e?8:16))!==0}function Jk(n,e,t,r,i,o){let s=e.consts,a=ka(s,i),c=$a(e,n,2,r,a);return Dv(e,t,c,ka(s,o)),c.attrs!==null&&Hh(c,c.attrs,!1),c.mergedAttrs!==null&&Hh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function I(n,e,t,r){let i=le(),o=ot(),s=an+n,a=i[tt],c=o.firstCreatePass?Jk(s,o,i,e,t,r):o.data[s],l=Xk(o,i,c,a,e,n);i[s]=l;let u=tf(c);return os(c,!0),xb(a,l,c),!wk(c)&&sf()&&df(o,i,l,c),cO()===0&&Yi(l,i),lO(),u&&(bv(o,i,c),Tv(o,c,i)),r!==null&&Sv(i,c),I}function T(){let n=Vt();iv()?ov():(n=n.parent,os(n,!1));let e=n;dO(e)&&hO(),uO();let t=ot();return t.firstCreatePass&&(cf(t,n),nv(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&DO(e)&&ky(t,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MO(e)&&ky(t,e,le(),e.stylesWithoutHost,!1),T}function x(n,e,t,r){return I(n,e,t,r),T(),x}var Xk=(n,e,t,r,i,o)=>(af(!0),wb(r,i,TO()));function e1(n,e,t,r,i){let o=e.consts,s=ka(o,r),a=$a(e,n,8,"ng-container",s);s!==null&&Hh(a,s,!0);let c=ka(o,i);return Dv(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ot(n,e,t){let r=le(),i=ot(),o=n+an,s=i.firstCreatePass?e1(o,i,r,e,t):i.data[o];os(s,!0);let a=t1(i,r,s,n);return r[o]=a,sf()&&df(i,r,a,s),Yi(a,r),tf(s)&&(bv(i,r,s),Tv(i,s,r)),t!=null&&Sv(r,s),Ot}function xt(){let n=Vt(),e=ot();return iv()?ov():(n=n.parent,os(n,!1)),e.firstCreatePass&&(cf(e,n),nv(n)&&e.queries.elementEnd(n)),xt}function hn(n,e,t){return Ot(n,e,t),xt(),hn}var t1=(n,e,t,r)=>(af(!0),Nx(e[tt],""));function st(){return le()}var zh="en-US";var n1=zh;function r1(n){typeof n=="string"&&(n1=n.toLowerCase().replace(/_/g,"-"))}var i1=(n,e,t)=>{};function ee(n,e,t,r){let i=le(),o=ot(),s=Vt();return TS(o,i,i[tt],s,n,e,r),ee}function o1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Dh],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function TS(n,e,t,r,i,o,s){let a=tf(r),l=n.firstCreatePass&&zb(n),u=e[lr],d=qb(e),f=!0;if(r.type&3||s){let v=Un(r,e),S=s?s(v):v,L=d.length,G=s?pe=>s(Sr(pe[r.index])):r.index,q=null;if(!s&&a&&(q=o1(n,e,i,r.index)),q!==null){let pe=q.__ngLastListenerFn__||q;pe.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,f=!1}else{o=FI(r,e,u,o),i1(v,i,o);let pe=t.listen(S,i,o);d.push(o,pe),l&&l.push(i,G,L,L+1)}}else o=FI(r,e,u,o);let p=r.outputs,g;if(f&&p!==null&&(g=p[i])){let v=g.length;if(v)for(let S=0;S<v;S+=2){let L=g[S],G=g[S+1],$e=e[L][G].subscribe(o),ke=d.length;d.push(o,$e),l&&l.push(i,r.index,ke,-(ke+1))}}}function LI(n,e,t,r){let i=Ne(null);try{return wr(6,e,t),t(r)!==!1}catch(o){return Gb(n,o),!1}finally{wr(7,e,t),Ne(i)}}function FI(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Ji(n.index,e):e;Nv(s,5);let a=LI(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=LI(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function N(n=1){return wO(n)}function s1(n,e){let t=null,r=NN(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?nT(n,o,!0):PN(r,o))return i}return t}function Bn(n){let e=le()[Fn][cn];if(!e.projection){let t=n?n.length:1,r=e.projection=_N(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?s1(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function jn(n,e=0,t,r,i,o){let s=le(),a=ot(),c=r?n+1:null;c!==null&&fS(s,a,c,r,i,o,null,t);let l=$a(a,an+n,16,null,t||null);l.projection===null&&(l.projection=e),ov();let d=!s[Al]||MT();s[Fn][cn].projection[l.projection]===null&&c!==null?a1(s,a,c):d&&(l.flags&32)!==32&&$x(a,s,l)}function a1(n,e,t){let r=an+t,i=e.data[r],o=n[r],s=wy(o,i.tView.ssrId),a=Kb(n,i,void 0,{dehydratedView:s});Qb(o,a,0,Ey(i,s))}function xr(n,e,t,r){ck(n,e,t,r)}function Ll(n,e,t){ak(n,e,t)}function fn(n){let e=le(),t=ot(),r=OT();av(r+1);let i=xv(t,r);if(n.dirty&&iO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=dk(e,r);n.reset(o,QO),n.notifyOnChanges()}return!0}return!1}function pn(){return sk(le(),OT())}function c1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function cs(n){let e=pO();return IT(e,an+n)}function se(n,e=""){let t=le(),r=ot(),i=n+an,o=r.firstCreatePass?$a(r,i,1,e,null):r.data[i],s=l1(r,t,o,e,n);t[i]=s,sf()&&df(r,t,s,o),os(o,!1)}var l1=(n,e,t,r,i)=>(af(!0),Mx(e[tt],r));function pt(n){return ui("",n,""),pt}function ui(n,e,t){let r=le(),i=Ak(r,n,e,t);return i!==Hn&&Wb(r,Xi(),i),ui}function Lv(n,e,t,r,i){let o=le(),s=Dk(o,n,e,t,r,i);return s!==Hn&&Wb(o,Xi(),s),Lv}function Fv(n,e,t){lS(e)&&(e=e());let r=le(),i=of();if(Rr(r,i,e)){let o=ot(),s=uv();Vb(o,s,r,n,e,r[tt],t,!1)}return Fv}function bS(n,e){let t=lS(n);return t&&n.set(e),t}function Uv(n,e){let t=le(),r=ot(),i=Vt();return TS(r,t,t[tt],i,n,e),Uv}function u1(n,e,t){let r=ot();if(r.firstCreatePass){let i=Qi(n);Ly(t,r.data,r.blueprint,i,!0),Ly(e,r.data,r.blueprint,i,!1)}}function Ly(n,e,t,r,i){if(n=zt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ly(n[o],e,t,r,i);else{let o=ot(),s=le(),a=Vt(),c=Oa(n)?n:zt(n.provide),l=hT(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Oa(n)||!n.multi){let p=new es(l,i,M),g=Ug(c,e,i?u:u+f,d);g===-1?(Xg(Ph(a,s),o,c),Fg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[g]=p,s[g]=p)}else{let p=Ug(c,e,u+f,d),g=Ug(c,e,u,u+f),v=p>=0&&t[p],S=g>=0&&t[g];if(i&&!S||!i&&!v){Xg(Ph(a,s),o,c);let L=f1(i?h1:d1,t.length,i,r,l);!i&&S&&(t[g].providerFactory=L),Fg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=SS(t[i?g:p],l,!i&&r);Fg(o,n,p>-1?p:g,L)}!i&&r&&S&&t[g].componentProviders++}}}function Fg(n,e,t,r){let i=Oa(e),o=zN(e);if(i||o){let c=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function SS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ug(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d1(n,e,t,r){return Fy(this.multi,[])}function h1(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ts(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),Fy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Fy(i,o);return o}function Fy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function f1(n,e,t,r,i){let o=new es(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,SS(o,i,r&&!t),o}function di(n,e=[]){return t=>{t.providersResolver=(r,i)=>u1(r,i?i(n):n,e)}}var p1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=lT(!1,t.type),i=r.length>0?Pv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(k(sn))})}}return n})();function te(n){to("NgStandalone"),n.getStandaloneInjector=e=>e.get(p1).getOrCreateStandaloneInjector(n)}function AS(n,e,t){let r=ss()+n,i=le();return i[r]===Hn?qa(i,r,t?e.call(t):e()):dS(i,r)}function bn(n,e,t,r){return NS(le(),ss(),n,e,t,r)}function ls(n,e,t,r,i){return m1(le(),ss(),n,e,t,r,i)}function DS(n,e,t,r,i,o){return g1(le(),ss(),n,e,t,r,i,o)}function MS(n,e,t,r,i,o,s){return y1(le(),ss(),n,e,t,r,i,o,s)}function RS(n,e,t,r,i,o,s,a,c){let l=ss()+n,u=le(),d=hS(u,l,t,r,i,o);return Ua(u,l+4,s,a)||d?qa(u,l+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):dS(u,l+6)}function yf(n,e){let t=n[e];return t===Hn?void 0:t}function NS(n,e,t,r,i,o){let s=e+t;return Rr(n,s,i)?qa(n,s+1,o?r.call(o,i):r(i)):yf(n,s+1)}function m1(n,e,t,r,i,o,s){let a=e+t;return Ua(n,a,i,o)?qa(n,a+2,s?r.call(s,i,o):r(i,o)):yf(n,a+2)}function g1(n,e,t,r,i,o,s,a){let c=e+t;return _k(n,c,i,o,s)?qa(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):yf(n,c+3)}function y1(n,e,t,r,i,o,s,a,c){let l=e+t;return hS(n,l,i,o,s,a)?qa(n,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):yf(n,l+4)}function OS(n,e){let t=ot(),r,i=n+an;t.firstCreatePass?(r=v1(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ko(r.type,!0)),s,a=rn(M);try{let c=xh(!1),l=o();return xh(c),c1(t,le(),i,l),l}finally{rn(a)}}function v1(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xS(n,e,t){let r=n+an,i=le(),o=IT(i,r);return C1(i,r)?NS(i,ss(),e,o.transform,t,o):o.transform(t)}function C1(n,e){return n[de].data[e].pure}function us(n,e){return mf(n,e)}var vf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var PS=new B("");function ds(n){return!!n&&typeof n.then=="function"}function kS(n){return!!n&&typeof n.subscribe=="function"}var LS=new B(""),FS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=A(LS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ds(o))t.push(o);else if(kS(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cf=new B("");function E1(){bw(()=>{throw new D(600,!1)})}function _1(n){return n.isBoundToModule}var w1=10;function I1(n,e,t){try{let r=t();return ds(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var no=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(WO),this.afterRenderManager=A(Sk),this.zonelessEnabled=A(Ov),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ve,this.afterTick=new Ve,this.componentTypes=[],this.components=[],this.isStable=A(Nr).hasPendingTasks.pipe(X(t=>!t)),this._injector=A(sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Vh;if(!this._injector.get(FS).done){let f=!i&&oT(t),p=!1;throw new D(405,p)}let s;i?s=t:s=this._injector.get(Fa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=_1(s)?void 0:this._injector.get(Zi),c=r||s.selector,l=s.create(ni.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(PS,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),wh(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new D(101,!1);let t=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ne(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Mr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<w1;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)T1(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>nf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;wh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Cf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function T1(n,e,t,r){if(!t&&!nf(n))return;Jb(n,e,t&&!r?0:1)}var Uy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Vv=(()=>{class n{compileModuleSync(t){return new Oy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=sT(t),o=_b(i.declarations).reduce((s,a)=>{let c=Qo(a);return c&&s.push(new Ml(c)),s},[]);return new Uy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var b1=(()=>{class n{constructor(){this.zone=A(He),this.changeDetectionScheduler=A(La),this.applicationRef=A(no)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function S1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new He(R(y({},A1()),{scheduleInRootZone:t})),[{provide:He,useFactory:n},{provide:Na,multi:!0,useFactory:()=>{let r=A(b1,{optional:!0});return()=>r.initialize()}},{provide:Na,multi:!0,useFactory:()=>{let r=A(D1);return()=>{r.initialize()}}},e===!0?{provide:nS,useValue:!0}:[],{provide:rS,useValue:t??ZT}]}function A1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var D1=(()=>{class n{constructor(){this.subscription=new dt,this.initialized=!1,this.zone=A(He),this.pendingTasks=A(Nr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var M1=(()=>{class n{constructor(){this.appRef=A(no),this.taskService=A(Nr),this.ngZone=A(He),this.zonelessEnabled=A(Ov),this.disableScheduling=A(nS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(rS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof iy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?mI:JT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R1(){return typeof $localize<"u"&&$localize.locale||zh}var Hv=new B("",{providedIn:"root",factory:()=>A(Hv,me.Optional|me.SkipSelf)||R1()});var Vy=new B("");function gh(n){return!n.moduleRef}function N1(n){let e=gh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(He);return t.run(()=>{gh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ar,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),gh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Vy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Vy);s.add(o),n.moduleRef.onDestroy(()=>{wh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return I1(r,t,()=>{let o=e.get(FS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Hv,zh);if(r1(s||zh),gh(n)){let a=e.get(no);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return O1(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function O1(n,e){let t=n.injector.get(no);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new D(-403,!1);e.push(n)}var Ih=null;function x1(n=[],e){return ni.create({name:e,providers:[{provide:Jh,useValue:"platform"},{provide:Vy,useValue:new Set([()=>Ih=null])},...n]})}function P1(n=[]){if(Ih)return Ih;let e=x1(n);return Ih=e,E1(),k1(e),e}function k1(n){n.get(gv,null)?.forEach(t=>t())}var Wt=(()=>{class n{static{this.__NG_ELEMENT_ID__=L1}}return n})();function L1(n){return F1(Vt(),le(),(n&16)===16)}function F1(n,e,t){if(ef(n)&&!t){let r=Ji(n.index,e);return new ns(r,r)}else if(n.type&175){let r=e[Fn];return new ns(r,e)}return null}var Hy=class{constructor(){}supports(e){return uS(e)}create(e){return new By(e)}},U1=(n,e)=>e,By=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||U1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<UI(r,i,o)?t:r,a=UI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let p=f<o.length?o[f]:o[f]=0,g=p+f;u<=g&&g<l&&(o[f]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uS(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Ek(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new jy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},$y=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Gh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new $y,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function UI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var qy=class{constructor(){}supports(e){return e instanceof Map||kv(e)}create(){return new zy}},zy=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||kv(e)))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Gy(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Gy=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function VI(){return new Bv([new Hy])}var Bv=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:VI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VI()),deps:[[n,new Yy,new Yh]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new D(901,!1)}}return n})();function HI(){return new jv([new qy])}var jv=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:HI})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||HI()),deps:[[n,new Yy,new Yh]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n})();function US(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=P1(r),o=[S1({}),{provide:La,useExisting:M1},...t||[]],s=new $h({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return N1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function be(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function mn(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Ef(n,e){to("NgSignals");let t=ww(n);return e?.equal&&(t[Er].equal=e.equal),t}function ro(n){let e=Ne(null);try{return n()}finally{Ne(e)}}var V1=new B("",{providedIn:"root",factory:()=>A(H1)}),H1=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new Wy})}}return n})(),Wy=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=A(Nr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Ky=class{constructor(e,t,r,i,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=r,this.injector=o,this.watcher=Mw(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Ar,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function $v(n,e){to("NgSignals"),!e?.injector&&JN($v);let t=e?.injector??A(ni),r=e?.manualCleanup!==!0?t.get(hv):null,i=new Ky(t.get(V1),n,typeof Zone>"u"?null:Zone.current,r,t,e?.allowSignalWrites??!1),o=t.get(Wt,null,{optional:!0});return!o||!(o._lView[Y]&8)?i.watcher.notify():(o._lView[vh]??=[]).push(i.watcher.notify),i}var qS=null;function hi(){return qS}function zS(n){qS??=n}var _f=class{};var Fe=new B(""),GS=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A($1),providedIn:"platform"})}}return n})();var $1=(()=>{class n extends GS{constructor(){super(),this._doc=A(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(t){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function WS(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function VS(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function hs(n){return n&&n[0]!=="?"?"?"+n:n}var wf=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A(KS),providedIn:"root"})}}return n})(),q1=new B(""),KS=(()=>{class n extends wf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+hs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+hs(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+hs(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(k(GS),k(q1,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fi=(()=>{class n{constructor(t){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=W1(VS(HS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hs(r))}normalize(t){return n.stripTrailingSlash(G1(this._basePath,HS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=hs}static{this.joinWithSlash=WS}static{this.stripTrailingSlash=VS}static{this.\u0275fac=function(r){return new(r||n)(k(wf))}}static{this.\u0275prov=F({token:n,factory:()=>z1(),providedIn:"root"})}}return n})();function z1(){return new fi(k(wf))}function G1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function HS(n){return n.replace(/\/index.html$/,"")}function W1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function If(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qv=/\s+/,BS=[],Et=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=BS,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(qv):BS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(qv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(qv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(M(Qe),M(dn))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var zv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),jS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(M(li),M(ii),M(Bv))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function jS(n,e){n.context.$implicit=e.item}var Ye=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Gv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$S("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$S("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(M(li),M(ii))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Gv=class{constructor(){this.$implicit=null,this.ngIf=null}};function $S(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Gt(e)}'.`)}var $n=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Dr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(M(Qe),M(jv),M(dn))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),io=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(M(li))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ai]})}}return n})();var Se=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xe({type:n})}static{this.\u0275inj=Oe({})}}return n})(),Kv="browser",K1="server";function Wa(n){return n===Kv}function Tf(n){return n===K1}var Ga=class{};var Ul=class{},Vl=class{},pi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Yv=class{encodeKey(e){return QS(e)}encodeValue(e){return QS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Q1(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var Y1=/%(\d[a-f0-9])/gi,Z1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QS(n){return encodeURIComponent(n).replace(Y1,(e,t)=>Z1[t]??e)}function bf(n){return`${n}`}var so=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Q1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(bf):[bf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(bf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(bf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function J1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function YS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ZS(n){return typeof Blob<"u"&&n instanceof Blob}function JS(n){return typeof FormData<"u"&&n instanceof FormData}function X1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Fl=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(J1(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new pi,this.context??=new Zv,!this.params)this.params=new so,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||YS(this.body)||ZS(this.body)||JS(this.body)||X1(this.body)?this.body:this.body instanceof so?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||JS(this.body)?null:ZS(this.body)?this.body.type||null:YS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof so?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},ao=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ao||{}),Hl=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new pi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Sf=class n extends Hl{constructor(e={}){super(e),this.type=ao.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bl=class n extends Hl{constructor(e={}){super(e),this.type=ao.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},oo=class extends Hl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},r0=200,eL=204;function Qv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var tC=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Fl)o=t;else{let c;i.headers instanceof pi?c=i.headers:c=new pi(i.headers);let l;i.params&&(i.params instanceof so?l=i.params:l=new so({fromObject:i.params})),o=new Fl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=z(o).pipe(sr(c=>this.handler.handle(c)));if(t instanceof Fl||i.observe==="events")return s;let a=s.pipe(ft(c=>c instanceof Bl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new so().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qv(i,r))}post(t,r,i={}){return this.request("POST",t,Qv(i,r))}put(t,r,i={}){return this.request("PUT",t,Qv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(k(Ul))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),tL=/^\)\]\}',?\n/,nL="X-Request-URL";function XS(n){if(n.url)return n.url;let e=nL.toLocaleLowerCase();return n.headers.get(e)}var Jv=(()=>{class n{constructor(){this.fetchImpl=A(Xv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=A(He)}handle(t){return new Ae(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(eC,o=>r.error(new oo({error:o}))),()=>i.abort()})}doRequest(t,r,i){return m(this,null,function*(){let o=this.createRequestInit(t),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,y({signal:r},o)));rL(p),i.next({type:ao.Sent}),s=yield p}catch(p){i.error(new oo({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let a=new pi(s.headers),c=s.statusText,l=XS(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Sf({headers:a,status:u,statusText:c,url:l})),s.body){let p=s.headers.get("content-length"),g=[],v=s.body.getReader(),S=0,L,G,q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>m(this,null,function*(){for(;;){let{done:$e,value:ke}=yield v.read();if($e)break;if(g.push(ke),S+=ke.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(L??=new TextDecoder).decode(ke,{stream:!0}):void 0;let Ge=()=>i.next({type:ao.DownloadProgress,total:p?+p:void 0,loaded:S,partialText:G});q?q.run(Ge):Ge()}}}));let pe=this.concatChunks(g,S);try{let $e=s.headers.get("Content-Type")??"";d=this.parseBody(t,pe,$e)}catch($e){i.error(new oo({error:$e,headers:new pi(s.headers),status:s.status,statusText:s.statusText,url:XS(s)??t.urlWithParams}));return}}u===0&&(u=d?r0:0),u>=200&&u<300?(i.next(new Bl({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new oo({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(tL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),Xv=class{};function eC(){}function rL(n){n.then(eC,eC)}function i0(n,e){return e(n)}function iL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function oL(n,e,t){return(r,i)=>ur(t,()=>e(r,o=>n(o,i)))}var sL=new B(""),nC=new B(""),aL=new B(""),o0=new B("",{providedIn:"root",factory:()=>!0});function cL(){let n=null;return(e,t)=>{n===null&&(n=(A(sL,{optional:!0})??[]).reduceRight(iL,i0));let r=A(Nr);if(A(o0)){let o=r.add();return n(e,t).pipe(qi(()=>r.remove(o)))}else return n(e,t)}}var e0=(()=>{class n extends Ul{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=A(Nr),this.contributeToStability=A(o0)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nC),...this.injector.get(aL,[])]));this.chain=r.reduceRight((i,o)=>oL(i,o,this.injector),i0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(qi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(k(Vl),k(sn))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();var lL=/^\)\]\}',?\n/;function uL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var t0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):z(null)).pipe(vt(()=>new Ae(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,S)=>s.setRequestHeader(v,S.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader("Content-Type",v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",S=new pi(s.getAllResponseHeaders()),L=uL(s)||t.url;return c=new Sf({headers:S,status:s.status,statusText:v,url:L}),c},u=()=>{let{headers:v,status:S,statusText:L,url:G}=l(),q=null;S!==eL&&(q=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=q?r0:0);let pe=S>=200&&S<300;if(t.responseType==="json"&&typeof q=="string"){let $e=q;q=q.replace(lL,"");try{q=q!==""?JSON.parse(q):null}catch(ke){q=$e,pe&&(pe=!1,q={error:ke,text:q})}}pe?(o.next(new Bl({body:q,headers:v,status:S,statusText:L,url:G||void 0})),o.complete()):o.error(new oo({error:q,headers:v,status:S,statusText:L,url:G||void 0}))},d=v=>{let{url:S}=l(),L=new oo({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(L)},f=!1,p=v=>{f||(o.next(l()),f=!0);let S={type:ao.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(S.total=v.total),t.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},g=v=>{let S={type:ao.UploadProgress,loaded:v.loaded};v.lengthComputable&&(S.total=v.total),o.next(S)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:ao.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(k(Ga))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),s0=new B(""),dL="XSRF-TOKEN",hL=new B("",{providedIn:"root",factory:()=>dL}),fL="X-XSRF-TOKEN",pL=new B("",{providedIn:"root",factory:()=>fL}),Af=class{},mL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=If(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(k(Fe),k(un),k(hL))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();function gL(n,e){let t=n.url.toLowerCase();if(!A(s0)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=A(Af).getToken(),i=A(pL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var rC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rC||{});function a0(n,e){return{\u0275kind:n,\u0275providers:e}}function iC(...n){let e=[tC,t0,e0,{provide:Ul,useExisting:e0},{provide:Vl,useFactory:()=>A(Jv,{optional:!0})??A(t0)},{provide:nC,useValue:gL,multi:!0},{provide:s0,useValue:!0},{provide:Af,useClass:mL}];for(let t of n)e.push(...t.\u0275providers);return Pl(e)}var n0=new B("");function c0(){return a0(rC.LegacyInterceptors,[{provide:n0,useFactory:cL},{provide:nC,useExisting:n0,multi:!0}])}function l0(){return a0(rC.Fetch,[Jv,{provide:Vl,useExisting:Jv}])}var aC=class extends _f{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cC=class n extends aC{static makeCurrent(){zS(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vL();return t==null?null:CL(t)}resetBaseElement(){jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return If(document.cookie,e)}},jl=null;function vL(){return jl=jl||document.querySelector("base"),jl?jl.getAttribute("href"):null}function CL(n){return new URL(n,document.baseURI).pathname}var EL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),lC=new B(""),h0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(k(lC),k(He))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),Df=class{constructor(e){this._doc=e}},oC="ng-app-id",f0=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tf(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${oC}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(oC),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(oC,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(k(Fe),k(mv),k(vv,8),k(un))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),sC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dC=/%COMP%/g,p0="%COMP%",_L=`_nghost-${p0}`,wL=`_ngcontent-${p0}`,IL=!0,TL=new B("",{providedIn:"root",factory:()=>IL});function bL(n){return wL.replace(dC,n)}function SL(n){return _L.replace(dC,n)}function m0(n,e){return e.map(t=>t.replace(dC,n))}var Mf=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Tf(a),this.defaultRenderer=new $l(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tr.ShadowDom&&(r=R(y({},r),{encapsulation:Tr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Rf?i.applyToHost(t):i instanceof ql&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Tr.Emulated:o=new Rf(c,l,r,this.appId,u,s,a,d);break;case Tr.ShadowDom:return new uC(c,l,t,r,s,a,this.nonce,d);default:o=new ql(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(k(h0),k(f0),k(mv),k(TL),k(Fe),k(un),k(He),k(vv))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),$l=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(u0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(u0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=sC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=sC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Dr.DashCase|Dr.Important)?e.style.setProperty(t,r,i&Dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function u0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var uC=class extends $l{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=m0(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ql=class extends $l{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?m0(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rf=class extends ql{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=bL(l),this.hostAttr=SL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},AL=(()=>{class n extends Df{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(k(Fe))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),d0=["alt","control","meta","shift"],DL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ML={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},RL=(()=>{class n extends Df{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),d0.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=DL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),d0.forEach(s=>{if(s!==i){let a=ML[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(k(Fe))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();function g0(n,e){return US(y({rootComponent:n},NL(e)))}function NL(n){return{appProviders:[...LL,...n?.providers??[]],platformProviders:kL}}function OL(){cC.makeCurrent()}function xL(){return new Ar}function PL(){return ob(document),document}var kL=[{provide:un,useValue:Kv},{provide:gv,useValue:OL,multi:!0},{provide:Fe,useFactory:PL,deps:[]}];var LL=[{provide:Jh,useValue:"root"},{provide:Ar,useFactory:xL,deps:[]},{provide:lC,useClass:AL,multi:!0,deps:[Fe,He,un]},{provide:lC,useClass:RL,multi:!0,deps:[Fe]},Mf,f0,h0,{provide:Mr,useExisting:Mf},{provide:Ga,useClass:EL,deps:[]},[]];var y0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(k(Fe))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=k(FL),i},providedIn:"root"})}}return n})(),FL=(()=>{class n extends hC{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Or.NONE:return r;case Or.HTML:return eo(r,"HTML")?Vn(r):Ev(this._doc,String(r)).toString();case Or.STYLE:return eo(r,"Style")?Vn(r):r;case Or.SCRIPT:if(eo(r,"Script"))return Vn(r);throw new D(5200,!1);case Or.URL:return eo(r,"URL")?Vn(r):uf(String(r));case Or.RESOURCE_URL:if(eo(r,"ResourceURL"))return Vn(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(t){return cb(t)}bypassSecurityTrustStyle(t){return lb(t)}bypassSecurityTrustScript(t){return ub(t)}bypassSecurityTrustUrl(t){return db(t)}bypassSecurityTrustResourceUrl(t){return hb(t)}static{this.\u0275fac=function(r){return new(r||n)(k(Fe))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var he="primary",au=Symbol("RouteTitle"),yC=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xa(n){return new yC(n)}function UL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function VL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!kr(n[t],e[t]))return!1;return!0}function kr(n,e){let t=n?vC(n):void 0,r=e?vC(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!S0(n[i],e[i]))return!1;return!0}function vC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function A0(n){return n.length>0?n[n.length-1]:null}function lo(n){return Cg(n)?n:ds(n)?Ie(Promise.resolve(n)):z(n)}var HL={exact:M0,subset:R0},D0={exact:BL,subset:jL,ignored:()=>!0};function C0(n,e,t){return HL[t.paths](n.root,e.root,t.matrixParams)&&D0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function BL(n,e){return kr(n,e)}function M0(n,e,t){if(!ps(n.segments,e.segments)||!xf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!M0(n.children[r],e.children[r],t))return!1;return!0}function jL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>S0(n[t],e[t]))}function R0(n,e,t){return N0(n,e,e.segments,t)}function N0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ps(i,t)||e.hasChildren()||!xf(i,t,r))}else if(n.segments.length===t.length){if(!ps(n.segments,t)||!xf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!R0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ps(n.segments,i)||!xf(n.segments,i,r)||!n.children[he]?!1:N0(n.children[he],e,o,r)}}function xf(n,e,t){return e.every((r,i)=>D0[t](n[i].parameters,r.parameters))}var gi=class{constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){return zL.serialize(this)}},Le=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pf(this)}},fs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xa(this.parameters),this._parameterMap}toString(){return x0(this)}};function $L(n,e){return ps(n,e)&&n.every((t,r)=>kr(t.parameters,e[r].parameters))}function ps(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}var qC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>new Zl,providedIn:"root"})}}return n})(),Zl=class{parse(e){let t=new EC(e);return new gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${zl(e.root,!0)}`,r=KL(e.queryParams),i=typeof e.fragment=="string"?`#${GL(e.fragment)}`:"";return`${t}${r}${i}`}},zL=new Zl;function Pf(n){return n.segments.map(e=>x0(e)).join("/")}function zl(n,e){if(!n.hasChildren())return Pf(n);if(e){let t=n.children[he]?zl(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${zl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qL(n,(r,i)=>i===he?[zl(n.children[he],!1)]:[`${i}:${zl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[he]!=null?`${Pf(n)}/${t[0]}`:`${Pf(n)}/(${t.join("//")})`}}function O0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nf(n){return O0(n).replace(/%3B/gi,";")}function GL(n){return encodeURI(n)}function CC(n){return O0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kf(n){return decodeURIComponent(n)}function E0(n){return kf(n.replace(/\+/g,"%20"))}function x0(n){return`${CC(n.path)}${WL(n.parameters)}`}function WL(n){return Object.entries(n).map(([e,t])=>`;${CC(e)}=${CC(t)}`).join("")}function KL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Nf(t)}=${Nf(i)}`).join("&"):`${Nf(t)}=${Nf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var QL=/^[^\/()?;#]+/;function fC(n){let e=n.match(QL);return e?e[0]:""}var YL=/^[^\/()?;=#]+/;function ZL(n){let e=n.match(YL);return e?e[0]:""}var JL=/^[^=?&#]+/;function XL(n){let e=n.match(JL);return e?e[0]:""}var eF=/^[^&#]+/;function tF(n){let e=n.match(eF);return e?e[0]:""}var EC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Le(e,t)),r}parseSegment(){let e=fC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new fs(kf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ZL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fC(this.remaining);i&&(r=i,this.capture(r))}e[kf(t)]=kf(r)}parseQueryParam(e){let t=XL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=tF(this.remaining);s&&(r=s,this.capture(r))}let i=E0(t),o=E0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[he]:new Le([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function P0(n){return n.segments.length>0?new Le([],{[he]:n}):n}function k0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=k0(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Le(n.segments,e);return nF(t)}function nF(n){if(n.numberOfChildren===1&&n.children[he]){let e=n.children[he];return new Le(n.segments.concat(e.segments),e.children)}return n}function Jl(n){return n instanceof gi}function rF(n,e,t=null,r=null){let i=L0(n);return F0(i,e,t,r)}function L0(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Le(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=P0(r);return e??i}function F0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pC(i,i,i,t,r);let o=iF(e);if(o.toRoot())return pC(i,i,new Le([],{}),t,r);let s=oF(o,i,n),a=s.processChildren?Kl(s.segmentGroup,s.index,o.commands):V0(s.segmentGroup,s.index,o.commands);return pC(i,s.segmentGroup,a,t,r)}function Lf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xl(n){return typeof n=="object"&&n!=null&&n.outlets}function pC(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=U0(n,e,t);let a=P0(k0(s));return new gi(a,o,i)}function U0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=U0(o,e,t)}),new Le(n.segments,r)}var Ff=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lf(r[0]))throw new D(4003,!1);let i=r.find(Xl);if(i&&i!==A0(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ff(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ff(t,e,r)}var Ya=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function oF(n,e,t){if(n.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let r=Lf(n.commands[0])?0:1,i=t.segments.length-1+r;return sF(t,i,n.numberOfDoubleDots)}function sF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Ya(r,!1,i-o)}function aF(n){return Xl(n[0])?n[0].outlets:{[he]:n}}function V0(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return Kl(n,e,t);let r=cF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Le(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new Le(n.segments.slice(r.pathIndex),n.children),Kl(o,0,i)}else return r.match&&i.length===0?new Le(n.segments,{}):r.match&&!n.hasChildren()?_C(n,e,t):r.match?Kl(n,0,i):_C(n,e,t)}function Kl(n,e,t){if(t.length===0)return new Le(n.segments,{});{let r=aF(t),i={};if(Object.keys(r).some(o=>o!==he)&&n.children[he]&&n.numberOfChildren===1&&n.children[he].segments.length===0){let o=Kl(n.children[he],e,t);return new Le(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=V0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Le(n.segments,i)}}function cF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Xl(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!w0(c,l,s))return o;r+=2}else{if(!w0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _C(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Xl(o)){let c=lF(o.outlets);return new Le(r,c)}if(i===0&&Lf(t[0])){let c=n.segments[e];r.push(new fs(c.path,_0(t[0]))),i++;continue}let s=Xl(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Lf(a)?(r.push(new fs(s,_0(a))),i+=2):(r.push(new fs(s,{})),i++)}return new Le(r,{})}function lF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=_C(new Le([],{}),0,r))}),e}function _0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function w0(n,e,t){return n==t.path&&kr(e,t.parameters)}var Ql="imperative",Pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Pt||{}),qn=class{constructor(e,t){this.id=e,this.url=t}},eu=class extends qn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ms=class extends qn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},An=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(An||{}),wC=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wC||{}),mi=class extends qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gs=class extends qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Pt.NavigationSkipped}},tu=class extends qn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uf=class extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IC=class extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TC=class extends qn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bC=class extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SC=class extends qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AC=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},DC=class{constructor(e){this.route=e,this.type=Pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},MC=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RC=class{constructor(e){this.snapshot=e,this.type=Pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NC=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OC=class{constructor(e){this.snapshot=e,this.type=Pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var nu=class{},ec=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uF(n,e){return n.providers&&!n._injector&&(n._injector=Pv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dr(n){return n.outlet||he}function dF(n,e){let t=n.filter(r=>dr(r)===e);return t.push(...n.filter(r=>dr(r)!==e)),t}function cu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xC=class{get injector(){return cu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new zf(this.rootInjector),this.attachRef=null}},zf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xC(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(k(sn))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=PC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=PC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=kC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kC(e,this._root).map(t=>t.value)}};function PC(n,e){if(n===e.value)return e;for(let t of e.children){let r=PC(n,t);if(r)return r}return null}function kC(n,e){if(n===e.value)return[e];for(let t of e.children){let r=kC(n,t);if(r.length)return r.unshift(e),r}return[]}var Sn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Hf=class extends Vf{constructor(e,t){super(e),this.snapshot=t,zC(this,e)}toString(){return this.snapshot.toString()}};function H0(n){let e=hF(n),t=new gt([new fs("",{})]),r=new gt({}),i=new gt({}),o=new gt({}),s=new gt(""),a=new co(t,r,o,s,i,he,n,e.root);return a.snapshot=e.root,new Hf(new Sn(a,[]),e)}function hF(n){let e={},t={},r={},i="",o=new Za([],e,r,i,t,he,n,null,{});return new jf("",new Sn(o,[]))}var co=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[au]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),n.params),data:y(y({},e.data),n.data),resolve:y(y(y(y({},n.data),e.data),i?.data),n._resolvedData)}:r={params:y({},n.params),data:y({},n.data),resolve:y(y({},n.data),n._resolvedData??{})},i&&j0(i)&&(r.resolve[au]=i.title),r}var Za=class{get title(){return this.data?.[au]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},jf=class extends Vf{constructor(e,t){super(t),this.url=e,zC(this,t)}toString(){return B0(this._root)}};function zC(n,e){e.value._routerState=n,e.children.forEach(t=>zC(n,t))}function B0(n){let e=n.children.length>0?` { ${n.children.map(B0).join(", ")} } `:"";return`${n.value}${e}`}function mC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,kr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),kr(e.params,t.params)||n.paramsSubject.next(t.params),VL(e.url,t.url)||n.urlSubject.next(t.url),kr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function LC(n,e){let t=kr(n.params,e.params)&&$L(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||LC(n.parent,e.parent))}function j0(n){return typeof n.title=="string"||n.title===null}var lu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=A(zf),this.location=A(li),this.changeDetector=A(Wt),this.inputBinder=A(GC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new FC(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=nt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ai]})}}return n})(),FC=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===co?this.route:e===zf?this.childContexts:this.parent.get(e,t)}},GC=new B("");function fF(n,e,t){let r=ru(n,e._root,t?t._root:void 0);return new Hf(r,e)}function ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=pF(n,e,t);return new Sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ru(n,a)),s}}let r=mF(e.value),i=e.children.map(o=>ru(n,o));return new Sn(r,i)}}function pF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ru(n,r,i);return ru(n,r)})}function mF(n){return new co(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var iu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$0="ngNavigationCancelingError";function $f(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Jl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=q0(!1,An.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function q0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$0]=!0,t.cancellationCode=e,t}function gF(n){return z0(n)&&Jl(n.url)}function z0(n){return!!n&&n[$0]}var yF=(n,e,t,r)=>X(i=>(new UC(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),UC=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new OC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new RC(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(mC(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mC(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ja=class{constructor(e,t){this.component=e,this.route=t}};function vF(n,e,t){let r=n._root,i=e?e._root:null;return Gl(r,i,t,[r.value])}function CF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!qI(n)?n:e.get(n):r}function Gl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qa(e);return n.children.forEach(s=>{EF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yl(a,t.getContext(s),i)),i}function EF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_F(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Gl(n,e,a?a.children:null,r,i):Gl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ja(a.outlet.component,s))}else s&&Yl(e,a,i),i.canActivateChecks.push(new qf(r)),o.component?Gl(n,null,a?a.children:null,r,i):Gl(n,null,t,r,i);return i}function _F(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ps(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(n.url,e.url)||!kr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LC(n,e)||!kr(n.queryParams,e.queryParams);case"paramsChange":default:return!LC(n,e)}}function Yl(n,e,t){let r=Qa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Yl(s,e.children.getContext(o),t):Yl(s,null,t):Yl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ja(e.outlet.component,i)):t.canDeactivateChecks.push(new Ja(null,i)):t.canDeactivateChecks.push(new Ja(null,i))}function uu(n){return typeof n=="function"}function wF(n){return typeof n=="boolean"}function IF(n){return n&&uu(n.canLoad)}function TF(n){return n&&uu(n.canActivate)}function bF(n){return n&&uu(n.canActivateChild)}function SF(n){return n&&uu(n.canDeactivate)}function AF(n){return n&&uu(n.canMatch)}function G0(n){return n instanceof ei||n?.name==="EmptyError"}var Of=Symbol("INITIAL_VALUE");function tc(){return vt(n=>ah(n.map(e=>e.pipe(In(1),bg(Of)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===Of)return Of;if(t===!1||DF(t))return t}return!0}),ft(e=>e!==Of),In(1)))}function DF(n){return Jl(n)||n instanceof iu}function MF(n,e){return yt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(R(y({},t),{guardsResult:!0})):RF(s,r,i,n).pipe(yt(a=>a&&wF(a)?NF(r,o,n,e):z(a)),X(a=>R(y({},t),{guardsResult:a})))})}function RF(n,e,t,r){return Ie(n).pipe(yt(i=>LF(i.component,i.route,t,e,r)),_r(i=>i!==!0,!0))}function NF(n,e,t,r){return Ie(e).pipe(sr(i=>Ia(xF(i.route.parent,r),OF(i.route,r),kF(n,i.path,t),PF(n,i.route,t))),_r(i=>i!==!0,!0))}function OF(n,e){return n!==null&&e&&e(new NC(n)),z(!0)}function xF(n,e){return n!==null&&e&&e(new MC(n)),z(!0)}function PF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>ch(()=>{let s=cu(e)??t,a=nc(o,s),c=TF(a)?a.canActivate(e,n):ur(s,()=>a(e,n));return lo(c).pipe(_r())}));return z(i).pipe(tc())}function kF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CF(s)).filter(s=>s!==null).map(s=>ch(()=>{let a=s.guards.map(c=>{let l=cu(s.node)??t,u=nc(c,l),d=bF(u)?u.canActivateChild(r,n):ur(l,()=>u(r,n));return lo(d).pipe(_r())});return z(a).pipe(tc())}));return z(o).pipe(tc())}function LF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=cu(e)??i,l=nc(a,c),u=SF(l)?l.canDeactivate(n,e,t,r):ur(c,()=>l(n,e,t,r));return lo(u).pipe(_r())});return z(s).pipe(tc())}function FF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=nc(s,n),c=IF(a)?a.canLoad(e,t):ur(n,()=>a(e,t));return lo(c)});return z(o).pipe(tc(),W0(r))}function W0(n){return pg(At(e=>{if(typeof e!="boolean")throw $f(n,e)}),X(e=>e===!0))}function UF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=nc(s,n),c=AF(a)?a.canMatch(e,t):ur(n,()=>a(e,t));return lo(c)});return z(o).pipe(tc(),W0(r))}var ou=class{constructor(e){this.segmentGroup=e||null}},su=class extends Error{constructor(e){super(),this.urlTree=e}};function Ka(n){return wa(new ou(n))}function VF(n){return wa(new D(4e3,!1))}function HF(n){return wa(q0(!1,An.GuardRejected))}var VC=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[he])return VF(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:p,data:g,title:v}=i,S=ur(o,()=>a({params:p,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:v}));if(S instanceof gi)throw new su(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new su(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new gi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Le(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},HC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BF(n,e,t,r,i){let o=K0(n,e,t);return o.matched?(r=uF(e,r),UF(r,e,t,i).pipe(X(s=>s===!0?o:y({},HC)))):z(o)}function K0(n,e,t){if(e.path==="**")return jF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?y({},HC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UL)(t,n,e);if(!i)return y({},HC);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jF(n){return{matched:!0,parameters:n.length>0?A0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function I0(n,e,t,r){return t.length>0&&zF(n,t,r)?{segmentGroup:new Le(e,qF(r,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&GF(n,t,r)?{segmentGroup:new Le(n.segments,$F(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function $F(n,e,t,r){let i={};for(let o of t)if(Gf(n,e,o)&&!r[dr(o)]){let s=new Le([],{});i[dr(o)]=s}return y(y({},r),i)}function qF(n,e){let t={};t[he]=e;for(let r of n)if(r.path===""&&dr(r)!==he){let i=new Le([],{});t[dr(r)]=i}return t}function zF(n,e,t){return t.some(r=>Gf(n,e,r)&&dr(r)!==he)}function GF(n,e,t){return t.some(r=>Gf(n,e,r))}function Gf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WF(n,e,t){return e.length===0&&!n.children[t]}var BC=class{};function KF(n,e,t,r,i,o,s="emptyOnly"){return new jC(n,e,t,r,i,s,o).recognize()}var QF=31,jC=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new VC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=I0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new Sn(r,t),o=new jf("",i),s=rF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Za([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,t).pipe(X(r=>({children:r,rootSnapshot:t})),or(r=>{if(r instanceof su)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ou?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(sr(s=>{let a=r.children[s],c=dF(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Tg((s,a)=>(s.push(...a),s)),$i(null),Ig(),yt(s=>{if(s===null)return Ka(r);let a=Q0(s);return YF(a),z(a)}))}processSegment(e,t,r,i,o,s,a){return Ie(t).pipe(sr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(or(l=>{if(l instanceof ou)return z(null);throw l}))),_r(c=>!!c),or(c=>{if(G0(c))return WF(r,i,o)?z(new BC):Ka(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return dr(r)!==s&&(s===he||!Gf(i,o,r))?Ka(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ka(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=K0(t,i,o);if(!c)return Ka(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QF&&(this.allowRedirects=!1));let p=new Za(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,T0(i),dr(i),i.component??i._loadedComponent??null,i,b0(i)),g=Bf(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(yt(S=>this.processSegment(e,r,t,S.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=BF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:p}=c,g=new Za(f,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,T0(r),dr(r),r.component??r._loadedComponent??null,r,b0(r)),v=Bf(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:S,slicedSegments:L}=I0(t,f,p,l);if(L.length===0&&S.hasChildren())return this.processChildren(u,l,S,g).pipe(X(q=>new Sn(g,q)));if(l.length===0&&L.length===0)return z(new Sn(g,[]));let G=dr(r)===o;return this.processSegment(u,l,S,L,G?he:o,!0,g).pipe(X(q=>new Sn(g,q instanceof Sn?[q]:[])))}))):Ka(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):FF(e,t,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,t).pipe(At(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):HF(t))):z({routes:[],injector:e})}};function YF(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}function ZF(n){let e=n.value.routeConfig;return e&&e.path===""}function Q0(n){let e=[],t=new Set;for(let r of n){if(!ZF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Q0(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!t.has(r))}function T0(n){return n.data||{}}function b0(n){return n.resolve||{}}function JF(n,e,t,r,i,o){return yt(s=>KF(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>R(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function XF(n,e){return yt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Y0(c))s.add(l);let a=0;return Ie(s).pipe(sr(c=>o.has(c)?e2(c,r,n,e):(c.data=Bf(c,c.parent,n).resolve,z(void 0))),At(()=>a++),Ta(1),yt(c=>a===s.size?z(t):qt))})}function Y0(n){let e=n.children.map(t=>Y0(t)).flat();return[n,...e]}function e2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!j0(i)&&(o[au]=i.title),t2(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=Bf(n,n.parent,t).resolve,null)))}function t2(n,e,t,r){let i=vC(n);if(i.length===0)return z({});let o={};return Ie(i).pipe(yt(s=>n2(n[s],e,t,r).pipe(_r(),At(a=>{if(a instanceof iu)throw $f(new Zl,a);o[s]=a}))),Ta(1),wg(o),or(s=>G0(s)?qt:wa(s)))}function n2(n,e,t,r){let i=cu(e)??r,o=nc(n,i),s=o.resolve?o.resolve(e,t):ur(i,()=>o(e,t));return lo(s)}function gC(n){return vt(e=>{let t=n(e);return t?Ie(t).pipe(X(()=>e)):z(e)})}var Z0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[au]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A(r2),providedIn:"root"})}}return n})(),r2=(()=>{class n extends Z0{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(k(y0))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WC=new B("",{providedIn:"root",factory:()=>({})}),i2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=j({type:n,selectors:[["ng-component"]],standalone:!0,features:[te],decls:1,vars:0,template:function(r,i){r&1&&x(0,"router-outlet")},dependencies:[lu],encapsulation:2})}}return n})();function KC(n){let e=n.children&&n.children.map(KC),t=e?R(y({},n),{children:e}):y({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=i2),t}var QC=new B(""),o2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(Vv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=lo(t.loadComponent()).pipe(X(J0),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),qi(()=>{this.componentLoaders.delete(t)})),i=new _a(r,()=>new Ve).pipe(Ea());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=s2(r,this.compiler,t,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(r)})),s=new _a(o,()=>new Ve).pipe(Ea());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function s2(n,e,t,r){return lo(n.loadChildren()).pipe(X(J0),yt(i=>i instanceof Rl||Array.isArray(i)?z(i):Ie(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(QC,[],{optional:!0,self:!0}).flat()),{routes:s.map(KC),injector:o}}))}function a2(n){return n&&typeof n=="object"&&"default"in n}function J0(n){return a2(n)?n.default:n}var YC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A(c2),providedIn:"root"})}}return n})(),c2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l2=new B("");var u2=new B(""),d2=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve,this.transitionAbortSubject=new Ve,this.configLoader=A(o2),this.environmentInjector=A(sn),this.urlSerializer=A(qC),this.rootContexts=A(zf),this.location=A(fi),this.inputBindingEnabled=A(GC,{optional:!0})!==null,this.titleStrategy=A(Z0),this.options=A(WC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(YC),this.createViewTransition=A(l2,{optional:!0}),this.navigationErrorHandler=A(u2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let t=i=>this.events.next(new AC(i)),r=i=>this.events.next(new DC(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(R(y(y({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ft(o=>o.id!==0),X(o=>R(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{let s=!1,a=!1;return z(o).pipe(vt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",An.SupersededByNewNavigation),qt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?R(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new gs(c.id,this.urlSerializer.serialize(c.rawUrl),d,wC.IgnoredSameUrlNavigation)),c.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(vt(d=>{let f=this.transitions?.getValue();return this.events.next(new eu(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?qt:Promise.resolve(d)}),JF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),At(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=R(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Uf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:p,restoredState:g,extras:v}=c,S=new eu(d,this.urlSerializer.serialize(f),p,g);this.events.next(S);let L=H0(this.rootComponentType).snapshot;return this.currentTransition=o=R(y({},c),{targetSnapshot:L,urlAfterRedirects:f,extras:R(y({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,z(o)}else{let d="";return this.events.next(new gs(c.id,this.urlSerializer.serialize(c.extractedUrl),d,wC.IgnoredByUrlHandlingStrategy)),c.resolve(!1),qt}}),At(c=>{let l=new IC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),X(c=>(this.currentTransition=o=R(y({},c),{guards:vF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),MF(this.environmentInjector,c=>this.events.next(c)),At(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw $f(this.urlSerializer,c.guardsResult);let l=new TC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ft(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",An.GuardRejected),!1)),gC(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(At(l=>{let u=new bC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),vt(l=>{let u=!1;return z(l).pipe(XF(this.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",An.NoDataFromResolver)}}))}),At(l=>{let u=new SC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),gC(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(At(f=>{u.component=f}),X(()=>{})));for(let f of u.children)d.push(...l(f));return d};return ah(l(c.targetSnapshot.root)).pipe($i(null),In(1))}),gC(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Ie(u).pipe(X(()=>o)):z(o)}),X(c=>{let l=fF(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=R(y({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),At(()=>{this.events.next(new nu)}),yF(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),In(1),At({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ms(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Sg(this.transitionAbortSubject.pipe(At(c=>{throw c}))),qi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",An.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(c=>{if(a=!0,z0(c))this.events.next(new mi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),gF(c)?this.events.next(new ec(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new tu(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=ur(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof iu){let{message:d,cancellationCode:f}=$f(this.urlSerializer,u);this.events.next(new mi(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new ec(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return qt}))}))}cancelNavigationTransition(t,r,i){let o=new mi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h2(n){return n!==Ql}var f2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A(p2),providedIn:"root"})}}return n})(),$C=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},p2=(()=>{class n extends $C{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})()}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),X0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:()=>A(m2),providedIn:"root"})}}return n})(),m2=(()=>{class n extends X0{constructor(){super(...arguments),this.location=A(fi),this.urlSerializer=A(qC),this.options=A(WC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(YC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=H0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof eu)this.stateMemento=this.createStateMemento();else if(t instanceof gs)this.rawUrlTree=r.initialUrl;else if(t instanceof Uf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof nu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof mi&&(t.code===An.GuardRejected||t.code===An.NoDataFromResolver)?this.restoreHistory(r):t instanceof tu?this.restoreHistory(r,!0):t instanceof ms&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof gi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=y(y({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=y(y({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})()}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wl||{});function g2(n,e){n.events.pipe(ft(t=>t instanceof ms||t instanceof mi||t instanceof tu||t instanceof gs),X(t=>t instanceof ms||t instanceof gs?Wl.COMPLETE:(t instanceof mi?t.code===An.Redirect||t.code===An.SupersededByNewNavigation:!1)?Wl.REDIRECTING:Wl.FAILED),ft(t=>t!==Wl.REDIRECTING),In(1)).subscribe(()=>{e()})}function y2(n){throw n}var v2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},uo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=A(vf),this.stateManager=A(X0),this.options=A(WC,{optional:!0})||{},this.pendingTasks=A(Nr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(d2),this.urlSerializer=A(qC),this.location=A(fi),this.urlHandlingStrategy=A(YC),this._events=new Ve,this.errorHandler=this.options.errorHandler||y2,this.navigated=!1,this.routeReuseStrategy=A(f2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(QC,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(GC,{optional:!0}),this.eventsSubscription=new dt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mi&&r.code!==An.Redirect&&r.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ms)this.navigated=!0;else if(r instanceof ec){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=y({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||h2(i.source)},s);this.scheduleNavigation(a,Ql,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ql,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=y({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(KC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=L0(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return F0(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ql,null,r)}navigate(t,r={skipLocationChange:!1}){return E2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=y({},v2):r===!1?i=y({},C2):i=r,Jl(t))return C0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return C0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return g2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function E2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new D(4008,!1)}function _2(n){return!(n instanceof nu)&&!(n instanceof ec)}var w2=new B("");function eA(n,...e){return Pl([{provide:QC,multi:!0,useValue:n},[],{provide:co,useFactory:I2,deps:[uo]},{provide:Cf,multi:!0,useFactory:T2},e.map(t=>t.\u0275providers)])}function I2(n){return n.routerState.root}function T2(){let n=A(ni);return e=>{let t=n.get(no);if(e!==t.components[0])return;let r=n.get(uo),i=n.get(b2);n.get(S2)===1&&r.initialNavigation(),n.get(A2,null,me.Optional)?.setUpPreloading(),n.get(w2,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var b2=new B("",{factory:()=>new Ve}),S2=new B("",{providedIn:"root",factory:()=>1});var A2=new B("");var Fp={};rr(Fp,{blockAPICallsBeforeInitialize:()=>kp,blockAcquireTokenInPopups:()=>UA,blockNonBrowserEnvironment:()=>Pp,blockRedirectInIframe:()=>FA,blockReloadInHiddenIframes:()=>LA,clearHash:()=>c_,createGuid:()=>d_,getCurrentUri:()=>tn,getHomepage:()=>u_,invoke:()=>Jt,invokeAsync:()=>b,isInIframe:()=>ed,isInPopup:()=>kA,preconnect:()=>nd,preflightCheck:()=>td,redirectPreflightCheck:()=>Lp,replaceHash:()=>l_});var C={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},rc={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Dn=[C.OPENID_SCOPE,C.PROFILE_SCOPE,C.OFFLINE_ACCESS_SCOPE],ZC=[...Dn,C.EMAIL_SCOPE],at={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ct={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},hr={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},ic={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},We={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Kf={PLAIN:"plain",S256:"S256"},fr={QUERY:"query",FRAGMENT:"fragment"},JC=R(y({},fr),{FORM_POST:"form_post"}),du={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},oc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},rt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},K={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var hu="appmetadata",tA="client_info",ho="1",sc={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Qt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},_t={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ye={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},yi={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Qf={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Yf={username:"username",password:"password"},fu={httpSuccess:200,httpBadRequest:400},ys={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Zf={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},pr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Jf={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};var XC=300;var vs={};rr(vs,{postRequestFailed:()=>mu,unexpectedError:()=>pu});var pu="unexpected_error",mu="post_request_failed";var Xf={[pu]:"Unexpected error in authentication.",[mu]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},nA={unexpectedError:{code:pu,desc:Xf[pu]},postRequestFailed:{code:mu,desc:Xf[mu]}},ue=class n extends Error{constructor(e,t,r){let i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,n.prototype),this.errorCode=e||C.EMPTY_STRING,this.errorMessage=t||C.EMPTY_STRING,this.subError=r||C.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function gu(n,e){return new ue(n,e?`${Xf[n]} ${e}`:Xf[n])}var wt={};rr(wt,{authTimeNotFound:()=>vi,authorizationCodeMissingFromServerResponse:()=>xs,bindingKeyNotRemoved:()=>Ps,cannotAppendScopeSet:()=>Rs,cannotRemoveEmptyScope:()=>Ms,clientInfoDecodingError:()=>fo,clientInfoEmptyError:()=>Cs,deviceCodeExpired:()=>Eu,deviceCodePollingCancelled:()=>Cu,deviceCodeUnknownError:()=>_u,emptyInputScopeSet:()=>go,endSessionEndpointNotSupported:()=>ks,endpointResolutionError:()=>Yt,hashNotDeserialized:()=>Is,invalidAssertion:()=>Tu,invalidCacheEnvironment:()=>Ei,invalidCacheRecord:()=>Ns,invalidClientCredential:()=>bu,invalidState:()=>mr,keyIdMissing:()=>Ls,maxAgeTranspired:()=>Ss,methodNotImplemented:()=>ne,missingTenantIdError:()=>Mu,multipleMatchingAccounts:()=>vu,multipleMatchingAppMetadata:()=>As,multipleMatchingTokens:()=>yu,nestedAppAuthBridgeDisabled:()=>Ru,networkError:()=>_s,noAccountFound:()=>wu,noAccountInSilentRequest:()=>Ci,noCryptoObject:()=>yo,noNetworkConnectivity:()=>Au,nonceMismatch:()=>bs,nullOrEmptyToken:()=>Es,openIdConfigError:()=>ws,requestCannotBeMade:()=>Ds,stateMismatch:()=>Ts,stateNotFound:()=>mo,tokenClaimsCnfRequiredForSignedJwt:()=>Os,tokenParsingError:()=>po,tokenRefreshRequired:()=>Lr,unexpectedCredentialType:()=>Iu,userCanceled:()=>Du,userTimeoutReached:()=>Su});var fo="client_info_decoding_error",Cs="client_info_empty_error",po="token_parsing_error",Es="null_or_empty_token",Yt="endpoints_resolution_error",_s="network_error",ws="openid_config_error",Is="hash_not_deserialized",mr="invalid_state",Ts="state_mismatch",mo="state_not_found",bs="nonce_mismatch",vi="auth_time_not_found",Ss="max_age_transpired",yu="multiple_matching_tokens",vu="multiple_matching_accounts",As="multiple_matching_appMetadata",Ds="request_cannot_be_made",Ms="cannot_remove_empty_scope",Rs="cannot_append_scopeset",go="empty_input_scopeset",Cu="device_code_polling_cancelled",Eu="device_code_expired",_u="device_code_unknown_error",Ci="no_account_in_silent_request",Ns="invalid_cache_record",Ei="invalid_cache_environment",wu="no_account_found",yo="no_crypto_object",Iu="unexpected_credential_type",Tu="invalid_assertion",bu="invalid_client_credential",Lr="token_refresh_required",Su="user_timeout_reached",Os="token_claims_cnf_required_for_signedjwt",xs="authorization_code_missing_from_server_response",Ps="binding_key_not_removed",ks="end_session_endpoint_not_supported",Ls="key_id_missing",Au="no_network_connectivity",Du="user_canceled",Mu="missing_tenant_id_error",ne="method_not_implemented",Ru="nested_app_auth_bridge_disabled";var re={[fo]:"The client info could not be parsed/decoded correctly",[Cs]:"The client info was empty",[po]:"Token cannot be parsed",[Es]:"The token is null or empty",[Yt]:"Endpoints cannot be resolved",[_s]:"Network request failed",[ws]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Is]:"The hash parameters could not be deserialized",[mr]:"State was not the expected format",[Ts]:"State mismatch error",[mo]:"State not found",[bs]:"Nonce mismatch error",[vi]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ss]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[yu]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[vu]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[As]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Ds]:"Token request cannot be made without authorization code or refresh token.",[Ms]:"Cannot remove null or empty scope from ScopeSet",[Rs]:"Cannot append ScopeSet",[go]:"Empty input ScopeSet cannot be processed",[Cu]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Eu]:"Device code is expired.",[_u]:"Device code stopped polling for unknown reasons.",[Ci]:"Please pass an account object, silent flow is not supported without account information",[Ns]:"Cache record object was null or undefined.",[Ei]:"Invalid environment when attempting to create cache entry",[wu]:"No account found in cache for given key.",[yo]:"No crypto object detected.",[Iu]:"Unexpected credential type.",[Tu]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[bu]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Lr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[Su]:"User defined timeout for device code polling reached",[Os]:"Cannot generate a POP jwt if the token_claims are not populated",[xs]:"Server response does not contain an authorization code to proceed",[Ps]:"Could not remove the credential's binding key from storage.",[ks]:"The provided authority does not support logout",[Ls]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Au]:"No network connectivity. Check your internet connection.",[Du]:"User cancelled the flow.",[Mu]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ne]:"This method has not been implemented",[Ru]:"The nested app auth bridge is disabled"},rA={clientInfoDecodingError:{code:fo,desc:re[fo]},clientInfoEmptyError:{code:Cs,desc:re[Cs]},tokenParsingError:{code:po,desc:re[po]},nullOrEmptyToken:{code:Es,desc:re[Es]},endpointResolutionError:{code:Yt,desc:re[Yt]},networkError:{code:_s,desc:re[_s]},unableToGetOpenidConfigError:{code:ws,desc:re[ws]},hashNotDeserialized:{code:Is,desc:re[Is]},invalidStateError:{code:mr,desc:re[mr]},stateMismatchError:{code:Ts,desc:re[Ts]},stateNotFoundError:{code:mo,desc:re[mo]},nonceMismatchError:{code:bs,desc:re[bs]},authTimeNotFoundError:{code:vi,desc:re[vi]},maxAgeTranspired:{code:Ss,desc:re[Ss]},multipleMatchingTokens:{code:yu,desc:re[yu]},multipleMatchingAccounts:{code:vu,desc:re[vu]},multipleMatchingAppMetadata:{code:As,desc:re[As]},tokenRequestCannotBeMade:{code:Ds,desc:re[Ds]},removeEmptyScopeError:{code:Ms,desc:re[Ms]},appendScopeSetError:{code:Rs,desc:re[Rs]},emptyInputScopeSetError:{code:go,desc:re[go]},DeviceCodePollingCancelled:{code:Cu,desc:re[Cu]},DeviceCodeExpired:{code:Eu,desc:re[Eu]},DeviceCodeUnknownError:{code:_u,desc:re[_u]},NoAccountInSilentRequest:{code:Ci,desc:re[Ci]},invalidCacheRecord:{code:Ns,desc:re[Ns]},invalidCacheEnvironment:{code:Ei,desc:re[Ei]},noAccountFound:{code:wu,desc:re[wu]},noCryptoObj:{code:yo,desc:re[yo]},unexpectedCredentialType:{code:Iu,desc:re[Iu]},invalidAssertion:{code:Tu,desc:re[Tu]},invalidClientCredential:{code:bu,desc:re[bu]},tokenRefreshRequired:{code:Lr,desc:re[Lr]},userTimeoutReached:{code:Su,desc:re[Su]},tokenClaimsRequired:{code:Os,desc:re[Os]},noAuthorizationCodeFromServer:{code:xs,desc:re[xs]},bindingKeyNotRemovedError:{code:Ps,desc:re[Ps]},logoutNotSupported:{code:ks,desc:re[ks]},keyIdMissing:{code:Ls,desc:re[Ls]},noNetworkConnectivity:{code:Au,desc:re[Au]},userCanceledError:{code:Du,desc:re[Du]},missingTenantIdError:{code:Mu,desc:re[Mu]},nestedAppAuthBridgeDisabled:{code:Ru,desc:re[Ru]}},Fs=class n extends ue{constructor(e,t){super(e,t?`${re[e]}: ${t}`:re[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,n.prototype)}};function w(n,e){return new Fs(n,e)}var vo={createNewGuid:()=>{throw w(ne)},base64Decode:()=>{throw w(ne)},base64Encode:()=>{throw w(ne)},base64UrlEncode:()=>{throw w(ne)},encodeKid:()=>{throw w(ne)},getPublicKeyThumbprint(){return m(this,null,function*(){throw w(ne)})},removeTokenBindingKey(){return m(this,null,function*(){throw w(ne)})},clearKeystore(){return m(this,null,function*(){throw w(ne)})},signJwt(){return m(this,null,function*(){throw w(ne)})},hashString(){return m(this,null,function*(){throw w(ne)})}};var Ue=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n}(Ue||{}),gn=class n{constructor(e,t,r){this.level=Ue.Info;let i=()=>{},o=e||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:Ue.Info,this.correlationId=o.correlationId||C.EMPTY_STRING,this.packageName=t||C.EMPTY_STRING,this.packageVersion=r||C.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info}}clone(e,t,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Ue[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!1,correlationId:t||C.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!0,correlationId:t||C.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!1,correlationId:t||C.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!0,correlationId:t||C.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!1,correlationId:t||C.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!0,correlationId:t||C.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!1,correlationId:t||C.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!0,correlationId:t||C.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!1,correlationId:t||C.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!0,correlationId:t||C.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var ep="@azure/msal-common",ac="14.16.0";var Co={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};var je={};rr(je,{createAccessTokenEntity:()=>nE,createIdTokenEntity:()=>tE,createRefreshTokenEntity:()=>rE,generateAppMetadataKey:()=>V2,generateAuthorityMetadataExpiresAt:()=>np,generateCredentialKey:()=>xu,isAccessTokenEntity:()=>M2,isAppMetadataEntity:()=>H2,isAuthorityMetadataEntity:()=>B2,isAuthorityMetadataExpired:()=>rp,isCredentialEntity:()=>tp,isIdTokenEntity:()=>R2,isRefreshTokenEntity:()=>N2,isServerTelemetryEntity:()=>F2,isThrottlingEntity:()=>U2,updateAuthorityEndpointMetadata:()=>lc,updateCloudDiscoveryMetadata:()=>Pu});var Eo={};rr(Eo,{checkMaxAge:()=>Nu,extractTokenClaims:()=>_i,getJWSPayload:()=>iA});function _i(n,e){let t=iA(n);try{let r=e(t);return JSON.parse(r)}catch{throw w(po)}}function iA(n){if(!n)throw w(Es);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw w(po);return t[2]}function Nu(n,e){if(e===0||Date.now()-3e5>n+e)throw w(Ss)}var Ou={};rr(Ou,{delay:()=>D2,isTokenExpired:()=>cc,nowSeconds:()=>Mn,wasClockTurnedBack:()=>eE});function Mn(){return Math.round(new Date().getTime()/1e3)}function cc(n,e){let t=Number(n)||0;return Mn()+e>t}function eE(n){return Number(n)>Mn()}function D2(n,e){return new Promise(t=>setTimeout(()=>t(e),n))}function xu(n){return[O2(n),x2(n),P2(n),k2(n),L2(n)].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}function tE(n,e,t,r,i){return{credentialType:K.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:i}}function nE(n,e,t,r,i,o,s,a,c,l,u,d,f,p,g){let v={homeAccountId:n,credentialType:K.ACCESS_TOKEN,secret:t,cachedAt:Mn().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:u||ye.BEARER};if(d&&(v.userAssertionHash=d),l&&(v.refreshOn=l.toString()),p&&(v.requestedClaims=p,v.requestedClaimsHash=g),v.tokenType?.toLowerCase()!==ye.BEARER.toLowerCase())switch(v.credentialType=K.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case ye.POP:let S=_i(t,c);if(!S?.cnf?.kid)throw w(Os);v.keyId=S.cnf.kid;break;case ye.SSH:v.keyId=f}return v}function rE(n,e,t,r,i,o,s){let a={credentialType:K.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function tp(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function M2(n){return n?tp(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===K.ACCESS_TOKEN||n.credentialType===K.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function R2(n){return n?tp(n)&&n.hasOwnProperty("realm")&&n.credentialType===K.ID_TOKEN:!1}function N2(n){return n?tp(n)&&n.credentialType===K.REFRESH_TOKEN:!1}function O2(n){return[n.homeAccountId,n.environment].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}function x2(n){let e=n.credentialType===K.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}function P2(n){return(n.target||"").toLowerCase()}function k2(n){return(n.requestedClaimsHash||"").toLowerCase()}function L2(n){return n.tokenType&&n.tokenType.toLowerCase()!==ye.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function F2(n,e){let t=n.indexOf(_t.CACHE_KEY)===0,r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function U2(n,e){let t=!1;n&&(t=n.indexOf(yi.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function V2({environment:n,clientId:e}){return[hu,n,e].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}function H2(n,e){return e?n.indexOf(hu)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function B2(n,e){return e?n.indexOf(sc.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function np(){return Mn()+sc.REFRESH_TIME_SECONDS}function lc(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function Pu(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function rp(n){return n.expiresAt<=Mn()}var gr={};rr(gr,{authorityMismatch:()=>Bu,authorityUriInsecure:()=>Vs,cannotAllowNativeBroker:()=>Hu,cannotSetOIDCOptions:()=>Vu,claimsRequestParsingError:()=>ku,emptyInputScopesError:()=>Bs,invalidAuthenticationHeader:()=>Uu,invalidAuthorityMetadata:()=>Gs,invalidClaims:()=>wi,invalidCloudDiscoveryMetadata:()=>_o,invalidCodeChallengeMethod:()=>zs,invalidPromptValue:()=>js,logoutRequestEmpty:()=>qs,missingNonceAuthenticationHeader:()=>Fu,missingSshJwk:()=>Ti,missingSshKid:()=>Lu,pkceParamsMissing:()=>Ii,redirectUriEmpty:()=>Us,tokenRequestEmpty:()=>$s,untrustedAuthority:()=>Ws,urlEmptyError:()=>Hs,urlParseError:()=>Fr});var Us="redirect_uri_empty",ku="claims_request_parsing_error",Vs="authority_uri_insecure",Fr="url_parse_error",Hs="empty_url_error",Bs="empty_input_scopes_error",js="invalid_prompt_value",wi="invalid_claims",$s="token_request_empty",qs="logout_request_empty",zs="invalid_code_challenge_method",Ii="pkce_params_missing",_o="invalid_cloud_discovery_metadata",Gs="invalid_authority_metadata",Ws="untrusted_authority",Ti="missing_ssh_jwk",Lu="missing_ssh_kid",Fu="missing_nonce_authentication_header",Uu="invalid_authentication_header",Vu="cannot_set_OIDCOptions",Hu="cannot_allow_native_broker",Bu="authority_mismatch";var et={[Us]:"A redirect URI is required for all calls, and none has been set.",[ku]:"Could not parse the given claims request object.",[Vs]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Fr]:"URL could not be parsed into appropriate segments.",[Hs]:"URL was empty or null.",[Bs]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[js]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[wi]:"Given claims parameter must be a stringified JSON object.",[$s]:"Token request was empty and not found in cache.",[qs]:"The logout request was null or undefined.",[zs]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ii]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[_o]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Gs]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ws]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Ti]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Lu]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Fu]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Uu]:"Invalid authentication header provided",[Vu]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Hu]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Bu]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},oA={redirectUriNotSet:{code:Us,desc:et[Us]},claimsRequestParsingError:{code:ku,desc:et[ku]},authorityUriInsecure:{code:Vs,desc:et[Vs]},urlParseError:{code:Fr,desc:et[Fr]},urlEmptyError:{code:Hs,desc:et[Hs]},emptyScopesError:{code:Bs,desc:et[Bs]},invalidPrompt:{code:js,desc:et[js]},invalidClaimsRequest:{code:wi,desc:et[wi]},tokenRequestEmptyError:{code:$s,desc:et[$s]},logoutRequestEmptyError:{code:qs,desc:et[qs]},invalidCodeChallengeMethod:{code:zs,desc:et[zs]},invalidCodeChallengeParams:{code:Ii,desc:et[Ii]},invalidCloudDiscoveryMetadata:{code:_o,desc:et[_o]},invalidAuthorityMetadata:{code:Gs,desc:et[Gs]},untrustedAuthority:{code:Ws,desc:et[Ws]},missingSshJwk:{code:Ti,desc:et[Ti]},missingSshKid:{code:Lu,desc:et[Lu]},missingNonceAuthenticationHeader:{code:Fu,desc:et[Fu]},invalidAuthenticationHeader:{code:Uu,desc:et[Uu]},cannotSetOIDCOptions:{code:Vu,desc:et[Vu]},cannotAllowNativeBroker:{code:Hu,desc:et[Hu]},authorityMismatch:{code:Bu,desc:et[Bu]}},ju=class n extends ue{constructor(e){super(e,et[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,n.prototype)}};function _e(n){return new ju(n)}var Ze=class{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){let[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}};var Ke=class n{constructor(e){let t=e?Ze.trimArrayEntries([...e]):[],r=t?Ze.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){let r=(e||C.EMPTY_STRING).split(" ");return new n(r)}static createSearchScopes(e){let t=new n(e);return t.containsOnlyOIDCScopes()?t.removeScope(C.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw _e(Bs)}containsScope(e){let t=this.printScopesLowerCase().split(" "),r=new n(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return ZC.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw w(Rs)}}removeScope(e){if(!e)throw w(Ms);this.scopes.delete(e.trim())}removeOIDCScopes(){ZC.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw w(go);let t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw w(go);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):C.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function uc(n,e){if(!n)throw w(Cs);try{let t=e(n);return JSON.parse(t)}catch{throw w(fo)}}function bi(n){if(!n)throw w(fo);let e=n.split(rt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?C.EMPTY_STRING:e[1]}}function dc(n,e){return!!n&&!!e&&n===e.split(".")[1]}function hc(n,e,t,r){if(r){let{oid:i,sub:o,tid:s,name:a,tfp:c,acr:l}=r,u=s||c||l||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:dc(u,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:dc(t,n)}}function Ks(n,e,t,r){let i=n;if(e){let o=e,{isHomeTenant:a}=o,c=nr(o,["isHomeTenant"]);i=y(y({},n),c)}if(t){let s=hc(n.homeAccountId,n.localAccountId,n.tenantId,t),{isHomeTenant:a}=s,c=nr(s,["isHomeTenant"]);return i=R(y(y({},i),c),{idTokenClaims:t,idToken:r}),i}return i}var Zt={Default:0,Adfs:1,Dsts:2,Ciam:3};function ip(n){return n&&(n.tid||n.tfp||n.acr)||null}var kt={AAD:"AAD",OIDC:"OIDC"};var qe=class n{generateAccountId(){return[this.homeAccountId,this.environment].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(rt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){let i=new n;t.authorityType===Zt.Adfs?i.authorityType=oc.ADFS_ACCOUNT_TYPE:t.protocolMode===kt.AAD?i.authorityType=oc.MSSTS_ACCOUNT_TYPE:i.authorityType=oc.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=uc(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let s=e.environment||t&&t.getPreferredCache();if(!s)throw w(Ei);i.environment=s,i.realm=o?.utid||ip(e.idTokenClaims)||"",i.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let l=hc(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[l]}return i}static createFromAccountInfo(e,t,r){let i=new n;return i.authorityType=e.authorityType||oc.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,t,r,i,o){if(!(t===Zt.Adfs||t===Zt.Dsts)){if(e)try{let s=uc(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let i=!0;if(r){let o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}};var wo={};rr(wo,{getDeserializedResponse:()=>iE,stripLeadingHashOrQuery:()=>sA});function sA(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function iE(n){if(!n||n.indexOf("=")<0)return null;try{let e=sA(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw w(Is)}return null}var ie=class n{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw _e(Hs);e.includes("#")||(this._urlString=n.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Ze.endsWith(t,"?")?t=t.slice(0,-1):Ze.endsWith(t,"?/")&&(t=t.slice(0,-2)),Ze.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw _e(Fr)}if(!e.HostNameAndPort||!e.PathSegments)throw _e(Fr);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw _e(Vs)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return n.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===hr.COMMON||r[0]===hr.ORGANIZATIONS)&&(r[0]=e),n.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw _e(Fr);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw _e(Fr);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===C.FORWARD_SLASH){let i=new n(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new n(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!iE(e)}};var cA={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},oE=cA.endpointMetadata,sE=cA.instanceDiscoveryMetadata,aE=new Set;sE.metadata.forEach(n=>{n.aliases.forEach(e=>{aE.add(e)})});function lA(n,e){let t,r=n.canonicalAuthority;if(r){let i=new ie(r).getUrlComponents().HostNameAndPort;t=aA(i,n.cloudDiscoveryMetadata?.metadata,Qt.CONFIG,e)||aA(i,sE.metadata,Qt.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function aA(n,e,t,r){if(r?.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){let i=$u(e,n);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function uA(n){return $u(sE.metadata,n)}function $u(n,e){for(let t=0;t<n.length;t++){let r=n[t];if(r.aliases.includes(e))return r}return null}var op="cache_quota_exceeded",qu="cache_error_unknown";var cE={[op]:"Exceeded cache storage capacity.",[qu]:"Unexpected error occurred when using cache storage."},Si=class n extends Error{constructor(e,t){let r=t||(cE[e]?cE[e]:cE[qu]);super(`${e}: ${r}`),Object.setPrototypeOf(this,n.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}};var Ai=class n{constructor(e,t,r,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(ep,ac),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){let t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;let a=this.getIdToken(e,t,r.tenantId);return a&&(s=_i(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=Ks(e,r,s,a?.secret),o)}getTenantProfilesFromAccountEntity(e,t,r){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,s=this.getTokenKeys();if(t){let c=o.get(t);if(c)o=new Map([[t,c]]);else return[]}let a=[];return o.forEach(c=>{let l=this.getTenantedAccountInfoByFilter(i,s,c,r);l&&a.push(l)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}saveCacheRecord(e,t,r){return m(this,null,function*(){if(!e)throw w(Ns);try{e.account&&this.setAccount(e.account),e.idToken&&t?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&t?.accessToken!==!1&&(yield this.saveAccessToken(e.accessToken)),e.refreshToken&&t?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i.message}`,r),i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new Si(op)):new Si(i.name,i.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i}`,r),new Si(qu))}})}saveAccessToken(e){return m(this,null,function*(){let t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Ke.fromString(e.target),o=[];r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!1))return;let a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,t)&&Ke.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),yield Promise.all(o),this.setAccessTokenCredential(e)})}getAccountsFilteredBy(e){let t=this.getAccountKeys(),r=[];return t.forEach(i=>{if(!this.isAccountKey(i,e.homeAccountId))return;let o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;let s={localAccountId:e?.localAccountId,name:e?.name},a=o.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||r.push(o)}),r}isAccountKey(e,t,r){return!(e.split(rt.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(rt.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(t.indexOf(K.ID_TOKEN.toLowerCase())===-1&&t.indexOf(K.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(K.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(K.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(K.REFRESH_TOKEN.toLowerCase())>-1){let r=`${K.REFRESH_TOKEN}${rt.CACHE_KEY_SEPARATOR}${this.clientId}${rt.CACHE_KEY_SEPARATOR}`,i=`${K.REFRESH_TOKEN}${rt.CACHE_KEY_SEPARATOR}${ho}${rt.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===K.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===ye.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;let o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}removeAllAccounts(){return m(this,null,function*(){let e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),yield Promise.all(t)})}removeAccount(e){return m(this,null,function*(){let t=this.getAccount(e,this.commonLogger);t&&(yield this.removeAccountContext(t),this.removeItem(e))})}removeAccountContext(e){return m(this,null,function*(){let t=this.getTokenKeys(),r=e.generateAccountId(),i=[];t.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),t.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),t.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),yield Promise.all(i)})}updateOutdatedCachedAccount(e,t,r){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let i=this.getAccountKeys().filter(l=>l.startsWith(t.homeAccountId)),o=[];i.forEach(l=>{let u=this.getCachedAccountEntity(l);u&&o.push(u)});let s=o.find(l=>dc(l.realm,l.homeAccountId))||o[0];s.tenantProfiles=o.map(l=>({tenantId:l.realm,localAccountId:l.localAccountId,name:l.name,isHomeTenant:dc(l.realm,l.homeAccountId)}));let a=n.toObject(new qe,y({},s)),c=a.generateAccountKey();return i.forEach(l=>{l!==c&&this.removeOutdatedAccount(e)}),this.setAccount(a),r?.verbose("Updated an outdated account entity in the cache"),a}return t}removeAccessToken(e){return m(this,null,function*(){let t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===K.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===ye.POP){let i=t.keyId;if(i)try{yield this.cryptoImpl.removeTokenBindingKey(i)}catch{throw w(Ps)}}return this.removeItem(e)}})}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){let t=qe.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:K.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){let u=new Map;a.forEach((f,p)=>{f.realm===e.tenantId&&u.set(p,f)});let d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){let r=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,y({clientId:this.clientId},e)))return;let s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");let a=Ke.createSearchScopes(t.scopes),c=t.authenticationScheme||ye.BEARER,l=c&&c.toLowerCase()!==ye.BEARER.toLowerCase()?K.ACCESS_TOKEN_WITH_AUTH_SCHEME:K.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,f=[];d.forEach(g=>{if(this.accessTokenKeyMatchesFilter(g,u,!0)){let v=this.getAccessTokenCredential(g);v&&this.credentialMatchesFilter(v,u)&&f.push(v)}});let p=f.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(g=>{this.removeAccessToken(xu(g))}),o&&s&&o.addFields({multiMatchedAT:f.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,t,r){let i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){let o=t.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){let t=this.getTokenKeys(),r=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;let o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=t?ho:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:K.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){let f=this.getRefreshTokenCredential(d);f&&this.credentialMatchesFilter(f,a)&&l.push(f)}});let u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw w(As);return i[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===ho)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){let r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&typeof e=="string"&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let i=lA(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==K.ACCESS_TOKEN&&e.credentialType!==K.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ke.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(hu)!==-1}isAuthorityMetadata(e){return e.indexOf(sc.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${sc.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}},zu=class extends Ai{setAccount(){throw w(ne)}getAccount(){throw w(ne)}getCachedAccountEntity(){throw w(ne)}setIdTokenCredential(){throw w(ne)}getIdTokenCredential(){throw w(ne)}setAccessTokenCredential(){throw w(ne)}getAccessTokenCredential(){throw w(ne)}setRefreshTokenCredential(){throw w(ne)}getRefreshTokenCredential(){throw w(ne)}setAppMetadata(){throw w(ne)}getAppMetadata(){throw w(ne)}setServerTelemetry(){throw w(ne)}getServerTelemetry(){throw w(ne)}setAuthorityMetadata(){throw w(ne)}getAuthorityMetadata(){throw w(ne)}getAuthorityMetadataKeys(){throw w(ne)}setThrottlingCache(){throw w(ne)}getThrottlingCache(){throw w(ne)}removeItem(){throw w(ne)}getKeys(){throw w(ne)}getAccountKeys(){throw w(ne)}getTokenKeys(){throw w(ne)}updateCredentialCacheKey(){throw w(ne)}removeOutdatedAccount(){throw w(ne)}};var sp={tokenRenewalOffsetSeconds:XC,preventCorsPreflight:!1},j2={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info,correlationId:C.EMPTY_STRING},$2={claimsBasedCachingEnabled:!1},q2={sendGetRequestAsync(){return m(this,null,function*(){throw w(ne)})},sendPostRequestAsync(){return m(this,null,function*(){throw w(ne)})}},z2={sku:C.SKU,version:ac,cpu:C.EMPTY_STRING,os:C.EMPTY_STRING},G2={clientSecret:C.EMPTY_STRING,clientAssertion:void 0},W2={azureCloudInstance:Co.None,tenant:`${C.DEFAULT_COMMON_TENANT}`},K2={application:{appName:"",appVersion:""}};function dA({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:f}){let p=y(y({},j2),t);return{authOptions:Q2(n),systemOptions:y(y({},sp),e),loggerOptions:p,cacheOptions:y(y({},$2),r),storageInterface:i||new zu(n.clientId,vo,new gn(p)),networkInterface:o||q2,cryptoInterface:s||vo,clientCredentials:a||G2,libraryInfo:y(y({},z2),c),telemetry:y(y({},K2),l),serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:f||null}}function Q2(n){return y({clientCapabilities:[],azureCloudOptions:W2,skipAuthorityMetadataCache:!1,instanceAware:!1},n)}function Gu(n){return n.authOptions.authority.options.protocolMode===kt.OIDC}var It={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var Mi={};rr(Mi,{ACCESS_TOKEN:()=>J2,BROKER_CLIENT_ID:()=>hp,BROKER_REDIRECT_URI:()=>qE,CCS_HEADER:()=>sU,CLAIMS:()=>dE,CLIENT_ASSERTION:()=>kE,CLIENT_ASSERTION_TYPE:()=>LE,CLIENT_ID:()=>Di,CLIENT_INFO:()=>rU,CLIENT_REQUEST_ID:()=>_E,CLIENT_SECRET:()=>PE,CODE:()=>yE,CODE_CHALLENGE:()=>vE,CODE_CHALLENGE_METHOD:()=>CE,CODE_VERIFIER:()=>EE,DEVICE_CODE:()=>xE,DOMAIN_HINT:()=>$E,ERROR:()=>Y2,ERROR_DESCRIPTION:()=>Z2,EXPIRES_IN:()=>eU,FOCI:()=>oU,GRANT_TYPE:()=>uE,ID_TOKEN:()=>X2,ID_TOKEN_HINT:()=>OE,LOGIN_HINT:()=>jE,LOGOUT_HINT:()=>HE,NATIVE_BROKER:()=>VE,NONCE:()=>mE,OBO_ASSERTION:()=>FE,ON_BEHALF_OF:()=>iU,POST_LOGOUT_URI:()=>NE,PROMPT:()=>gE,REDIRECT_URI:()=>ap,REFRESH_TOKEN:()=>fE,REFRESH_TOKEN_EXPIRES_IN:()=>tU,REQUESTED_TOKEN_USE:()=>UE,REQ_CNF:()=>up,RESPONSE_MODE:()=>lE,RESPONSE_TYPE:()=>cp,RETURN_SPA_CODE:()=>dp,SCOPE:()=>hE,SESSION_STATE:()=>nU,SID:()=>BE,STATE:()=>pE,TOKEN_TYPE:()=>lp,X_APP_NAME:()=>ME,X_APP_VER:()=>RE,X_CLIENT_CPU:()=>bE,X_CLIENT_CURR_TELEM:()=>SE,X_CLIENT_EXTRA_SKU:()=>aU,X_CLIENT_LAST_TELEM:()=>AE,X_CLIENT_OS:()=>TE,X_CLIENT_SKU:()=>wE,X_CLIENT_VER:()=>IE,X_MS_LIB_CAPABILITY:()=>DE});var Di="client_id",ap="redirect_uri",cp="response_type",lE="response_mode",uE="grant_type",dE="claims",hE="scope",Y2="error",Z2="error_description",J2="access_token",X2="id_token",fE="refresh_token",eU="expires_in",tU="refresh_token_expires_in",pE="state",mE="nonce",gE="prompt",nU="session_state",rU="client_info",yE="code",vE="code_challenge",CE="code_challenge_method",EE="code_verifier",_E="client-request-id",wE="x-client-SKU",IE="x-client-VER",TE="x-client-OS",bE="x-client-CPU",SE="x-client-current-telemetry",AE="x-client-last-telemetry",DE="x-ms-lib-capability",ME="x-app-name",RE="x-app-ver",NE="post_logout_redirect_uri",OE="id_token_hint",xE="device_code",PE="client_secret",kE="client_assertion",LE="client_assertion_type",lp="token_type",up="req_cnf",FE="assertion",UE="requested_token_use",iU="on_behalf_of",oU="foci",sU="X-AnchorMailbox",dp="return_spa_code",VE="nativebroker",HE="logout_hint",BE="sid",jE="login_hint",$E="domain_hint",aU="x-client-xtra-sku",hp="brk_client_id",qE="brk_redirect_uri";var Ur=class{static validateRedirectUri(e){if(!e)throw _e(Us)}static validatePrompt(e){let t=[];for(let r in We)t.push(We[r]);if(t.indexOf(e)<0)throw _e(js)}static validateClaims(e){try{JSON.parse(e)}catch{throw _e(wi)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw _e(Ii);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Kf.PLAIN,Kf.S256].indexOf(e)<0)throw _e(zs)}};function cU(n,e,t){if(!e)return;let r=n.get(Di);r&&n.has(hp)&&t?.addFields({embeddedClientId:r,embeddedRedirectUri:n.get(ap)},e)}var Vr=class{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(cp,encodeURIComponent(C.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(cp,encodeURIComponent(`${C.TOKEN_RESPONSE_TYPE} ${C.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(lE,encodeURIComponent(e||JC.QUERY))}addNativeBroker(){this.parameters.set(VE,encodeURIComponent("1"))}addScopes(e,t=!0,r=Dn){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");let i=t?[...e||[],...r]:e||[],o=new Ke(i);this.parameters.set(hE,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Di,encodeURIComponent(e))}addRedirectUri(e){Ur.validateRedirectUri(e),this.parameters.set(ap,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Ur.validateRedirectUri(e),this.parameters.set(NE,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(OE,encodeURIComponent(e))}addDomainHint(e){this.parameters.set($E,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(jE,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(at.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(at.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(BE,encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);Ur.validateClaims(r),this.parameters.set(dE,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(_E,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(wE,e.sku),this.parameters.set(IE,e.version),e.os&&this.parameters.set(TE,e.os),e.cpu&&this.parameters.set(bE,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(ME,e.appName),e?.appVersion&&this.parameters.set(RE,e.appVersion)}addPrompt(e){Ur.validatePrompt(e),this.parameters.set(`${gE}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(pE,encodeURIComponent(e))}addNonce(e){this.parameters.set(mE,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Ur.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(vE,encodeURIComponent(e)),this.parameters.set(CE,encodeURIComponent(t));else throw _e(Ii)}addAuthorizationCode(e){this.parameters.set(yE,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(xE,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(fE,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(EE,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(PE,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(kE,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(LE,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(FE,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(UE,encodeURIComponent(e))}addGrantType(e){this.parameters.set(uE,encodeURIComponent(e))}addClientInfo(){this.parameters.set(tA,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,r])=>{!this.parameters.has(t)&&r&&this.parameters.set(t,r)})}addClientCapabilitiesToClaims(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw _e(wi)}return t&&t.length>0&&(r.hasOwnProperty(ic.ACCESS_TOKEN)||(r[ic.ACCESS_TOKEN]={}),r[ic.ACCESS_TOKEN][ic.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(Yf.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Yf.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(lp,ye.POP),this.parameters.set(up,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(lp,ye.SSH),this.parameters.set(up,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(SE,e.generateCurrentRequestHeaderValue()),this.parameters.set(AE,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(DE,yi.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(HE,encodeURIComponent(e))}addBrokerParameters(e){let t={};t[hp]=e.brokerClientId,t[qE]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=new Array;return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),cU(this.parameters,this.correlationId,this.performanceClient),e.join("&")}};var pp={};rr(pp,{createDiscoveredInstance:()=>WE});function hA(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}function fA(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}function pA(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}var h={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},m7=new Map([[h.AcquireTokenByCode,"ATByCode"],[h.AcquireTokenByRefreshToken,"ATByRT"],[h.AcquireTokenSilent,"ATS"],[h.AcquireTokenSilentAsync,"ATSAsync"],[h.AcquireTokenPopup,"ATPopup"],[h.AcquireTokenRedirect,"ATRedirect"],[h.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[h.CryptoOptsSignJwt,"CryptoSignJwt"],[h.SilentCacheClientAcquireToken,"SltCacheClientAT"],[h.SilentIframeClientAcquireToken,"SltIframeClientAT"],[h.SilentRefreshClientAcquireToken,"SltRClientAT"],[h.SsoSilent,"SsoSlt"],[h.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[h.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[h.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[h.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[h.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[h.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[h.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[h.BrokerHandhshake,"BrokerHandshake"],[h.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[h.AcquireTokenByBroker,"ATByBroker"],[h.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[h.RefreshTokenClientAcquireToken,"RTClientAT"],[h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[h.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[h.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[h.AcquireTokenFromCache,"ATFromCache"],[h.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[h.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[h.AcquireTokenBySilentIframe,"ATBySltIframe"],[h.InitializeBaseRequest,"InitBaseReq"],[h.InitializeSilentRequest,"InitSltReq"],[h.InitializeClientApplication,"InitClientApplication"],[h.SilentIframeClientTokenHelper,"SIClientTHelper"],[h.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[h.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[h.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[h.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[h.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[h.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[h.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[h.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[h.GetAuthCodeUrl,"GetAuthCodeUrl"],[h.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[h.HandleCodeResponse,"HandleCodeResp"],[h.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[h.AuthClientAcquireToken,"AuthClientAT"],[h.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[h.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[h.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[h.PopTokenGenerateCnf,"PopTGenCnf"],[h.PopTokenGenerateKid,"PopTGenKid"],[h.HandleServerTokenResponse,"HandleServerTRes"],[h.DeserializeResponse,"DeserializeRes"],[h.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[h.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[h.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[h.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[h.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[h.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[h.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[h.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[h.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[h.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[h.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[h.AcquireTokenByCodeAsync,"ATByCodeAsync"],[h.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[h.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[h.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[h.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[h.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[h.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[h.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[h.NativeGenerateAuthResult,"NtvGenAuthRes"],[h.RemoveHiddenIframe,"RemoveHiddenIframe"],[h.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[h.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[h.GeneratePkceCodes,"GenPkceCodes"],[h.GenerateCodeVerifier,"GenCodeVerifier"],[h.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[h.Sha256Digest,"Sha256Digest"],[h.GetRandomValues,"GetRandomValues"]]),zE={NotStarted:0,InProgress:1,Completed:2};var Jt=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}try{let a=n(...o);return s?.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},b=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}return r?.setPreQueueTime(e,i),n(...o).then(a=>(t.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};var mA=(()=>{class n{constructor(t,r,i,o){this.networkInterface=t,this.logger=r,this.performanceClient=i,this.correlationId=o}detectRegion(t,r){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryDetectRegion,this.correlationId);let i=t;if(i)r.region_source=ys.ENVIRONMENT_VARIABLE;else{let o=n.IMDS_OPTIONS;try{let s=yield b(this.getRegionFromIMDS.bind(this),h.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(C.IMDS_VERSION,o);if(s.status===fu.httpSuccess&&(i=s.body,r.region_source=ys.IMDS),s.status===fu.httpBadRequest){let a=yield b(this.getCurrentVersion.bind(this),h.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return r.region_source=ys.FAILED_AUTO_DETECTION,null;let c=yield b(this.getRegionFromIMDS.bind(this),h.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===fu.httpSuccess&&(i=c.body,r.region_source=ys.IMDS)}}catch{return r.region_source=ys.FAILED_AUTO_DETECTION,null}}return i||(r.region_source=ys.FAILED_AUTO_DETECTION),i||null})}getRegionFromIMDS(t,r){return m(this,null,function*(){return this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${C.IMDS_ENDPOINT}?api-version=${t}&format=text`,r,C.IMDS_TIMEOUT)})}getCurrentVersion(t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=yield this.networkInterface.sendGetRequestAsync(`${C.IMDS_ENDPOINT}?format=json`,t);return r.status===fu.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}})}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();var zn=class n{constructor(e,t,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new mA(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(C.CIAM_AUTH_URL))return Zt.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case C.ADFS:return Zt.Adfs;case C.DSTS:return Zt.Dsts}return Zt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new ie(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw w(Yt)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw w(Yt)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw w(Yt)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw w(ks);return this.replacePath(this.metadata.end_session_endpoint)}else throw w(Yt)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw w(Yt)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw w(Yt)}canReplaceTenant(e){return e.PathSegments.length===1&&!n.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Zt.Default&&this.protocolMode===kt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,i=new ie(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(i)){let u=new ie(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}a!==l&&(t=t.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Zt.Adfs||this.protocolMode!==kt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=yield b(this.updateCloudDiscoveryMetadata.bind(this),h.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=yield b(this.updateEndpointMetadata.bind(this),h.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)})}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:np(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==Qt.CACHE&&r?.source!==Qt.CACHE&&(e.expiresAt=np(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}updateEndpointMetadata(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Qt.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){let i=yield b(this.updateMetadataWithRegionalInformation.bind(this),h.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);lc(e,i,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=yield b(this.getEndpointMetadataFromNetwork.bind(this),h.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=yield b(this.updateMetadataWithRegionalInformation.bind(this),h.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),lc(e,r,!0),Qt.NETWORK;throw w(ws,this.defaultOpenIdConfigurationEndpoint)})}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),lc(e,t,!1),{source:Qt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return lc(e,i,!1),{source:Qt.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=rp(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Qt.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new ie(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw _e(Gs)}return null}getEndpointMetadataFromNetwork(){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{let r=yield this.networkInterface.sendGetRequestAsync(t,e);return hA(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}})}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in oE?oE[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==C.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Zf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,n.replaceWithRegionalInformation(e,t);let r=yield b(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),h.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=Zf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,n.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=Zf.AUTO_DETECTION_REQUESTED_FAILED}return e})}updateCloudDiscoveryMetadata(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=yield b(this.getCloudDiscoveryMetadataFromNetwork.bind(this),h.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Pu(e,r,!0),Qt.NETWORK;throw _e(Ws)})}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||C.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||C.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||C.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Pu(e,t,!1),Qt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let i=uA(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Pu(e,i,!1),Qt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let r=rp(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Qt.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Zt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=$u(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),_e(_o)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${C.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={},r=null;try{let i=yield this.networkInterface.sendGetRequestAsync(e,t),o,s;if(fA(i.body))o=i.body,s=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(pA(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),o=i.body,o.error===C.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=$u(s,this.hostnameAndPort)}catch(i){if(i instanceof ue)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{let o=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r})}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&ie.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==Co.None){let i=t.tenant?t.tenant:C.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return C.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw w(Yt)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return aE.has(e)}static isPublicCloudAuthority(e){return C.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let i=new ie(e);i.validateAsUri();let o=i.getUrlComponents(),s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${C.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=ie.constructAuthorityUriFromObject(R(y({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){let r=y({},e);return r.authorization_endpoint=n.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=n.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=n.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,i=new ie(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(C.CIAM_AUTH_URL)){let o=i.HostNameAndPort.split(".")[0];t=`${t}${o}${C.AAD_TENANT_DOMAIN_SUFFIX}`}return t}};zn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",hr.COMMON,hr.CONSUMERS,hr.ORGANIZATIONS]);function gA(n){let r=new ie(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case hr.COMMON:case hr.ORGANIZATIONS:case hr.CONSUMERS:return;default:return r}}function fp(n){return n.endsWith(C.FORWARD_SLASH)?n:`${n}${C.FORWARD_SLASH}`}function GE(n){let e=n.cloudDiscoveryMetadata,t;if(e)try{t=JSON.parse(e)}catch{throw _e(_o)}return{canonicalAuthority:n.authority?fp(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}function WE(n,e,t,r,i,o,s){return m(this,null,function*(){s?.addQueueMeasurement(h.AuthorityFactoryCreateDiscoveredInstance,o);let a=zn.transformCIAMAuthority(fp(n)),c=new zn(a,e,t,r,i,o,s);try{return yield b(c.resolveEndpointsAsync.bind(c),h.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw w(Yt)}})}var Xt=class n extends ue{constructor(e,t,r,i,o){super(e,t,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,n.prototype)}};var Hr=class n{static generateThrottlingStorageKey(e){return`${yi.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){let r=n.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new Xt(i.errorCodes?.join(" ")||C.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){let i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[at.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(n.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(at.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||yi.DEFAULT_THROTTLE_TIME_SECONDS),r+yi.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,i){let o={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s)}};var fc=class n extends ue{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,n.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}};function mp(n,e,t){return new fc(n,e,t)}var Io=class{constructor(e,t){this.config=dA(e),this.logger=new gn(this.config.loggerOptions,ep,ac),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[at.CONTENT_TYPE]=C.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case It.HOME_ACCOUNT_ID:try{let r=bi(e.credential);t[at.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case It.UPN:t[at.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}executePostToTokenEndpoint(e,t,r,i,o,s){return m(this,null,function*(){s&&this.performanceClient?.addQueueMeasurement(s,o);let a=yield this.sendPostRequest(i,e,{body:t,headers:r},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a})}sendPostRequest(e,t,r,i){return m(this,null,function*(){Hr.preProcess(this.cacheManager,e);let o;try{o=yield b(this.networkClient.sendPostRequestAsync.bind(this.networkClient),h.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(t,r);let s=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:s[at.X_MS_HTTP_VERSION]||"",requestId:s[at.X_MS_REQUEST_ID]||""},i)}catch(s){if(s instanceof fc){let a=s.responseHeaders;throw a&&this.performanceClient?.addFields({httpVerToken:a[at.X_MS_HTTP_VERSION]||"",requestId:a[at.X_MS_REQUEST_ID]||"",contentTypeHeader:a[at.CONTENT_TYPE]||void 0,contentLengthHeader:a[at.CONTENT_LENGTH]||void 0,httpStatus:s.httpStatus},i),s.error}throw s instanceof ue?s:w(_s)}return Hr.postProcess(this.cacheManager,e,o),o})}updateAuthority(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.UpdateTokenEndpointAuthority,t);let r=`https://${e}/${this.authority.tenant}/`,i=yield WE(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i})}createTokenQueryParameters(e){let t=new Vr(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}};var Ri={};rr(Ri,{badToken:()=>bo,consentRequired:()=>QE,interactionRequired:()=>KE,loginRequired:()=>YE,nativeAccountUnavailable:()=>Wu,noTokensFound:()=>To,refreshTokenExpired:()=>Ku});var To="no_tokens_found",Wu="native_account_unavailable",Ku="refresh_token_expired",KE="interaction_required",QE="consent_required",YE="login_required",bo="bad_token";var yA=[KE,QE,YE,bo],lU=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],gp={[To]:"No refresh token found in the cache. Please sign-in.",[Wu]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Ku]:"Refresh token has expired.",[bo]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},vA={noTokensFoundError:{code:To,desc:gp[To]},native_account_unavailable:{code:Wu,desc:gp[Wu]},bad_token:{code:bo,desc:gp[bo]}},Lt=class n extends ue{constructor(e,t,r,i,o,s,a,c){super(e,t,r),Object.setPrototypeOf(this,n.prototype),this.timestamp=i||C.EMPTY_STRING,this.traceId=o||C.EMPTY_STRING,this.correlationId=s||C.EMPTY_STRING,this.claims=a||C.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}};function ZE(n,e,t){let r=!!n&&yA.indexOf(n)>-1,i=!!t&&lU.indexOf(t)>-1,o=!!e&&yA.some(s=>e.indexOf(s)>-1);return r||o||i}function pc(n){return new Lt(n,gp[n])}var Tt=class n{static setRequestState(e,t,r){let i=n.generateLibraryState(e,r);return t?`${i}${C.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw w(yo);let r={id:e.createNewGuid()};t&&(r.meta=t);let i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw w(yo);if(!t)throw w(mr);try{let r=t.split(C.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(C.RESOURCE_DELIM):C.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||C.EMPTY_STRING,libraryState:a}}catch{throw w(mr)}}};var uU={SW:"sw",UHW:"uhw"},Rn=class{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}generateCnf(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.PopTokenGenerateCnf,e.correlationId);let r=yield b(this.generateKid.bind(this),h.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}})}generateKid(e){return m(this,null,function*(){return this.performanceClient?.addQueueMeasurement(h.PopTokenGenerateKid,e.correlationId),{kid:yield this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:uU.SW}})}signPopToken(e,t,r){return m(this,null,function*(){return this.signPayload(e,t,r)})}signPayload(e,t,r,i){return m(this,null,function*(){let{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=r,d=(s?new ie(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt(y({at:e,ts:Mn(),m:o?.toUpperCase(),u:d?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d?.AbsolutePath,q:d?.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0},i),t,l,r.correlationId)})}};var yp=class{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};function dU(n){let e="code=",t=n.error_uri?.lastIndexOf(e);return t&&t>=0?n.error_uri?.substring(t+e.length):void 0}var Br=class n{constructor(e,t,r,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?w(mo,"Cached State"):w(mo,"Server State");let r,i;try{r=decodeURIComponent(e.state)}catch{throw w(mr,e.state)}try{i=decodeURIComponent(t)}catch{throw w(mr,e.state)}if(r!==i)throw w(Ts);if(e.error||e.error_description||e.suberror){let o=dU(e);throw ZE(e.error,e.error_description,e.suberror)?new Lt(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Xt(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||C.NOT_AVAILABLE} - Timestamp: ${e.timestamp||C.NOT_AVAILABLE} - Description: ${e.error_description||C.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||C.NOT_AVAILABLE} - Trace ID: ${e.trace_id||C.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,o=new Xt(e.error,r,e.suberror,i,e.status);if(t&&e.status&&e.status>=rc.SERVER_ERROR_RANGE_START&&e.status<=rc.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(t&&e.status&&e.status>=rc.CLIENT_ERROR_RANGE_START&&e.status<=rc.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw ZE(e.error,e.error_description,e.suberror)?new Lt(e.error,e.error_description,e.suberror,e.timestamp||C.EMPTY_STRING,e.trace_id||C.EMPTY_STRING,e.correlation_id||C.EMPTY_STRING,e.claims||C.EMPTY_STRING,i):o}}handleServerTokenResponse(e,t,r,i,o,s,a,c,l){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=_i(e.id_token||C.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw w(bs);if(i.maxAge||i.maxAge===0){let g=u.auth_time;if(!g)throw w(vi);Nu(g,i.maxAge)}}this.homeAccountIdentifier=qe.generateHomeAccountId(e.client_info||C.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=Tt.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;let f=this.generateCacheRecord(e,t,r,i,u,s,o),p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new yp(this.serializableCache,!0),yield this.persistencePlugin.beforeCacheAccess(p)),a&&!c&&f.account){let g=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(g,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,d,void 0,l)}yield this.cacheStorage.saveCacheRecord(f,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield this.persistencePlugin.afterCacheAccess(p))}return n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,d,e,l)})}generateCacheRecord(e,t,r,i,o,s,a){let c=t.getPreferredCache();if(!c)throw w(Ei);let l=ip(o),u,d;e.id_token&&o&&(u=tE(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=mc(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,a,void 0,this.logger));let f=null;if(e.access_token){let v=e.scope?Ke.fromString(e.scope):new Ke(i.scopes||[]),S=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,L=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,G=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,q=r+S,pe=q+L,$e=G&&G>0?r+G:void 0;f=nE(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||t.tenant||"",v.printScopes(),q,pe,this.cryptoObj.base64Decode,$e,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let p=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){let S=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=r+S}p=rE(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,v)}let g=null;return e.foci&&(g={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:f,refreshToken:p,appMetadata:g}}static generateAuthenticationResult(e,t,r,i,o,s,a,c,l){return m(this,null,function*(){let u=C.EMPTY_STRING,d=[],f=null,p,g,v=C.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===ye.POP&&!o.popKid){let q=new Rn(e),{secret:pe,keyId:$e}=r.accessToken;if(!$e)throw w(Ls);u=yield q.signPopToken(pe,$e,o)}else u=r.accessToken.secret;d=Ke.fromString(r.accessToken.target).asArray(),f=new Date(Number(r.accessToken.expiresOn)*1e3),p=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(g=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(v=r.appMetadata.familyId===ho?ho:"");let S=s?.oid||s?.sub||"",L=s?.tid||"";c?.spa_accountid&&r.account&&(r.account.nativeAccountId=c?.spa_accountid);let G=r.account?Ks(r.account.getAccountInfo(),void 0,s,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:S,tenantId:L,scopes:d,account:G,idToken:r?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:f,extExpiresOn:p,refreshOn:g,correlationId:o.correlationId,requestId:l||C.EMPTY_STRING,familyId:v,tokenType:r.accessToken?.tokenType||C.EMPTY_STRING,state:a?a.userRequestState:C.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||C.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||C.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}})}};function mc(n,e,t,r,i,o,s,a,c,l,u){u?.verbose("setCachedAccount called");let f=n.getAccountKeys().find(L=>L.startsWith(t)),p=null;f&&(p=n.getAccount(f,u));let g=p||qe.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},e,r),v=g.tenantProfiles||[],S=a||g.realm;if(S&&!v.find(L=>L.tenantId===S)){let L=hc(t,g.localAccountId,S,i);v.push(L)}return g.tenantProfiles=v,g}function vp(n,e,t){return m(this,null,function*(){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})})}var Qs=class extends Io{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.GetAuthCodeUrl,e.correlationId);let t=yield b(this.createAuthCodeUrlQueryString.bind(this),h.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return ie.appendQueryString(this.authority.authorizationEndpoint,t)})}acquireToken(e,t){return m(this,null,function*(){if(this.performanceClient?.addQueueMeasurement(h.AuthClientAcquireToken,e.correlationId),!e.code)throw w(Ds);let r=Mn(),i=yield b(this.executeTokenRequest.bind(this),h.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=i.headers?.[at.X_MS_REQUEST_ID],s=new Br(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),b(s.handleServerTokenResponse.bind(s),h.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,t,void 0,void 0,void 0,o)})}handleFragmentResponse(e,t){if(new Br(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw w(xs);return e}getLogoutUri(e){if(!e)throw _e(qs);let t=this.createLogoutUrlQueryString(e);return ie.appendQueryString(this.authority.endSessionEndpoint,t)}executeTokenRequest(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthClientExecuteTokenRequest,t.correlationId);let r=this.createTokenQueryParameters(t),i=ie.appendQueryString(e.tokenEndpoint,r),o=yield b(this.createTokenRequestBody.bind(this),h.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s;if(t.clientInfo)try{let l=uc(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${rt.CLIENT_INFO_SEPARATOR}${l.utid}`,type:It.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}let a=this.createTokenRequestHeaders(s||t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return b(this.executePostToTokenEndpoint.bind(this),h.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,a,c,t.correlationId,h.AuthorizationCodeClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthClientCreateTokenRequestBody,e.correlationId);let t=new Vr(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Di]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Ur.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Gu(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;t.addClientAssertion(yield vp(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(i.assertionType)}if(t.addGrantType(du.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===ye.POP){let i=new Rn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(yield b(i.generateCnf.bind(i),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(o)}else if(e.authenticationScheme===ye.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw _e(Ti);(!Ze.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{let i=uc(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${i.uid}${rt.CLIENT_INFO_SEPARATOR}${i.utid}`,type:It.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case It.HOME_ACCOUNT_ID:try{let i=bi(r.credential);t.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case It.UPN:t.addCcsUpn(r.credential);break}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[dp])&&t.addExtraQueryParameters({[dp]:"1"}),t.createQueryString()})}createAuthCodeUrlQueryString(e){return m(this,null,function*(){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(h.AuthClientCreateQueryString,t);let r=new Vr(t,this.performanceClient);r.addClientId(e.embeddedClientId||e.extraQueryParameters?.[Di]||this.config.authOptions.clientId);let i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(r.addScopes(i,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri),r.addCorrelationId(t),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),Gu(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==We.SELECT_ACCOUNT)if(e.sid&&e.prompt===We.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let o=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account);if(s&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(s);try{let a=bi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(o&&e.prompt===We.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(o);try{let a=bi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let a=bi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,r),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===ye.POP)){let o=new Rn(this.cryptoUtils),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(yield b(o.generateCnf.bind(o),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}return r.createQueryString()})}createLogoutUrlQueryString(e){let t=new Vr(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}};var hU=300,So=class extends Io{constructor(e,t){super(e,t)}acquireToken(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireToken,e.correlationId);let t=Mn(),r=yield b(this.executeTokenRequest.bind(this),h.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=r.headers?.[at.X_MS_REQUEST_ID],o=new Br(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),b(o.handleServerTokenResponse.bind(o),h.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)})}acquireTokenByRefreshToken(e){return m(this,null,function*(){if(!e)throw _e($s);if(this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw w(Ci);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield b(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let i=r instanceof Lt&&r.errorCode===To,o=r instanceof Xt&&r.errorCode===Qf.INVALID_GRANT_ERROR&&r.subError===Qf.CLIENT_MISMATCH_ERROR;if(i||o)return b(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return b(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)})}acquireTokenWithCachedRefreshToken(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let r=Jt(this.cacheManager.getRefreshToken.bind(this.cacheManager),h.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw pc(To);if(r.expiresOn&&cc(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||hU))throw pc(Ku);let i=R(y({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||ye.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:It.HOME_ACCOUNT_ID}});try{return yield b(this.acquireToken.bind(this),h.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(o){if(o instanceof Lt&&o.subError===bo){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=xu(r);this.cacheManager.removeRefreshToken(s)}throw o}})}executeTokenRequest(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientExecuteTokenRequest,e.correlationId);let r=this.createTokenQueryParameters(e),i=ie.appendQueryString(t.tokenEndpoint,r),o=yield b(this.createTokenRequestBody.bind(this),h.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return b(this.executePostToTokenEndpoint.bind(this),h.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,h.RefreshTokenClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=e.correlationId,r=new Vr(t,this.performanceClient);if(r.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Di]||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),r.addGrantType(du.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Gu(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;r.addClientAssertion(yield vp(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)}if(e.authenticationScheme===ye.POP){let i=new Rn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(yield b(i.generateCnf.bind(i),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(o)}else if(e.authenticationScheme===ye.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw _e(Ti);if((!Ze.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case It.HOME_ACCOUNT_ID:try{let i=bi(e.ccsCredential.credential);r.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case It.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()})}};var Qu=class extends Io{constructor(e,t){super(e,t)}acquireToken(e){return m(this,null,function*(){try{let[t,r]=yield this.acquireCachedToken(R(y({},e),{scopes:e.scopes?.length?e.scopes:[...Dn]}));return r===pr.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new So(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof Fs&&t.errorCode===Lr)return new So(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}})}acquireCachedToken(e){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.SilentFlowClientAcquireCachedToken,e.correlationId);let t=pr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Ze.isEmptyObj(e.claims))throw this.setCacheOutcome(pr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),w(Lr);if(!e.account)throw w(Ci);let r=e.account.tenantId||gA(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(eE(o.cachedAt)||cc(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(pr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),w(Lr);o.refreshOn&&cc(o.refreshOn,0)&&(t=pr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(pr.NO_CACHED_ACCESS_TOKEN,e.correlationId),w(Lr);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[yield b(this.generateResultFromCacheRecord.bind(this),h.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]})}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==pr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}generateResultFromCacheRecord(e,t){return m(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=_i(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){let i=r?.auth_time;if(!i)throw w(vi);Nu(i,t.maxAge)}return Br.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)})}};var JE={sendGetRequestAsync:()=>Promise.reject(w(ne)),sendPostRequestAsync:()=>Promise.reject(w(ne))};var CA=",",EA="|";function fU(n){let{skus:e,libraryName:t,libraryVersion:r,extensionName:i,extensionVersion:o}=n,s=new Map([[0,[t,r]],[2,[i,o]]]),a=[];if(e?.length){if(a=e.split(CA),a.length<4)return e}else a=Array.from({length:4},()=>EA);return s.forEach((c,l)=>{c.length===2&&c[0]?.length&&c[1]?.length&&pU({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(CA)}function pU(n){let{skuArr:e,index:t,skuName:r,skuVersion:i}=n;t>=e.length||(e[t]=[r,i].join(EA))}var Ys=class n{constructor(e,t){this.cacheOutcome=pr.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||C.EMPTY_STRING,this.wrapperVer=e.wrapperVer||C.EMPTY_STRING,this.telemetryCacheKey=_t.CACHE_KEY+rt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${_t.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let i=t.join(_t.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(_t.VALUE_SEPARATOR);return[_t.SCHEMA_VERSION,s,i].join(_t.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(_t.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(_t.VALUE_SEPARATOR),o=e.errors.length,s=t<o?_t.OVERFLOW_TRUE:_t.OVERFLOW_FALSE,a=[o,s].join(_t.VALUE_SEPARATOR);return[_t.SCHEMA_VERSION,e.cacheHits,r,i,a].join(_t.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=_t.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof ue?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(_t.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{let i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,r=0,i=0,o=e.errors.length;for(t=0;t<o;t++){let s=e.failedRequests[2*t]||C.EMPTY_STRING,a=e.failedRequests[2*t+1]||C.EMPTY_STRING,c=e.errors[t]||C.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+c.length+3,i<_t.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||C.EMPTY_STRING),e.push(this.regionSource||C.EMPTY_STRING),e.push(this.regionOutcome||C.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return fU(e)}};var Cp="missing_kid_error",Ep="missing_alg_error";var mU={[Cp]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Ep]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},XE=class n extends ue{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,n.prototype)}};function e_(n){return new XE(n,mU[n])}var Yu=class n{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw e_(Cp);if(!e.alg)throw e_(Ep);let t=new n({typ:e.typ||Jf.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}};var _p=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},gc=class{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:zE.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new _p}}startPerformanceMeasurement(){return new _p}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var Zs="pkce_not_created",Js="crypto_nonexistent",jr="empty_navigate_uri",yc="hash_empty_error",Ao="no_state_in_hash",vc="hash_does_not_contain_known_properties",Cc="unable_to_parse_state",Ec="state_interaction_type_mismatch",_c="interaction_in_progress",wc="popup_window_error",Ic="empty_window_error",yn="user_cancelled",wp="monitor_popup_timeout",Tc="monitor_window_timeout",bc="redirect_in_iframe",Sc="block_iframe_reload",Ac="block_nested_popups",Ip="iframe_closed_prematurely",$r="silent_logout_unsupported",Dc="no_account_error",Tp="silent_prompt_value_error",Mc="no_token_request_cache_error",Rc="unable_to_parse_token_request_cache_error",Do="no_cached_authority_error",bp="auth_request_not_set_error",Sp="invalid_cache_type",qr="non_browser_environment",zr="database_not_open",Ni="no_network_connectivity",Nc="post_request_failed",Oc="get_request_failed",Xs="failed_to_parse_response",xc="unable_to_load_token",Mo="crypto_key_not_found",Pc="auth_code_required",kc="auth_code_or_nativeAccountId_required",Lc="spa_code_and_nativeAccountId_present",Ro="database_unavailable",Fc="unable_to_acquire_token_from_native_platform",Uc="native_handshake_timeout",Vc="native_extension_not_installed",Gn="native_connection_not_established",Hc="uninitialized_public_client_application",Bc="native_prompt_not_supported",jc="invalid_base64_string",$c="invalid_pop_token_request",Ap="failed_to_build_headers",Dp="failed_to_parse_headers";var Oi="For more visit: aka.ms/msaljs/browser-errors",Z={[Zs]:"The PKCE code challenge and verifier could not be generated.",[Js]:"The crypto object or function is not available.",[jr]:"Navigation URI is empty. Please check stack trace for more info.",[yc]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Oi}`,[Ao]:"Hash does not contain state. Please verify that the request originated from msal.",[vc]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Oi}`,[Cc]:"Unable to parse state. Please verify that the request originated from msal.",[Ec]:"Hash contains state but the interaction type does not match the caller.",[_c]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Oi}`,[wc]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Ic]:"window.open returned null or undefined window object.",[yn]:"User cancelled the flow.",[wp]:`Token acquisition in popup failed due to timeout.  ${Oi}`,[Tc]:`Token acquisition in iframe failed due to timeout.  ${Oi}`,[bc]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Sc]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Oi}`,[Ac]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Ip]:"The iframe being monitored was closed prematurely.",[$r]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Dc]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Tp]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Mc]:"No token request found in cache.",[Rc]:"The cached token request could not be parsed.",[Do]:"No cached authority found.",[bp]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Sp]:"Invalid cache type",[qr]:"Login and token requests are not supported in non-browser environments.",[zr]:"Database is not open!",[Ni]:"No network connectivity. Check your internet connection.",[Nc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Oc]:"Network request failed. Please check the network trace to determine root cause.",[Xs]:"Failed to parse network response. Check network trace.",[xc]:"Error loading token to cache.",[Mo]:"Cryptographic Key or Keypair not found in browser storage.",[Pc]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[kc]:"An authorization code or nativeAccountId must be provided to this flow.",[Lc]:"Request cannot contain both spa code and native account id.",[Ro]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Fc]:`Unable to acquire token from native platform.  ${Oi}`,[Uc]:"Timed out while attempting to establish connection to browser extension",[Vc]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Gn]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Oi}`,[Hc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Oi}`,[Bc]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[jc]:"Invalid base64 encoded string.",[$c]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Ap]:"Failed to build request headers object.",[Dp]:"Failed to parse response headers"},uY={pkceNotGenerated:{code:Zs,desc:Z[Zs]},cryptoDoesNotExist:{code:Js,desc:Z[Js]},emptyNavigateUriError:{code:jr,desc:Z[jr]},hashEmptyError:{code:yc,desc:Z[yc]},hashDoesNotContainStateError:{code:Ao,desc:Z[Ao]},hashDoesNotContainKnownPropertiesError:{code:vc,desc:Z[vc]},unableToParseStateError:{code:Cc,desc:Z[Cc]},stateInteractionTypeMismatchError:{code:Ec,desc:Z[Ec]},interactionInProgress:{code:_c,desc:Z[_c]},popupWindowError:{code:wc,desc:Z[wc]},emptyWindowError:{code:Ic,desc:Z[Ic]},userCancelledError:{code:yn,desc:Z[yn]},monitorPopupTimeoutError:{code:wp,desc:Z[wp]},monitorIframeTimeoutError:{code:Tc,desc:Z[Tc]},redirectInIframeError:{code:bc,desc:Z[bc]},blockTokenRequestsInHiddenIframeError:{code:Sc,desc:Z[Sc]},blockAcquireTokenInPopupsError:{code:Ac,desc:Z[Ac]},iframeClosedPrematurelyError:{code:Ip,desc:Z[Ip]},silentLogoutUnsupportedError:{code:$r,desc:Z[$r]},noAccountError:{code:Dc,desc:Z[Dc]},silentPromptValueError:{code:Tp,desc:Z[Tp]},noTokenRequestCacheError:{code:Mc,desc:Z[Mc]},unableToParseTokenRequestCacheError:{code:Rc,desc:Z[Rc]},noCachedAuthorityError:{code:Do,desc:Z[Do]},authRequestNotSet:{code:bp,desc:Z[bp]},invalidCacheType:{code:Sp,desc:Z[Sp]},notInBrowserEnvironment:{code:qr,desc:Z[qr]},databaseNotOpen:{code:zr,desc:Z[zr]},noNetworkConnectivity:{code:Ni,desc:Z[Ni]},postRequestFailed:{code:Nc,desc:Z[Nc]},getRequestFailed:{code:Oc,desc:Z[Oc]},failedToParseNetworkResponse:{code:Xs,desc:Z[Xs]},unableToLoadTokenError:{code:xc,desc:Z[xc]},signingKeyNotFoundInStorage:{code:Mo,desc:Z[Mo]},authCodeRequired:{code:Pc,desc:Z[Pc]},authCodeOrNativeAccountRequired:{code:kc,desc:Z[kc]},spaCodeAndNativeAccountPresent:{code:Lc,desc:Z[Lc]},databaseUnavailable:{code:Ro,desc:Z[Ro]},unableToAcquireTokenFromNativePlatform:{code:Fc,desc:Z[Fc]},nativeHandshakeTimeout:{code:Uc,desc:Z[Uc]},nativeExtensionNotInstalled:{code:Vc,desc:Z[Vc]},nativeConnectionNotEstablished:{code:Gn,desc:Z[Gn]},uninitializedPublicClientApplication:{code:Hc,desc:Z[Hc]},nativePromptNotSupported:{code:Bc,desc:Z[Bc]},invalidBase64StringError:{code:jc,desc:Z[jc]},invalidPopTokenRequest:{code:$c,desc:Z[$c]}},ea=class n extends ue{constructor(e,t){super(e,Z[e],t),Object.setPrototypeOf(this,n.prototype),this.name="BrowserAuthError"}};function O(n,e){return new ea(n,e)}var lt={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},No={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},xi={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},it={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},t_={GET:"GET",POST:"POST"},Me={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Pi={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Zu={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Pe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962},U=function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n}(U||{}),ut={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},n_={scopes:Dn},r_="jwk",i_={React:"@azure/msal-react",Angular:"@azure/msal-angular"},Mp="msal.db",_A=1,wA=`${Mp}.keys`,en={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},IA=[en.Default,en.Skip,en.RefreshTokenAndNetwork],TA="msal.browser.log.level",bA="msal.browser.log.pii";function Ju(n){return encodeURIComponent(Xu(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ta(n){return SA(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xu(n){return SA(new TextEncoder().encode(n))}function SA(n){let e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}var gU="RSASSA-PKCS1-v1_5",MA="SHA-256",yU=2048,vU=new Uint8Array([1,0,1]),AA="0123456789abcdef",DA=new Uint32Array(1),CU="crypto_subtle_undefined",s_={name:gU,hash:MA,modulusLength:yU,publicExponent:vU};function RA(n){if(!window)throw O(qr);if(!window.crypto)throw O(Js);if(!n&&!window.crypto.subtle)throw O(Js,CU)}function a_(n,e,t){return m(this,null,function*(){e?.addQueueMeasurement(h.Sha256Digest,t);let i=new TextEncoder().encode(n);return window.crypto.subtle.digest(MA,i)})}function NA(n){return window.crypto.getRandomValues(n)}function o_(){return window.crypto.getRandomValues(DA),DA[0]}function Ht(){let n=Date.now(),e=o_()*1024+(o_()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=o_();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=AA.charAt(t[a]>>>4),s+=AA.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}function OA(n,e){return m(this,null,function*(){return window.crypto.subtle.generateKey(s_,n,e)})}function Rp(n){return m(this,null,function*(){return window.crypto.subtle.exportKey(r_,n)})}function xA(n,e,t){return m(this,null,function*(){return window.crypto.subtle.importKey(r_,n,s_,e,t)})}function PA(n,e){return m(this,null,function*(){return window.crypto.subtle.sign(s_,n,e)})}function Np(n){return m(this,null,function*(){let e=yield a_(n),t=new Uint8Array(e);return ta(t)})}var Oo="storage_not_supported",Op="stubbed_public_client_application_called",qc="in_mem_redirect_unavailable";var xp={[Oo]:"Given storage configuration option was not supported.",[Op]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[qc]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},EU={storageNotSupportedError:{code:Oo,desc:xp[Oo]},stubPcaInstanceCalled:{code:Op,desc:xp[Op]},inMemRedirectUnavailable:{code:qc,desc:xp[qc]}},na=class n extends ue{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,n.prototype)}};function zc(n){return new na(n,xp[n])}function c_(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function l_(n){let e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function ed(){return window.parent!==window}function kA(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${lt.POPUP_NAME_PREFIX}.`)===0}function tn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function u_(){let e=new ie(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function LA(){if(ie.hashContainsKnownProperties(window.location.hash)&&ed())throw O(Sc)}function FA(n){if(ed()&&!n)throw O(bc)}function UA(){if(kA())throw O(Ac)}function Pp(){if(typeof window>"u")throw O(qr)}function kp(n){if(!n)throw O(Hc)}function td(n){Pp(),LA(),UA(),kp(n)}function Lp(n,e){if(td(n),FA(e.system.allowRedirectInIframe),e.cache.cacheLocation===it.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw zc(qc)}function nd(n){let e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function d_(){return Ht()}var rd=class n{navigateInternal(e,t){return n.defaultNavigateWindow(e,t)}navigateExternal(e,t){return n.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}};var Up=class{sendGetRequestAsync(e,t){return m(this,null,function*(){let r,i={},o=0,s=VA(t);try{r=yield fetch(e,{method:t_.GET,headers:s})}catch{throw O(window.navigator.onLine?Oc:Ni)}i=HA(r.headers);try{return o=r.status,{headers:i,body:yield r.json(),status:o}}catch{throw mp(O(Xs),o,i)}})}sendPostRequestAsync(e,t){return m(this,null,function*(){let r=t&&t.body||"",i=VA(t),o,s=0,a={};try{o=yield fetch(e,{method:t_.POST,headers:i,body:r})}catch{throw O(window.navigator.onLine?Nc:Ni)}a=HA(o.headers);try{return s=o.status,{headers:a,body:yield o.json(),status:s}}catch{throw mp(O(Xs),s,a)}})}};function VA(n){try{let e=new Headers;if(!(n&&n.headers))return e;let t=n.headers;return Object.entries(t).forEach(([r,i])=>{e.append(r,i)}),e}catch{throw O(Ap)}}function HA(n){try{let e={};return n.forEach((t,r)=>{e[r]=t}),e}catch{throw O(Dp)}}var _U=6e4,Vp=1e4,wU=3e4,IU=2e3;function BA({auth:n,cache:e,system:t,telemetry:r},i){let o={clientId:C.EMPTY_STRING,authority:`${C.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:C.EMPTY_STRING,authorityMetadata:C.EMPTY_STRING,redirectUri:typeof window<"u"?tn():"",postLogoutRedirectUri:C.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:kt.AAD,OIDCOptions:{serverResponseType:fr.FRAGMENT,defaultScopes:[C.OPENID_SCOPE,C.PROFILE_SCOPE,C.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Co.None,tenant:C.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:it.SessionStorage,temporaryCacheLocation:it.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===it.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Ue.Info,piiLoggingEnabled:!1},c=R(y({},sp),{loggerOptions:a,networkClient:i?new Up:JE,navigationClient:new rd,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||_U,iframeHashTimeout:t?.loadFrameTimeout||Vp,navigateFrameWait:0,redirectNavigationTimeout:wU,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||IU,pollIntervalMilliseconds:lt.DEFAULT_POLL_INTERVAL_MS}),l=R(y(y({},c),t),{loggerOptions:t?.loggerOptions||a}),u={application:{appName:C.EMPTY_STRING,appVersion:C.EMPTY_STRING},client:new gc};if(n?.protocolMode!==kt.OIDC&&n?.OIDCOptions&&new gn(l.loggerOptions).warning(JSON.stringify(_e(gr.cannotSetOIDCOptions))),n?.protocolMode&&n.protocolMode!==kt.AAD&&l?.allowNativeBroker)throw _e(gr.cannotAllowNativeBroker);return{auth:R(y(y({},o),n),{OIDCOptions:y(y({},o.OIDCOptions),n?.OIDCOptions)}),cache:y(y({},s),e),system:l,telemetry:y(y({},u),r)}}var jA="@azure/msal-browser",xo="3.28.1";var Hp=class n{static loggerCallback(e,t){switch(e){case Ue.Error:console.error(t);return;case Ue.Info:console.info(t);return;case Ue.Verbose:console.debug(t);return;case Ue.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=BA(e,this.browserEnvironment);let t;try{t=window[it.SessionStorage]}catch{}let r=t?.getItem(TA),i=t?.getItem(bA)?.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s=y({},this.config.system.loggerOptions),a=r&&Object.keys(Ue).includes(r)?Ue[r]:void 0;a&&(s.loggerCallback=n.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new gn(s,jA,xo),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var Bp=(()=>{class n extends Hp{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}initialize(){return m(this,null,function*(){return this.available=typeof window<"u",this.available})}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();function vn(n){return new TextDecoder().decode(TU(n))}function TU(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw O(jc)}let t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}var jp=class{constructor(){this.dbName=Mp,this.version=_A,this.tableName=wA,this.dbOpen=!1}open(){return m(this,null,function*(){return new Promise((e,t)=>{let r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{let o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(O(Ro)))})})}closeConnection(){let e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}validateDbIsOpen(){return m(this,null,function*(){if(!this.dbOpen)return this.open()})}getItem(e){return m(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(O(zr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}setItem(e,t){return m(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(O(zr));let a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})})}removeItem(e){return m(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(O(zr));let s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}getKeys(){return m(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(O(zr));let o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{let a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})})}containsKey(e){return m(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(O(zr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}deleteDatabase(){return m(this,null,function*(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{let r=window.indexedDB.deleteDatabase(Mp),i=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),t(!1)))})})}};var ra=class{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){let e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}};var $p=class{constructor(e){this.inMemoryCache=new ra,this.indexedDBCache=new jp,this.logger=e}handleDatabaseAccessError(e){if(e instanceof ea&&e.errorCode===Ro)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}getItem(e){return m(this,null,function*(){let t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}setItem(e,t){return m(this,null,function*(){this.inMemoryCache.setItem(e,t);try{yield this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}})}removeItem(e){return m(this,null,function*(){this.inMemoryCache.removeItem(e);try{yield this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}})}getKeys(){return m(this,null,function*(){let e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e})}containsKey(e){return m(this,null,function*(){let t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){return m(this,null,function*(){try{this.logger.verbose("Deleting persistent keystore");let e=yield this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}})}};var qA=(()=>{class n{constructor(t,r,i){this.logger=t,RA(i??!1),this.cache=new $p(this.logger),this.performanceClient=r}createNewGuid(){return Ht()}base64Encode(t){return Xu(t)}base64Decode(t){return vn(t)}base64UrlEncode(t){return Ju(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}getPublicKeyThumbprint(t){return m(this,null,function*(){let r=this.performanceClient?.startMeasurement(h.CryptoOptsGetPublicKeyThumbprint,t.correlationId),i=yield OA(n.EXTRACTABLE,n.POP_KEY_USAGES),o=yield Rp(i.publicKey),s={e:o.e,kty:o.kty,n:o.n},a=$A(s),c=yield this.hashString(a),l=yield Rp(i.privateKey),u=yield xA(l,!1,["sign"]);return yield this.cache.setItem(c,{privateKey:u,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),r&&r.end({success:!0}),c})}removeTokenBindingKey(t){return m(this,null,function*(){return yield this.cache.removeItem(t),!(yield this.cache.containsKey(t))})}clearKeystore(){return m(this,null,function*(){this.cache.clearInMemory();try{return yield this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}})}signJwt(t,r,i,o){return m(this,null,function*(){let s=this.performanceClient?.startMeasurement(h.CryptoOptsSignJwt,o),a=yield this.cache.getItem(r);if(!a)throw O(Mo);let c=yield Rp(a.publicKey),l=$A(c),u=Ju(JSON.stringify({kid:r})),d=Yu.getShrHeaderString(R(y({},i?.header),{alg:c.alg,kid:u})),f=Ju(d);t.cnf={jwk:JSON.parse(l)};let p=Ju(JSON.stringify(t)),g=`${f}.${p}`,S=new TextEncoder().encode(g),L=yield PA(a.privateKey,S),G=ta(new Uint8Array(L)),q=`${g}.${G}`;return s&&s.end({success:!0}),q})}hashString(t){return m(this,null,function*(){return Np(t)})}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function $A(n){return JSON.stringify(n,Object.keys(n).sort())}var qp=class{constructor(){if(!window.localStorage)throw zc(Oo)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}};var zp=class{constructor(){if(!window.sessionStorage)throw zc(Oo)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}};function Gp(n,e){if(!e)return null;try{return Tt.parseRequestState(n,e).libraryState.meta}catch{throw w(wt.invalidState)}}var Wp=class{getItem(e){let t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===t)return c}return""}setItem(e,t,r,i=!0){let o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(r){let s=bU(r);o+=`expires=${s};`}i&&(o+="Secure;"),document.cookie=o}removeItem(e){this.setItem(e,"",-1)}getKeys(){let e=document.cookie.split(";"),t=[];return e.forEach(r=>{let i=decodeURIComponent(r).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}};function bU(n){let e=new Date;return new Date(e.getTime()+n*864e5).toUTCString()}var Gc=class n extends Ai{constructor(e,t,r,i,o,s){super(e,r,i,o),this.cacheConfig=t,this.logger=i,this.internalStorage=new ra,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new Wp,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){try{switch(e){case it.LocalStorage:return new qp;case it.SessionStorage:return new zp;case it.MemoryStorage:default:break}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=it.MemoryStorage,new ra}migrateCacheEntries(){let e=`${C.CACHE_PREFIX}.${ct.ID_TOKEN}`,t=`${C.CACHE_PREFIX}.${ct.CLIENT_INFO}`,r=`${C.CACHE_PREFIX}.${ct.ERROR}`,i=`${C.CACHE_PREFIX}.${ct.ERROR_DESC}`,o=this.browserStorage.getItem(e),s=this.browserStorage.getItem(t),a=this.browserStorage.getItem(r),c=this.browserStorage.getItem(i),l=[o,s,a,c];[ct.ID_TOKEN,ct.CLIENT_INFO,ct.ERROR,ct.ERROR_DESC].forEach((d,f)=>{let p=l[f];p&&this.setTemporaryCache(d,p,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");let e=this.getItem(Pi.ACCOUNT_KEYS),t=this.getItem(`${Pi.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case K.ID_TOKEN:if(je.isIdTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,K.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case K.ACCESS_TOKEN:case K.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(je.isAccessTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,K.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case K.REFRESH_TOKEN:if(je.isRefreshTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,K.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);s&&qe.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{let t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");let r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,t)}getCachedAccountEntity(e){let t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;let r=this.validateAndParseJson(t);return!r||!qe.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Ai.toObject(new qe,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");let t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");let e=this.getItem(Pi.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);let t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(Pi.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);let t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.setItem(Pi.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e){return m(this,null,function*(){fl(n.prototype,this,"removeAccount").call(this,e),this.removeAccountKeyFromMap(e)})}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,K.ID_TOKEN)}removeAccessToken(e){return m(this,null,function*(){fl(n.prototype,this,"removeAccessToken").call(this,e),this.removeTokenKey(e,K.ACCESS_TOKEN)})}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,K.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");let e=this.getItem(`${Pi.TOKEN_KEYS}.${this.clientId}`);if(e){let t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");let r=this.getTokenKeys();switch(t){case K.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case K.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case K.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),w(wt.unexpectedCredentialType)}this.setItem(`${Pi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");let r=this.getTokenKeys();switch(t){case K.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);let i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case K.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);let o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case K.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);let s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),w(wt.unexpectedCredentialType)}this.setItem(`${Pi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.ID_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!je.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");let t=je.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,K.ID_TOKEN)}getAccessTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.ACCESS_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!je.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");let t=je.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,K.ACCESS_TOKEN)}getRefreshTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.REFRESH_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!je.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,K.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");let t=je.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,K.REFRESH_TOKEN)}getAppMetadata(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!je.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");let t=je.generateAppMetadataKey(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!je.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){let t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return r&&je.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Zu.WRAPPER_SKU,e),this.internalStorage.setItem(Zu.WRAPPER_VER,t)}getWrapperMetadata(){let e=this.internalStorage.getItem(Zu.WRAPPER_SKU)||C.EMPTY_STRING,t=this.internalStorage.getItem(Zu.WRAPPER_VER)||C.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){let e=this.generateCacheKey(ct.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");let i=this.generateCacheKey(ct.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;let s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}let r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){let t=this.generateCacheKey(ct.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(ct.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");let i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(r)}getThrottlingCache(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!je.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){let r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){let o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}let i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===it.LocalStorage){let o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,r){let i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(){return m(this,null,function*(){yield this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(C.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(C.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()})}clearTokensAndKeysWithClaims(e,t){return m(this,null,function*(){e.addQueueMeasurement(h.ClearTokensAndKeysWithClaims,t);let r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{let s=this.getAccessTokenCredential(o);s?.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),yield Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)})}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Ze.startsWith(e,C.CACHE_PREFIX)||Ze.startsWith(e,ct.ADAL_ID_TOKEN)?e:`${C.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){let{libraryState:{id:t}}=Tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Me.AUTHORITY}.${t}`)}generateNonceKey(e){let{libraryState:{id:t}}=Tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Me.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){let{libraryState:{id:t}}=Tt.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Me.REQUEST_STATE}.${t}`)}getCachedAuthority(e){let t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;let i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(e,t,r,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");let s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);let a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);let c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,r,!1),o){let l={credential:o.homeAccountId,type:It.HOME_ACCOUNT_ID};this.setTemporaryCache(Me.CCS_CREDENTIAL,JSON.stringify(l),!0)}else if(i){let l={credential:i,type:It.UPN};this.setTemporaryCache(Me.CCS_CREDENTIAL,JSON.stringify(l),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(Me.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Me.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Me.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Me.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(Me.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(Me.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){let t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||C.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(Me.REQUEST_STATE)===-1)return;let r=this.temporaryCacheStorage.getItem(t);if(!r)return;let i=Gp(this.cryptoImpl,r);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");let t=Xu(JSON.stringify(e));this.setTemporaryCache(Me.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");let t=this.getTemporaryCache(Me.REQUEST_PARAMS,!0);if(!t)throw O(Mc);let r;try{r=JSON.parse(vn(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),O(Rc)}if(this.removeTemporaryItem(this.generateCacheKey(Me.REQUEST_PARAMS)),!r.authority){let i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw O(Do);r.authority=o}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");let e=this.getTemporaryCache(Me.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;let t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){let t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){let e=`${C.CACHE_PREFIX}.${Me.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){let t=`${C.CACHE_PREFIX}.${Me.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw O(_c);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){let e=this.getTemporaryCache(ct.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(ct.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));let t=this.getTemporaryCache(ct.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(ct.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));let r=t||e;if(r){let i=Eo.extractTokenClaims(r,vn);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){let r=je.generateCredentialKey(t);if(e!==r){let i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}hydrateCache(e,t){return m(this,null,function*(){let r=je.createIdTokenEntity(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId),i;t.claims&&(i=yield this.cryptoImpl.hashString(t.claims));let o=je.createAccessTokenEntity(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,vn,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s)})}saveCacheRecord(e,t,r){return m(this,null,function*(){try{yield fl(n.prototype,this,"saveCacheRecord").call(this,e,t,r)}catch(i){if(i instanceof Si&&this.performanceClient&&r)try{let o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw i}})}},zA=(n,e)=>{let t={cacheLocation:it.MemoryStorage,temporaryCacheLocation:it.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Gc(n,t,vo,e)};function GA(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function WA(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;let r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function KA(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;let r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function QA(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;let r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function YA(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;let r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function ZA(n,e){e.setActiveAccount(n)}function JA(n){return n.getActiveAccount()}var P={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};var Kp=class{constructor(e){this.eventCallbacks=new Map,this.logger=e||new gn({})}addEventCallback(e,t,r){if(typeof window<"u"){let i=r||d_();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,i){if(typeof window<"u"){let o={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],c)=>{(a.length===0||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${c}: ${e}`),s.apply(null,[o]))})}}};var Wc=class{constructor(e,t,r,i,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||Ht(),this.logger=i.clone(lt.MSAL_SKU,xo,this.correlationId),this.performanceClient=a}clearCacheOnLogout(e){return m(this,null,function*(){if(e){qe.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{yield this.browserStorage.removeAccount(qe.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),yield this.browserStorage.clear(),yield this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})}getRedirectUri(e){this.logger.verbose("getRedirectUri called");let t=e||this.config.auth.redirectUri;return ie.getAbsoluteUrl(t,tn())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");let r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ys(r,this.browserStorage)}getDiscoveredAuthority(e){return m(this,null,function*(){let{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(h.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);let i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=r?.length?r==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(ie.getDomainFromUrl(o),t.environment):o,c=zn.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=yield b(pp.createDiscoveredInstance,h.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw _e(gr.authorityMismatch);return l})}};var SU=32;function XA(n,e,t){return m(this,null,function*(){n.addQueueMeasurement(h.GeneratePkceCodes,t);let r=Jt(AU,h.GenerateCodeVerifier,e,n,t)(n,e,t),i=yield b(DU,h.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:i}})}function AU(n,e,t){try{let r=new Uint8Array(SU);return Jt(NA,h.GetRandomValues,e,n,t)(r),ta(r)}catch{throw O(Zs)}}function DU(n,e,t,r){return m(this,null,function*(){e.addQueueMeasurement(h.GenerateCodeChallengeFromVerifier,r);try{let i=yield b(a_,h.Sha256Digest,t,e,r)(n,e,r);return ta(new Uint8Array(i))}catch{throw O(Zs)}})}function id(n,e,t,r){return m(this,null,function*(){t.addQueueMeasurement(h.InitializeBaseRequest,n.correlationId);let i=n.authority||e.auth.authority,o=[...n&&n.scopes||[]],s=R(y({},n),{correlationId:n.correlationId,authority:i,scopes:o});if(!s.authenticationScheme)s.authenticationScheme=ye.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===ye.SSH){if(!n.sshJwk)throw _e(gr.missingSshJwk);if(!n.sshKid)throw _e(gr.missingSshKid)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!Ze.isEmptyObj(n.claims)&&(s.requestedClaimsHash=yield Np(n.claims)),s})}function eD(n,e,t,r,i){return m(this,null,function*(){r.addQueueMeasurement(h.InitializeSilentRequest,n.correlationId);let o=yield b(id,h.InitializeBaseRequest,i,r,n.correlationId)(n,t,r,i);return R(y(y({},n),o),{account:e,forceRefresh:n.forceRefresh||!1})})}var Cn=class extends Wc{initializeAuthorizationCodeRequest(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);let t=yield b(XA,h.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r=R(y({},e),{redirectUri:e.redirectUri,code:C.EMPTY_STRING,codeVerifier:t.verifier});return e.codeChallenge=t.challenge,e.codeChallengeMethod=C.S256_CODE_CHALLENGE_METHOD,r})}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);let t=y({correlationId:this.correlationId||Ht()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){let r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=ie.getAbsoluteUrl(e.postLogoutRedirectUri,tn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=ie.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,tn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=ie.getAbsoluteUrl(tn(),tn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){let t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientCreateAuthCodeClient,this.correlationId);let t=yield b(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Qs(t,this.performanceClient)})}getClientConfiguration(e){return m(this,null,function*(){let{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(h.StandardInteractionClientGetClientConfiguration,this.correlationId);let a=yield b(this.getDiscoveredAuthority.bind(this),h.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:lt.MSAL_SKU,version:xo,cpu:C.EMPTY_STRING,os:C.EMPTY_STRING},telemetry:this.config.telemetry}})}initializeAuthorizationRequest(e,t){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);let r=this.getRedirectUri(e.redirectUri),i={interactionType:t},o=Tt.setRequestState(this.browserCrypto,e&&e.state||C.EMPTY_STRING,i),s=yield b(id,h.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(R(y({},e),{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=R(y({},s),{redirectUri:r,state:o,nonce:e.nonce||Ht(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(e.loginHint||e.sid)return a;let c=e.account||this.browserStorage.getActiveAccount();if(c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),!a.loginHint&&!c){let l=this.browserStorage.getLegacyLoginHint();l&&(a.loginHint=l)}return a})}};var tD="ContentError",Qp="user_switch";var nD="USER_INTERACTION_REQUIRED",rD="USER_CANCEL",iD="NO_NETWORK",oD="PERSISTENT_ERROR",sD="DISABLED",aD="ACCOUNT_UNAVAILABLE";var MU=-2147186943,RU={[Qp]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},Wn=class n extends ue{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,n.prototype),this.name="NativeAuthError",this.ext=r}};function Po(n){if(n.ext&&n.ext.status&&(n.ext.status===oD||n.ext.status===sD)||n.ext&&n.ext.error&&n.ext.error===MU)return!0;switch(n.errorCode){case tD:return!0;default:return!1}}function od(n,e,t){if(t&&t.status)switch(t.status){case aD:return pc(Ri.nativeAccountUnavailable);case nD:return new Lt(n,e);case rD:return O(yn);case iD:return O(Ni)}return new Wn(n,RU[n]||e,t)}var Kc=class extends Cn{acquireToken(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentCacheClientAcquireToken,e.correlationId);let t=this.initializeServerTelemetryManager(Pe.acquireTokenSilent_silentFlow),r=yield b(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new Qu(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{let s=(yield b(i.acquireCachedToken.bind(i),h.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof ea&&o.errorCode===Mo&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}})}logout(e){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}};var Kn=class extends Wc{constructor(e,t,r,i,o,s,a,c,l,u,d,f){super(e,t,r,i,o,s,c,l,f),this.apiId=a,this.accountId=u,this.nativeMessageHandler=l,this.nativeStorageManager=d,this.silentCacheClient=new Kc(e,this.nativeStorageManager,r,i,o,s,c,l,f),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);let p=this.nativeMessageHandler.getExtensionId()===No.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Ys.makeExtraSkuString({libraryName:lt.MSAL_SKU,libraryVersion:xo,extensionName:p,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=R(y({},e.extraParameters),{[Mi.X_CLIENT_EXTRA_SKU]:this.skus})}acquireToken(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");let t=this.performanceClient.startMeasurement(h.NativeInteractionClientAcquireToken,e.correlationId),r=Ou.nowSeconds();try{let i=yield this.initializeNativeRequest(e);try{let l=yield this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}let o=nr(i,[]),s={method:xi.GetToken,request:o},a=yield this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(a);return yield this.handleNativeResponse(c,i,r).then(l=>(t.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),l)).catch(l=>{throw t.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(i){throw i instanceof Wn&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}})}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Ke.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}acquireTokensFromCache(e,t){return m(this,null,function*(){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),w(wt.noAccountFound);let r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw w(wt.noAccountFound);try{let i=this.createSilentCacheRequest(t,r),o=yield this.silentCacheClient.acquireToken(i),s=R(y({},r),{idTokenClaims:o?.idTokenClaims,idToken:o?.idToken});return R(y({},o),{account:s})}catch(i){throw i}})}acquireTokenRedirect(e,t){return m(this,null,function*(){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");let r=nr(e,[]);delete r.onRedirectNavigate;let i=yield this.initializeNativeRequest(r),o={method:xi.GetToken,request:i};try{let c=yield this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(c)}catch(c){if(c instanceof Wn&&(this.serverTelemetryManager.setNativeBrokerErrorCode(c.errorCode),Po(c)))throw c}this.browserStorage.setTemporaryCache(Me.NATIVE_REQUEST,JSON.stringify(i),!0);let s={apiId:Pe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),yield this.navigationClient.navigateExternal(a,s)})}handleRedirectPromise(e,t){return m(this,null,function*(){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;let c=r,{prompt:i}=c,o=nr(c,["prompt"]);i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Me.NATIVE_REQUEST));let s={method:xi.GetToken,request:o},a=Ou.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");let l=yield this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);let u=this.handleNativeResponse(l,o,a);this.browserStorage.setInteractionInProgress(!1);let d=yield u;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),d}catch(l){throw this.browserStorage.setInteractionInProgress(!1),l}})}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(e,t,r){return m(this,null,function*(){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");let i=Eo.extractTokenClaims(e.id_token,vn),o=this.createHomeAccountIdentifier(e,i),s=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==s&&e.account.id!==t.accountId)throw od(Qp);let a=yield this.getDiscoveredAuthority({requestAuthority:t.authority}),c=mc(this.browserStorage,a,o,vn,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),l=yield this.generateAuthenticationResult(e,t,i,c,a.canonicalAuthority,r);return this.cacheAccount(c),this.cacheNativeTokens(e,t,o,i,e.access_token,l.tenantId,r),l})}createHomeAccountIdentifier(e,t){return qe.generateHomeAccountId(e.client_info||C.EMPTY_STRING,Zt.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?Ke.fromString(e.scope):Ke.fromString(t.scope)}generatePopAccessToken(e,t){return m(this,null,function*(){if(t.tokenType===ye.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;let r=new Rn(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw w(wt.keyIdMissing);return r.signPopToken(e.access_token,t.keyId,i)}else return e.access_token})}generateAuthenticationResult(e,t,r,i,o,s){return m(this,null,function*(){let a=this.addTelemetryFromNativeResponse(e),c=e.scope?Ke.fromString(e.scope):Ke.fromString(t.scope),l=e.account.properties||{},u=l.UID||r.oid||r.sub||C.EMPTY_STRING,d=l.TenantId||r.tid||C.EMPTY_STRING,f=Ks(i.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);let p=yield this.generatePopAccessToken(e,t),g=t.tokenType===ye.POP?ye.POP:ye.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:p,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:g,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}})}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,i,o,s,a){let c=je.createIdTokenEntity(r,t.authority,e.id_token||"",t.clientId,i.tid||""),l=t.tokenType===ye.POP?C.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=a+l,d=this.generateScopes(e,t),f=je.createAccessTokenEntity(r,t.authority,o,t.clientId,i.tid||s,d.printScopes(),u,0,vn,void 0,t.tokenType,void 0,t.keyId),p={idToken:c,accessToken:f};this.nativeStorageManager.saveCacheRecord(p,t.storeInCache)}addTelemetryFromNativeResponse(e){let t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw gu(vs.unexpectedError,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}initializeNativeRequest(e){return m(this,null,function*(){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");let t=e.authority||this.config.auth.authority;e.account&&(yield this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}));let r=new ie(t);r.validateAsUri();let l=e,{scopes:i}=l,o=nr(l,["scopes"]),s=new Ke(i||[]);s.appendScopes(Dn);let a=()=>{switch(this.apiId){case Pe.ssoSilent:case Pe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),We.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case We.NONE:case We.CONSENT:case We.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),O(Bc)}},c=R(y({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:y(y({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(c.signPopToken&&e.popKid)throw O($c);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=No.MATS_TELEMETRY,e.authenticationScheme===ye.POP){let u={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},d=new Rn(this.browserCrypto),f;if(c.keyId)f=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{let p=yield b(d.generateCnf.bind(d),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(u,this.logger);f=p.reqCnfString,c.keyId=p.kid,c.signPopToken=!0}c.reqCnf=f}return this.addRequestSKUs(c),c})}handleExtraBrokerParams(e){let t=e.extraParameters&&e.extraParameters.hasOwnProperty(Mi.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(Mi.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Mi.CLIENT_ID);if(!e.embeddedClientId&&!t)return;let r="",i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Mi.BROKER_REDIRECT_URI],r=e.extraParameters[Mi.CLIENT_ID]),e.extraParameters={child_client_id:r,child_redirect_uri:i},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}};var Nn=class n{constructor(e,t,r,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(h.NativeMessageHandlerHandshake)}sendMessage(e){return m(this,null,function*(){this.logger.trace("NativeMessageHandler - sendMessage called.");let t={channel:No.CHANNEL_ID,extensionId:this.extensionId,responseId:Ht(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,i)=>{this.resolvers.set(t.responseId,{resolve:r,reject:i})})})}static createProvider(e,t,r){return m(this,null,function*(){e.trace("NativeMessageHandler - createProvider called.");try{let i=new n(e,t,r,No.PREFERRED_EXTENSION_ID);return yield i.sendHandshakeRequest(),i}catch{let o=new n(e,t,r);return yield o.sendHandshakeRequest(),o}})}sendHandshakeRequest(){return m(this,null,function*(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);let e={channel:No.CHANNEL_ID,extensionId:this.extensionId,responseId:Ht(),body:{method:xi.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(O(Uc)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;let t=e.data;if(!(!t.channel||t.channel!==No.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===xi.HandshakeRequest){let r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(O(Vc))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");let t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{let o=t.body.method;if(o===xi.Response){if(!r)return;let s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(od(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(od(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw gu(vs.unexpectedError,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===xi.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,r,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case ye.BEARER:case ye.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}};var ko=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}handleCodeResponse(e,t){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.HandleCodeResponse,t.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Xt&&i.subError===yn?O(yn):i}return b(this.handleCodeResponseFromServer.bind(this),h.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)})}handleCodeResponseFromServer(e,t,r=!0){return m(this,null,function*(){if(this.performanceClient.addQueueMeasurement(h.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&(yield b(this.authModule.updateAuthority.bind(this.authModule),h.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId)),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{let o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return yield b(this.authModule.acquireToken.bind(this.authModule),h.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)})}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:It.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:It.UPN}:null}};function Yp(n,e,t){let r=wo.getDeserializedResponse(n);if(!r)throw wo.stripLeadingHashOrQuery(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),O(vc)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),O(yc));return r}function cD(n,e,t){if(!n.state)throw O(Ao);let r=Gp(e,n.state);if(!r)throw O(Cc);if(r.interactionType!==t)throw O(Ec)}var Zp=class extends Cn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e){try{let r={popupName:this.generatePopupName(e.scopes||Dn,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");let t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,i,o))}catch(t){return Promise.reject(t)}}acquireTokenPopupAsync(e,t){return m(this,null,function*(){this.logger.verbose("acquireTokenPopupAsync called");let r=this.initializeServerTelemetryManager(Pe.acquireTokenPopup),i=yield b(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,U.Popup);nd(i.authority);try{let o=yield b(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),s=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),a=Nn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),c;a&&(c=this.performanceClient.startMeasurement(h.FetchAccountIdWithNativeBroker,e.correlationId));let l=yield s.getAuthCodeUrl(R(y({},i),{nativeBroker:a})),u=new ko(s,this.browserStorage,o,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(P.POPUP_OPENED,U.Popup,{popupWindow:d},null);let f=yield this.monitorPopupForHash(d,t.popupWindowParent),p=Jt(Yp,h.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Hr.removeThrottle(this.browserStorage,this.config.auth.clientId,o),p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw O(Gn);let v=new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,p.accountId,this.nativeStorage,i.correlationId),{userRequestState:S}=Tt.parseRequestState(this.browserCrypto,i.state);return yield v.acquireToken(R(y({},i),{state:S,prompt:void 0}))}return yield u.handleCodeResponse(p,i)}catch(o){throw t.popup?.close(),o instanceof ue&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}})}logoutPopupAsync(e,t,r,i){return m(this,null,function*(){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(P.LOGOUT_START,U.Popup,e);let o=this.initializeServerTelemetryManager(Pe.logoutPopup);try{yield this.clearCacheOnLogout(e.account);let s=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===kt.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(P.LOGOUT_SUCCESS,U.Popup,e),i){let l={apiId:Pe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=ie.getAbsoluteUrl(i,tn());yield this.navigationClient.navigateInternal(u,l)}t.popup?.close();return}}let a=s.getLogoutUri(e);this.eventHandler.emitEvent(P.LOGOUT_SUCCESS,U.Popup,e);let c=this.openPopup(a,t);if(this.eventHandler.emitEvent(P.POPUP_OPENED,U.Popup,{popupWindow:c},null),yield this.monitorPopupForHash(c,t.popupWindowParent).catch(()=>{}),i){let l={apiId:Pe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=ie.getAbsoluteUrl(i,tn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${u}`),yield this.navigationClient.navigateInternal(u,l)}else this.logger.verbose("No main window navigation requested")}catch(s){throw t.popup?.close(),s instanceof ue&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(P.LOGOUT_FAILURE,U.Popup,null,s),this.eventHandler.emitEvent(P.LOGOUT_END,U.Popup),s}this.eventHandler.emitEvent(P.LOGOUT_END,U.Popup)})}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),O(jr)}monitorPopupForHash(e,t){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");let o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(O(yn));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="",c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===fr.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw O(Ic);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),O(wc)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:i}){let o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,f=r.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=lt.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=lt.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-lt.POPUP_HEIGHT/2+s)),(!f||f<0||f>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,a/2-lt.POPUP_WIDTH/2+o)),i.open(e,t,`width=${l}, height=${u}, top=${d}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(U.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${lt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){let t=e.account&&e.account.homeAccountId;return`${lt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}};var sd=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}initiateAuthRequest(e,t){return m(this,null,function*(){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Me.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Me.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);let r={apiId:Pe.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),yield t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),yield t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),O(jr)})}handleCodeResponse(e,t){return m(this,null,function*(){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);let r=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(r);if(!i)throw w(wt.stateNotFound,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Xt&&l.subError===yn?O(yn):l}let s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&(yield b(this.authModule.updateAuthority.bind(this.authModule),h.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId)),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{let l=this.checkCcsCredentials();l&&(this.authCodeRequest.ccsCredential=l)}let c=yield this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),c})}checkCcsCredentials(){let e=this.browserStorage.getTemporaryCache(Me.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}};function NU(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;let n=window.performance.getEntriesByType("navigation");return(n.length?n[0]:void 0)?.type}var Jp=class extends Cn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.nativeStorage=c}acquireToken(e){return m(this,null,function*(){let t=yield b(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,U.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);let r=this.initializeServerTelemetryManager(Pe.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(P.RESTORE_FROM_BFCACHE,U.Redirect))};try{let o=yield b(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new sd(s,this.browserStorage,o,this.logger,this.performanceClient),c=yield s.getAuthCodeUrl(R(y({},t),{nativeBroker:Nn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)})),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),yield a.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof ue&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),o}})}handleRedirectPromise(e="",t){return m(this,null,function*(){let r=this.initializeServerTelemetryManager(Pe.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(U.Redirect),NU()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;let s=this.browserStorage.getTemporaryCache(Me.ORIGIN_URI,!0)||C.EMPTY_STRING,a=ie.removeHashFromUrl(s),c=ie.removeHashFromUrl(window.location.href);if(a===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&l_(s),yield this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!ed()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Me.URL_HASH,o,!0);let l={apiId:Pe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0;if(!s||s==="null"){let d=u_();this.browserStorage.setTemporaryCache(Me.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=yield this.navigationClient.navigateInternal(d,l)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),u=yield this.navigationClient.navigateInternal(s,l);if(!u)return yield this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield this.handleResponse(i,r);return null}catch(i){throw i instanceof ue&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(U.Redirect),i}})}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===fr.QUERY?t=window.location.search:t=window.location.hash);let r=wo.getDeserializedResponse(t);if(r){try{cD(r,this.browserCrypto,U.Redirect)}catch(o){return o instanceof ue&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return c_(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}let i=this.browserStorage.getTemporaryCache(Me.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Me.URL_HASH)),i&&(r=wo.getDeserializedResponse(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}handleResponse(e,t){return m(this,null,function*(){let r=e.state;if(!r)throw O(Ao);let i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O(Gn);let c=new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:l}=Tt.parseRequestState(this.browserCrypto,r);return c.acquireToken(R(y({},i),{state:l,prompt:void 0})).finally(()=>{this.browserStorage.cleanRequestByState(r)})}let o=this.browserStorage.getCachedAuthority(r);if(!o)throw O(Do);let s=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});return Hr.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new sd(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,r)})}logout(e){return m(this,null,function*(){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Pe.logout);try{this.eventHandler.emitEvent(P.LOGOUT_START,U.Redirect,e),yield this.clearCacheOnLogout(t.account);let i={apiId:Pe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===kt.OIDC)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId){this.browserStorage.removeAccount(t.account?.homeAccountId),this.eventHandler.emitEvent(P.LOGOUT_SUCCESS,U.Redirect,t);return}}let s=o.getLogoutUri(t);if(this.eventHandler.emitEvent(P.LOGOUT_SUCCESS,U.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(s)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}}catch(i){throw i instanceof ue&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.eventHandler.emitEvent(P.LOGOUT_FAILURE,U.Redirect,null,i),this.eventHandler.emitEvent(P.LOGOUT_END,U.Redirect),i}this.eventHandler.emitEvent(P.LOGOUT_END,U.Redirect)})}getRedirectStartPage(e){let t=e||window.location.href;return ie.getAbsoluteUrl(t,tn())}};function lD(n,e,t,r,i){return m(this,null,function*(){if(e.addQueueMeasurement(h.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),O(jr);return i?b(OU,h.SilentHandlerLoadFrame,t,e,r)(n,i,e,r):Jt(xU,h.SilentHandlerLoadFrameSync,t,e,r)(n)})}function uD(n,e,t,r,i,o,s){return m(this,null,function*(){return r.addQueueMeasurement(h.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<Vp&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Vp}ms). This may result in timeouts.`);let l=window.setTimeout(()=>{window.clearInterval(u),c(O(Tc))},e),u=window.setInterval(()=>{let d="",f=n.contentWindow;try{d=f?f.location.href:""}catch{}if(!d||d==="about:blank")return;let p="";f&&(s===fr.QUERY?p=f.location.search:p=f.location.hash),window.clearTimeout(l),window.clearInterval(u),a(p)},t)}).finally(()=>{Jt(PU,h.RemoveHiddenIframe,i,r,o)(n)})})}function OU(n,e,t,r){return t.addQueueMeasurement(h.SilentHandlerLoadFrame,r),new Promise((i,o)=>{let s=dD();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=n,i(s)},e)})}function xU(n){let e=dD();return e.src=n,e}function dD(){let n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function PU(n){document.body===n.parentNode&&document.body.removeChild(n)}var Xp=class extends Cn{constructor(e,t,r,i,o,s,a,c,l,u,d){super(e,t,r,i,o,s,c,u,d),this.apiId=a,this.nativeStorage=l}acquireToken(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");let t=y({},e);t.prompt?t.prompt!==We.NONE&&t.prompt!==We.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${We.NONE}`),t.prompt=We.NONE):t.prompt=We.NONE;let r=yield b(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,U.Silent);nd(r.authority);let i=this.initializeServerTelemetryManager(this.apiId),o;try{return o=yield b(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),yield b(this.silentTokenHelper.bind(this),h.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,r)}catch(s){if(s instanceof ue&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof ue)||s.errorCode!==lt.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);let a=yield b(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,U.Silent);return yield b(this.silentTokenHelper.bind(this),h.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}})}logout(){return Promise.reject(O($r))}silentTokenHelper(e,t){return m(this,null,function*(){let r=t.correlationId;this.performanceClient.addQueueMeasurement(h.SilentIframeClientTokenHelper,r);let i=yield b(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(t),o=yield b(e.getAuthCodeUrl.bind(e),h.GetAuthCodeUrl,this.logger,this.performanceClient,r)(R(y({},t),{nativeBroker:Nn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)})),s=new ko(e,this.browserStorage,i,this.logger,this.performanceClient),a=yield b(lD,h.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(o,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=yield b(uD,h.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),u=Jt(Yp,h.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O(Gn);let d=new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,r),{userRequestState:f}=Tt.parseRequestState(this.browserCrypto,t.state);return b(d.acquireToken.bind(d),h.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)(R(y({},t),{state:f,prompt:t.prompt||We.NONE}))}return b(s.handleCodeResponse.bind(s),h.HandleCodeResponse,this.logger,this.performanceClient,r)(u,t)})}};var em=class extends Cn{acquireToken(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentRefreshClientAcquireToken,e.correlationId);let t=yield b(id,h.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r=y(y({},e),t);e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));let i=this.initializeServerTelemetryManager(Pe.acquireTokenSilent_silentFlow),o=yield this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return b(o.acquireTokenByRefreshToken.bind(o),h.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})})}logout(){return Promise.reject(O($r))}createRefreshTokenClient(e){return m(this,null,function*(){let t=yield b(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new So(t,this.performanceClient)})}};var tm=class{constructor(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw O(qr);let i=t.id_token?Eo.extractTokenClaims(t.id_token,vn):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new zn(zn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||Ht()):void 0,a=this.loadAccount(e,r.clientInfo||t.client_info||"",i,s),c=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),l=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,r),u=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},i,s)}loadAccount(e,t,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){let c=qe.createFromAccountInfo(e.account);return this.storage.setAccount(c),c}else if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),O(xc);let o=qe.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=mc(this.storage,i,o,vn,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");let o=je.createIdTokenEntity(t,r,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,r,i,o,s){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");let a=t.scope?Ke.fromString(t.scope):new Ke(e.scopes),c=s.expiresOn||t.expires_in+new Date().getTime()/1e3,l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,u=je.createAccessTokenEntity(r,i,t.access_token,this.config.auth.clientId,o,a.printScopes(),c,l,vn);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(e,t,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");let i=je.createRefreshTokenEntity(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,r,i){let o="",s=[],a=null,c;t?.accessToken&&(o=t.accessToken.secret,s=Ke.fromString(t.accessToken.target).asArray(),a=new Date(Number(t.accessToken.expiresOn)*1e3),c=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));let l=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}};var nm=class extends Qs{constructor(e){super(e),this.includeRedirectUri=!1}};var rm=class extends Cn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,c,l,u),this.apiId=a}acquireToken(e){return m(this,null,function*(){if(!e.code)throw O(Pc);let t=yield b(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,U.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{let i=R(y({},t),{code:e.code}),o=yield b(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new nm(o);this.logger.verbose("Auth code client created");let a=new ko(s,this.browserStorage,i,this.logger,this.performanceClient);return yield b(a.handleCodeResponseFromServer.bind(a),h.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof ue&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}})}logout(){return Promise.reject(O($r))}};function Gr(n){let e=n?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function im(n,e){try{td(n)}catch(t){throw e.end({success:!1},t),t}}var Qc=class n{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new qA(this.logger,this.performanceClient):vo,this.eventHandler=new Kp(this.logger),this.browserStorage=this.isBrowserEnvironment?new Gc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,GE(this.config.auth),this.performanceClient):zA(this.config.auth.clientId,this.logger);let t={cacheLocation:it.MemoryStorage,temporaryCacheLocation:it.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Gc(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new tm(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static createController(e,t){return m(this,null,function*(){let r=new n(e);return yield r.initialize(t),r})}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}initialize(e){return m(this,null,function*(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(P.INITIALIZE_END);return}let t=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(h.InitializeClientApplication,t);if(this.eventHandler.emitEvent(P.INITIALIZE_START),r)try{this.nativeExtensionProvider=yield Nn.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield b(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),h.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(P.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})})}handleRedirectPromise(e){return m(this,null,function*(){if(this.logger.verbose("handleRedirectPromise called"),kp(this.initialized),this.isBrowserEnvironment){let t=e||"",r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})}handleRedirectPromiseInternal(e){return m(this,null,function*(){let t=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Nn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?r?.correlationId:this.browserStorage.getTemporaryCache(Me.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(h.AcquireTokenRedirect,o);this.eventHandler.emitEvent(P.HANDLE_REDIRECT_START,U.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");let c=new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=b(c.handleRedirectPromise.bind(c),h.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");let c=this.createRedirectClient(o);a=b(c.handleRedirectPromise.bind(c),h.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(c=>(c?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(P.LOGIN_SUCCESS,U.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_SUCCESS,U.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Gr(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(P.HANDLE_REDIRECT_END,U.Redirect),c)).catch(c=>{let l=c;throw t.length>0?this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_FAILURE,U.Redirect,null,l):this.eventHandler.emitEvent(P.LOGIN_FAILURE,U.Redirect,null,l),this.eventHandler.emitEvent(P.HANDLE_REDIRECT_END,U.Redirect),s.end({success:!1},l),c})})}acquireTokenRedirect(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);let r=this.performanceClient.startMeasurement(h.AcquireTokenPreRedirect,t);r.add({accountType:Gr(e.account),scenarioId:e.scenarioId});let i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{let a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{let s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{let c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}let o=this.getAllAccounts().length>0;try{Lp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_START,U.Redirect,e):this.eventHandler.emitEvent(P.LOGIN_START,U.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof Wn&&Po(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof Lt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createRedirectClient(t).acquireToken(e),yield s}catch(s){throw r.end({success:!1},s),o?this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_FAILURE,U.Redirect,null,s):this.eventHandler.emitEvent(P.LOGIN_FAILURE,U.Redirect,null,s),s}})}acquireTokenPopup(e){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(h.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:Gr(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),im(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}let i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_START,U.Popup,e):this.eventHandler.emitEvent(P.LOGIN_START,U.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative(R(y({},e),{correlationId:t}),Pe.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,accountType:Gr(s.account)}),s)).catch(s=>{if(s instanceof Wn&&Po(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof Lt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(t).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(P.LOGIN_SUCCESS,U.Popup,s):this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_SUCCESS,U.Popup,s),r.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Gr(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_FAILURE,U.Popup,null,s):this.eventHandler.emitEvent(P.LOGIN_FAILURE,U.Popup,null,s),r.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){let e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}ssoSilent(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e),r=R(y({},e),{prompt:e.prompt,correlationId:t});this.ssoSilentMeasurement=this.performanceClient.startMeasurement(h.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Gr(e.account)}),im(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(P.SSO_SILENT_START,U.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,Pe.ssoSilent).catch(o=>{if(o instanceof Wn&&Po(o))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw o}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(o=>(this.eventHandler.emitEvent(P.SSO_SILENT_SUCCESS,U.Silent,o),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:Gr(o.account)}),o)).catch(o=>{throw this.eventHandler.emitEvent(P.SSO_SILENT_FAILURE,U.Silent,null,o),this.ssoSilentMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenByCode(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);let r=this.performanceClient.startMeasurement(h.AcquireTokenByCode,t);im(this.initialized,r),this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_BY_CODE_START,U.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw O(Lc);if(e.code){let i=e.code,o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(R(y({},e),{correlationId:t})).then(s=>(this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_BY_CODE_SUCCESS,U.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Gr(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_BY_CODE_FAILURE,U.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),yield o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){let i=yield this.acquireTokenNative(R(y({},e),{correlationId:t}),Pe.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof Wn&&Po(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:Gr(i.account),success:!0}),i}else throw O(Fc);else throw O(kc)}catch(i){throw this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_BY_CODE_FAILURE,U.Silent,null,i),r.end({success:!1},i),i}})}acquireTokenByCodeAsync(e){return m(this,null,function*(){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(h.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),yield this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker}),i)).catch(i=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenFromCache(e,t){return m(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(h.AcquireTokenFromCache,e.correlationId),t){case en.Default:case en.AccessToken:case en.AccessTokenAndRefreshToken:let r=this.createSilentCacheClient(e.correlationId);return b(r.acquireToken.bind(r),h.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw w(wt.tokenRefreshRequired)}})}acquireTokenByRefreshToken(e,t){return m(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(h.AcquireTokenByRefreshToken,e.correlationId),t){case en.Default:case en.AccessTokenAndRefreshToken:case en.RefreshToken:case en.RefreshTokenAndNetwork:let r=this.createSilentRefreshClient(e.correlationId);return b(r.acquireToken.bind(r),h.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw w(wt.tokenRefreshRequired)}})}acquireTokenBySilentIframe(e){return m(this,null,function*(){this.performanceClient.addQueueMeasurement(h.AcquireTokenBySilentIframe,e.correlationId);let t=this.createSilentIframeClient(e.correlationId);return b(t.acquireToken.bind(t),h.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)})}logout(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(y({correlationId:t},e))})}logoutRedirect(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e);return Lp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)})}logoutPopup(e){try{let t=this.getRequestCorrelationId(e);return td(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}clearCache(e){return m(this,null,function*(){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}let t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)})}getAllAccounts(e){return GA(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return WA(e,this.logger,this.browserStorage)}getAccountByUsername(e){return KA(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return QA(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return YA(e,this.logger,this.browserStorage)}setActiveAccount(e){ZA(e,this.browserStorage)}getActiveAccount(){return JA(this.browserStorage)}hydrateCache(e,t){return m(this,null,function*(){this.logger.verbose("hydrateCache called");let r=qe.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)})}acquireTokenNative(e,t,r){return m(this,null,function*(){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw O(Gn);return new Kn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)})}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Nn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case We.NONE:case We.CONSENT:case We.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){let t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Zp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Jp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Xp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Kc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new em(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new rm(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Pe.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Pp(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){try{e.key?.includes(ct.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(P.ACTIVE_ACCOUNT_CHANGED);let t=e.newValue||e.oldValue;if(!t)return;let r=JSON.parse(t);if(typeof r!="object"||!qe.isAccountEntity(r))return;let o=Ai.toObject(new qe,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(P.ACCOUNT_ADDED,void 0,o)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(P.ACCOUNT_REMOVED,void 0,o))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Ht():C.EMPTY_STRING}loginRedirect(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(y({correlationId:t},e||n_))})}loginPopup(e){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(y({correlationId:t},e||n_))}acquireTokenSilent(e){return m(this,null,function*(){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(h.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),im(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);let i=e.account||this.getActiveAccount();if(!i)throw O(Dc);r.add({accountType:Gr(i)});let o={clientId:this.config.auth.clientId,authority:e.authority||C.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);let c=b(this.acquireTokenSilentAsync.bind(this),h.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)(R(y({},e),{correlationId:t}),i).then(l=>(this.activeSilentTokenRequests.delete(s),r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),l)).catch(l=>{throw this.activeSilentTokenRequests.delete(s),r.end({success:!1},l),l});return this.activeSilentTokenRequests.set(s,c),R(y({},yield c),{state:e.state})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discard(),R(y({},yield a),{state:e.state})})}acquireTokenSilentAsync(e,t){return m(this,null,function*(){let r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(h.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_START,U.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);let i=yield b(eD,h.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||en.Default;return this.acquireTokenSilentNoIframe(i,o).catch(a=>m(this,null,function*(){if(kU(a,o))if(this.activeIframeRequest)if(o!==en.Skip){let[l,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);let d=this.performanceClient.startMeasurement(h.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});let f=yield l;if(d.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),b(this.acquireTokenBySilentIframe.bind(this),h.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let l;return this.activeIframeRequest=[new Promise(u=>{l=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),b(this.acquireTokenBySilentIframe.bind(this),h.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(l(!0),u)).catch(u=>{throw l(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a})).then(a=>(this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_SUCCESS,U.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_FAILURE,U.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})})}acquireTokenSilentNoIframe(e,t){return m(this,null,function*(){return Nn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Pe.acquireTokenSilent_silentFlow).catch(r=>m(this,null,function*(){throw r instanceof Wn&&Po(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,w(wt.tokenRefreshRequired)):r}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),b(this.acquireTokenFromCache.bind(this),h.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===en.AccessToken)throw r;return this.eventHandler.emitEvent(P.ACQUIRE_TOKEN_NETWORK_START,U.Silent,e),b(this.acquireTokenByRefreshToken.bind(this),h.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))})}};function kU(n,e){let t=!(n instanceof Lt&&n.subError!==Ri.badToken),r=n.errorCode===lt.INVALID_GRANT_ERROR||n.errorCode===wt.tokenRefreshRequired,i=t&&r||n.errorCode===Ri.noTokensFound||n.errorCode===Ri.refreshTokenExpired,o=IA.includes(e);return i&&o}function hD(n,e){return m(this,null,function*(){let t=new Bp(n);return yield t.initialize(),Qc.createController(t,e)})}var ad=class n{static createPublicClientApplication(e){return m(this,null,function*(){let t=yield hD(e);return new n(e,t)})}constructor(e,t){this.controller=t||new Qc(new Bp(e))}initialize(e){return m(this,null,function*(){return this.controller.initialize(e)})}acquireTokenPopup(e){return m(this,null,function*(){return this.controller.acquireTokenPopup(e)})}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,t){return m(this,null,function*(){return this.controller.hydrateCache(e,t)})}clearCache(e){return this.controller.clearCache(e)}};var cd=class{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case P.LOGIN_START:return ut.Login;case P.SSO_SILENT_START:return ut.SsoSilent;case P.ACQUIRE_TOKEN_START:if(e.interactionType===U.Redirect||e.interactionType===U.Popup)return ut.AcquireToken;break;case P.HANDLE_REDIRECT_START:return ut.HandleRedirect;case P.LOGOUT_START:return ut.Logout;case P.SSO_SILENT_SUCCESS:case P.SSO_SILENT_FAILURE:if(t&&t!==ut.SsoSilent)break;return ut.None;case P.LOGOUT_END:if(t&&t!==ut.Logout)break;return ut.None;case P.HANDLE_REDIRECT_END:if(t&&t!==ut.HandleRedirect)break;return ut.None;case P.LOGIN_SUCCESS:case P.LOGIN_FAILURE:case P.ACQUIRE_TOKEN_SUCCESS:case P.ACQUIRE_TOKEN_FAILURE:case P.RESTORE_FROM_BFCACHE:if(e.interactionType===U.Redirect||e.interactionType===U.Popup){if(t&&t!==ut.Login&&t!==ut.AcquireToken)break;return ut.None}break}return null}};var fD="@azure/msal-angular",h_="3.1.0",ld=new B("MSAL_INSTANCE"),Yc=new B("MSAL_GUARD_CONFIG"),pD=new B("MSAL_INTERCEPTOR_CONFIG"),LU=new B("MSAL_BROADCAST_CONFIG"),Wr=(()=>{class n{constructor(t,r){this.instance=t,this.location=r;let i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(i_.Angular,h_)}initialize(){return Ie(this.instance.initialize())}acquireTokenPopup(t){return Ie(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return Ie(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return Ie(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return Ie(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(t||this.redirectHash)))}loginPopup(t){return Ie(this.instance.loginPopup(t))}loginRedirect(t){return Ie(this.instance.loginRedirect(t))}logout(t){return Ie(this.instance.logout(t))}logoutRedirect(t){return Ie(this.instance.logoutRedirect(t))}logoutPopup(t){return Ie(this.instance.logoutPopup(t))}ssoSilent(t){return Ie(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(fD,h_)),this.logger}setLogger(t){this.logger=t.clone(fD,h_),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(k(ld),k(fi))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),ia=(()=>{class n{constructor(t,r,i){this.msalInstance=t,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Cl(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Ve,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new gt(ut.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);let s=cd.getInteractionStatusFromEvent(o,this._inProgress.value);s!==null&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(t){return new(t||n)(k(ld),k(Wr),k(LU,8))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),Zc=(()=>{class n{constructor(t,r,i,o,s){this.msalGuardConfig=t,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");let r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${t}`}loginInteractively(t){let r=typeof this.msalGuardConfig.authRequest=="function"?this.msalGuardConfig.authRequest(this.authService,t):y({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===U.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(X(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");let i=this.getDestinationUrl(t.url);return this.authService.loginRedirect(y({redirectStartPage:i},r)).pipe(X(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==U.Popup&&this.msalGuardConfig.interactionType!==U.Redirect)throw new na("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),typeof window<"u"){if(ie.hashContainsKnownProperties(window.location.hash)&&Fp.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),z(!1)}else return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),z(!0);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));let r=this.location.path(!0);return this.authService.initialize().pipe(sr(()=>this.authService.handleRedirectObservable()),sr(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),z(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){let i=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=this.location.prepareExternalUrl(t.url).indexOf("#")===0;if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?z(this.parseUrl(this.location.path())):z(this.parseUrl(""))}return z(!0)}),or(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),z(this.loginFailedRoute)):z(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(t,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(k(Yc),k(ia),k(Wr),k(fi),k(uo))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})(),mD=(()=>{class n{constructor(t,r,i,o,s){this.msalInterceptorConfig=t,this.authService=r,this.location=i,this.msalBroadcastService=o,this._document=s}intercept(t,r){if(this.msalInterceptorConfig.interactionType!==U.Popup&&this.msalInterceptorConfig.interactionType!==U.Redirect)throw new na("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");let i=this.getScopesForEndpoint(t.url,t.method);if(!i||i.length===0)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),r.handle(t);let o;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),o=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),o=this.authService.instance.getAllAccounts()[0]);let s=typeof this.msalInterceptorConfig.authRequest=="function"?this.msalInterceptorConfig.authRequest(this.authService,t,{account:o}):R(y({},this.msalInterceptorConfig.authRequest),{account:o});return this.authService.getLogger().info(`Interceptor - ${i.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${i}] scopes found for ${t.url}`),this.acquireToken(s,i,o).pipe(vt(a=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");let c=t.headers.set("Authorization",`Bearer ${a.accessToken}`),l=t.clone({headers:c});return r.handle(l)}))}acquireToken(t,r,i){return this.authService.acquireTokenSilent(R(y({},t),{scopes:r,account:i})).pipe(or(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(In(1),vt(o=>o===ut.None?this.acquireTokenInteractively(t,r):this.msalBroadcastService.inProgress$.pipe(ft(s=>s===ut.None),In(1),vt(()=>this.acquireToken(t,r,i))))))),vt(o=>o.accessToken?z(o):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(ft(s=>s===ut.None),In(1),vt(()=>this.acquireTokenInteractively(t,r))))))}acquireTokenInteractively(t,r){if(this.msalInterceptorConfig.interactionType===U.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(R(y({},t),{scopes:r}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");let i=window.location.href;return this.authService.acquireTokenRedirect(R(y({},t),{scopes:r,redirectStartPage:i})),qt}getScopesForEndpoint(t,r){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");let i=this.location.normalize(t),o=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),s=this.matchResourcesToEndpoint(o,i);return s.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s,r):null}matchResourcesToEndpoint(t,r){let i=[];return t.forEach(o=>{let s=this.location.normalize(o),a=this.getAbsoluteUrl(s),c=new URL(a),l=this.getAbsoluteUrl(r),u=new URL(l);this.checkUrlComponents(c,u)&&i.push(o)}),i}checkUrlComponents(t,r){let i=["protocol","host","pathname","search","hash"];for(let o of i)if(t[o]){let s=decodeURIComponent(t[o]);if(!Ze.matchPattern(s,r[o]))return!1}return!0}getAbsoluteUrl(t){let r=this._document.createElement("a");return r.href=t,r.href}matchScopesToEndpoint(t,r,i){let o=[];return r.forEach(s=>{let a=[],c=t.get(s);if(c===null){o.push(null);return}c.forEach(l=>{if(typeof l=="string")a.push(l);else{let u=i.toLowerCase();l.httpMethod.toLowerCase()===u&&(l.scopes===null?o.push(null):l.scopes.forEach(f=>{a.push(f)}))}}),a.length>0&&o.push(a)}),o.length>0?(o.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),o[0]):null}}return n.\u0275fac=function(t){return new(t||n)(k(pD),k(Wr),k(fi),k(ia),k(Fe))},n.\u0275prov=F({token:n,factory:n.\u0275fac}),n})();var gD=(()=>{class n{static forRoot(t,r,i){return{ngModule:n,providers:[{provide:ld,useValue:t},{provide:Yc,useValue:r},{provide:pD,useValue:i},Wr]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=Oe({providers:[Zc,ia],imports:[Se]}),n})();var J=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(J||{}),Kr="*";function dd(n,e){return{type:J.Trigger,name:n,definitions:e,options:{}}}function Jc(n,e=null){return{type:J.Animate,styles:e,timings:n}}function vD(n,e=null){return{type:J.Sequence,steps:n,options:e}}function Qr(n){return{type:J.Style,styles:n,offset:null}}function CD(n,e,t){return{type:J.State,name:n,styles:e,options:t}}function oa(n,e,t=null){return{type:J.Transition,expr:n,animation:e,options:t}}function f_(n,e=null){return{type:J.Reference,animation:n,options:e}}function ED(n=null){return{type:J.AnimateChild,options:n}}function p_(n,e=null){return{type:J.AnimateRef,animation:n,options:e}}function _D(n,e,t=null){return{type:J.Query,selector:n,animation:e,options:t}}var Lo=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ud=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},om="!";function wD(n){return new D(3e3,!1)}function FU(){return new D(3100,!1)}function UU(){return new D(3101,!1)}function VU(n){return new D(3001,!1)}function HU(n){return new D(3003,!1)}function BU(n){return new D(3004,!1)}function jU(n,e){return new D(3005,!1)}function $U(){return new D(3006,!1)}function qU(){return new D(3007,!1)}function zU(n,e){return new D(3008,!1)}function GU(n){return new D(3002,!1)}function WU(n,e,t,r,i){return new D(3010,!1)}function KU(){return new D(3011,!1)}function QU(){return new D(3012,!1)}function YU(){return new D(3200,!1)}function ZU(){return new D(3202,!1)}function JU(){return new D(3013,!1)}function XU(n){return new D(3014,!1)}function eV(n){return new D(3015,!1)}function tV(n){return new D(3016,!1)}function nV(n,e){return new D(3404,!1)}function rV(n){return new D(3502,!1)}function iV(n){return new D(3503,!1)}function oV(){return new D(3300,!1)}function sV(n){return new D(3504,!1)}function aV(n){return new D(3301,!1)}function cV(n,e){return new D(3302,!1)}function lV(n){return new D(3303,!1)}function uV(n,e){return new D(3400,!1)}function dV(n){return new D(3401,!1)}function hV(n){return new D(3402,!1)}function fV(n,e){return new D(3505,!1)}function Fo(n){switch(n.length){case 0:return new Lo;case 1:return n[0];default:return new ud(n)}}function LD(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((f,p)=>{let g=p,v=f;if(p!=="offset")switch(g=n.normalizePropertyName(g,i),v){case om:v=t.get(p);break;case Kr:v=r.get(p);break;default:v=n.normalizeStyleValue(p,g,v,i);break}d.set(g,v)}),u||o.push(d),a=d,s=l}),i.length)throw rV(i);return o}function F_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&m_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&m_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&m_(t,"destroy",n)));break}}function m_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=U_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function U_(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function ID(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var pV=typeof document>"u"?null:document.documentElement;function V_(n){let e=n.parentNode||n.host||null;return e===pV?null:e}function mV(n){return n.substring(1,6)=="ebkit"}var sa=null,TD=!1;function gV(n){sa||(sa=yV()||{},TD=sa.style?"WebkitAppearance"in sa.style:!1);let e=!0;return sa.style&&!mV(n)&&(e=n in sa.style,!e&&TD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sa.style)),e}function yV(){return typeof document<"u"?document.body:null}function FD(n,e){for(;e;){if(e===n)return!0;e=V_(e)}return!1}function UD(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var H_=(()=>{class n{validateStyleProperty(t){return gV(t)}containsElement(t,r){return FD(t,r)}getParentElement(t){return V_(t)}query(t,r,i){return UD(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Lo(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),la=class{static{this.NOOP=new H_}},ua=class{};var vV=1e3,VD="{{",CV="}}",HD="ng-enter",__="ng-leave",sm="ng-trigger",dm=".ng-trigger",bD="ng-animating",w_=".ng-animating";function ki(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I_(parseFloat(e[1]),e[2])}function I_(n,e){switch(e){case"s":return n*vV;default:return n}}function hm(n,e,t){return n.hasOwnProperty("duration")?n:EV(n,e,t)}function EV(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(wD(n)),{duration:0,delay:0,easing:""};i=I_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=I_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(FU()),a=!0),o<0&&(e.push(UU()),a=!0),a&&e.splice(c,0,wD(n))}return{duration:i,delay:o,easing:s}}function _V(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Yr(n,e,t){e.forEach((r,i)=>{let o=B_(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function ca(n,e){e.forEach((t,r)=>{let i=B_(r);n.style[i]=""})}function hd(n){return Array.isArray(n)?n.length==1?n[0]:vD(n):n}function wV(n,e,t){let r=e.params||{},i=BD(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(VU(o))})}var T_=new RegExp(`${VD}\\s*(.+?)\\s*${CV}`,"g");function BD(n){let e=[];if(typeof n=="string"){let t;for(;t=T_.exec(n);)e.push(t[1]);T_.lastIndex=0}return e}function pd(n,e,t){let r=`${n}`,i=r.replace(T_,(o,s)=>{let a=e[s];return a==null&&(t.push(HU(s)),a=""),a.toString()});return i==r?n:i}var IV=/-+([a-z0-9])/g;function B_(n){return n.replace(IV,(...e)=>e[1].toUpperCase())}function TV(n,e){return n===0||e===0}function bV(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,j_(n,a)))}}return e}function On(n,e,t){switch(e.type){case J.Trigger:return n.visitTrigger(e,t);case J.State:return n.visitState(e,t);case J.Transition:return n.visitTransition(e,t);case J.Sequence:return n.visitSequence(e,t);case J.Group:return n.visitGroup(e,t);case J.Animate:return n.visitAnimate(e,t);case J.Keyframes:return n.visitKeyframes(e,t);case J.Style:return n.visitStyle(e,t);case J.Reference:return n.visitReference(e,t);case J.AnimateChild:return n.visitAnimateChild(e,t);case J.AnimateRef:return n.visitAnimateRef(e,t);case J.Query:return n.visitQuery(e,t);case J.Stagger:return n.visitStagger(e,t);default:throw BU(e.type)}}function j_(n,e){return window.getComputedStyle(n)[e]}var SV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fm=class extends ua{normalizePropertyName(e,t){return B_(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(SV.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(jU(e,r))}return s+o}};var pm="*";function AV(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>DV(r,t,e)):t.push(n),t}function DV(n,e,t){if(n[0]==":"){let c=MV(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(eV(n)),e;let i=r[1],o=r[2],s=r[3];e.push(SD(i,s));let a=i==pm&&s==pm;o[0]=="<"&&!a&&e.push(SD(s,i))}function MV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(tV(n)),"* => *"}}var am=new Set(["true","1"]),cm=new Set(["false","0"]);function SD(n,e){let t=am.has(n)||cm.has(n),r=am.has(e)||cm.has(e);return(i,o)=>{let s=n==pm||n==i,a=e==pm||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?am.has(n):cm.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?am.has(e):cm.has(e)),s&&a}}var jD=":self",RV=new RegExp(`s*${jD}s*,?`,"g");function $D(n,e,t,r){return new b_(n).build(e,t,r)}var AD="",b_=class{constructor(e){this._driver=e}build(e,t,r){let i=new S_(t);return this._resetContextStyleTimingState(i),On(this,hd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=AD,e.collectedStyles=new Map,e.collectedStyles.set(AD,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push($U()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==J.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==J.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(qU())}),{type:J.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{BD(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(zU(e.name,[...o.values()]))}return{type:J.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=On(this,hd(e.animation),t),i=AV(e.expr,t.errors);return{type:J.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:aa(e.options)}}visitSequence(e,t){return{type:J.Sequence,steps:e.steps.map(r=>On(this,r,t)),options:aa(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=On(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:J.Group,steps:o,options:aa(e.options)}}visitAnimate(e,t){let r=PV(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Qr({});if(o.type==J.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Qr(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:J.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Kr?r.push(a):t.errors.push(GU(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(VD)>=0){o=!0;break}}}),{type:J.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(WU(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&wV(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:J.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(KU()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(L=>{let G=this._makeStyleAst(L,t),q=G.offset!=null?G.offset:xV(G.styles),pe=0;return q!=null&&(o++,pe=G.offset=q),c=c||pe<0||pe>1,a=a||pe<l,l=pe,s.push(pe),G});c&&t.errors.push(QU()),a&&t.errors.push(YU());let d=e.steps.length,f=0;o>0&&o<d?t.errors.push(ZU()):o==0&&(f=i/(d-1));let p=d-1,g=t.currentTime,v=t.currentAnimateTimings,S=v.duration;return u.forEach((L,G)=>{let q=f>0?G==p?1:f*G:s[G],pe=q*S;t.currentTime=g+v.delay+pe,v.duration=pe,this._validateStyleAst(L,t),L.offset=q,r.styles.push(L)}),r}visitReference(e,t){return{type:J.Reference,animation:On(this,hd(e.animation),t),options:aa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:J.AnimateChild,options:aa(e.options)}}visitAnimateRef(e,t){return{type:J.AnimateRef,animation:this.visitReference(e.animation,t),options:aa(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=NV(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,xn(t.collectedStyles,t.currentQuerySelector,new Map);let a=On(this,hd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:J.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:aa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(JU());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:hm(e.timings,t.errors,!0);return{type:J.Stagger,animation:On(this,hd(e.animation),t),timings:r,options:null}}};function NV(n){let e=!!n.split(/\s*,\s*/).find(t=>t==jD);return e&&(n=n.replace(RV,"")),n=n.replace(/@\*/g,dm).replace(/@\w+/g,t=>dm+"-"+t.slice(1)).replace(/:animating/g,w_),[n,e]}function OV(n){return n?y({},n):null}var S_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function xV(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function PV(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=hm(n,e).duration;return g_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=g_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=hm(t,e);return g_(i.duration,i.delay,i.easing)}function aa(n){return n?(n=y({},n),n.params&&(n.params=OV(n.params))):n={},n}function g_(n,e,t){return{duration:n,delay:e,easing:t}}function $_(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var md=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},kV=1,LV=":enter",FV=new RegExp(LV,"g"),UV=":leave",VV=new RegExp(UV,"g");function qD(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new A_().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var A_=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new md;let d=new D_(e,t,l,i,o,u,[]);d.options=c;let f=c.delay?ki(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,c),On(this,r,d);let p=d.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let v=p.length-1;v>=0;v--){let S=p[v];if(S.element===t){g=S;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,c)}return p.length?p.map(g=>g.buildKeyframes()):[$_(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ki(pd(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?ki(r.duration):null,a=r.delay!=null?ki(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),On(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==J.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mm);let s=ki(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>On(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ki(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),On(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?pd(r,t.params,t.errors):r;return hm(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==J.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ki(i.delay):0;o&&(t.previousNode.type===J.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mm);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),On(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;On(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},mm={},D_=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new gm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ki(r.duration)),r.delay!=null&&(i.delay=ki(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=pd(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=mm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new M_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(FV,"."+this._enterClassName),e=e.replace(VV,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(XU(t)),a}},gm=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=kV,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kr),this._currentKeyframe.set(t,Kr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=HV(e,this._globalTimelineStyles);for(let[a,c]of s){let l=pd(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Kr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===om?e.add(d):u===Kr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return $_(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},M_=class extends gm{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",DD(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),p=f.get("offset"),g=t+p*r;f.set("offset",DD(g/s)),o.push(f)}r=s,t=0,i="",e=o}return $_(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function DD(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function HV(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Kr)}else for(let[o,s]of i)t.set(o,s)}),t}function MD(n,e,t,r,i,o,s,a,c,l,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}var y_={},ym=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return BV(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],f=this.ast.options&&this.ast.options.params||y_,p=a&&a.params||y_,g=this.buildStyles(r,p,d),v=c&&c.params||y_,S=this.buildStyles(i,v,d),L=new Set,G=new Map,q=new Map,pe=i==="void",$e={params:zD(v,f),delay:this.ast.options?.delay},ke=u?[]:qD(e,t,this.ast.animation,o,s,g,S,$e,l,d),Ge=0;return ke.forEach(bt=>{Ge=Math.max(bt.duration+bt.delay,Ge)}),d.length?MD(t,this._triggerName,r,i,pe,g,S,[],[],G,q,Ge,d):(ke.forEach(bt=>{let Xr=bt.element,fa=xn(G,Xr,new Set);bt.preStyleProps.forEach(Bo=>fa.add(Bo));let lw=xn(q,Xr,new Set);bt.postStyleProps.forEach(Bo=>lw.add(Bo)),Xr!==t&&L.add(Xr)}),MD(t,this._triggerName,r,i,pe,g,S,ke,[...L.values()],G,q,Ge))}};function BV(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function zD(n,e){let t=y({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var R_=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=zD(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=pd(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function jV(n,e,t){return new N_(n,e,t)}var N_=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new R_(i.style,o,r))}),RD(this.states,"true","1"),RD(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ym(e,i,this.states))}),this.fallbackTransition=$V(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function $V(n,e,t){let r=[(s,a)=>!0],i={type:J.Sequence,steps:[],options:null},o={type:J.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ym(n,o,e)}function RD(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var qV=new md,O_=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=$D(this._driver,t,r,i);if(r.length)throw iV(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=LD(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=qD(this._driver,t,o,HD,__,new Map,new Map,r,qV,i),s.forEach(u=>{let d=xn(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(oV()),s=[]),i.length)throw sV(i);a.forEach((u,d)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(d,p,Kr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Fo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw aV(e);return t}listen(e,t,r,i){let o=U_(t,"","","");return F_(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},ND="ng-animate-queued",zV=".ng-animate-queued",v_="ng-animate-disabled",GV=".ng-animate-disabled",WV="ng-star-inserted",KV=".ng-star-inserted",QV=[],GD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yr="__ng_removed",gd=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=JV(i),r){let o=e,{value:s}=o,a=nr(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},fd="void",C_=new gd(fd),x_=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw cV(r,t);if(r==null||r.length==0)throw lV(t);if(!XV(r))throw uV(r,t);let o=xn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(t)||(Qn(e,sm),Qn(e,sm+"-"+t),a.set(t,C_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw dV(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new yd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Qn(e,sm),Qn(e,sm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new gd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=C_),!(l.value===fd)&&c.value===l.value){if(!nH(c.params,l.params)){let v=[],S=o.matchStyles(c.value,c.params,v),L=o.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{ca(e,S),Yr(e,L)})}return}let f=xn(this._engine.playersByElement,e,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let p=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!p){if(!i)return;p=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(Qn(e,ND),s.onStart(()=>{Xc(e,ND)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);let S=this._engine.playersByElement.get(e);if(S){let L=S.indexOf(s);L>=0&&S.splice(L,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,dm,!0);r.forEach(i=>{if(i[yr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,fd,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Fo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||C_,u=new gd(fd),d=new yd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[yr];(!o||o===GD)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=U_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,F_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},P_=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new x_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(lm(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!lm(t))return;let o=t[yr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qn(e,v_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xc(e,v_))}removeNode(e,t,r){if(lm(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[yr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return lm(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,dm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,w_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[yr];if(t&&t.setForRemoval){if(e[yr]=GD,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(v_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,GV,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Qn(i,WV)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw hV(e)}_flushAnimations(e,t){let r=new md,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let W=this.driver.query(V,zV,!0);for(let Q=0;Q<W.length;Q++)u.add(W[Q])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=PD(f,this.collectedEnterElements),g=new Map,v=0;p.forEach((V,W)=>{let Q=HD+v++;g.set(W,Q),V.forEach(Re=>Qn(Re,Q))});let S=[],L=new Set,G=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let W=this.collectedLeaveElements[V],Q=W[yr];Q&&Q.setForRemoval&&(S.push(W),L.add(W),Q.hasAnimation?this.driver.query(W,KV,!0).forEach(Re=>L.add(Re)):G.add(W))}let q=new Map,pe=PD(f,Array.from(L));pe.forEach((V,W)=>{let Q=__+v++;q.set(W,Q),V.forEach(Re=>Qn(Re,Q))}),e.push(()=>{p.forEach((V,W)=>{let Q=g.get(W);V.forEach(Re=>Xc(Re,Q))}),pe.forEach((V,W)=>{let Q=q.get(W);V.forEach(Re=>Xc(Re,Q))}),S.forEach(V=>{this.processLeaveNode(V)})});let $e=[],ke=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach(Q=>{let Re=Q.player,St=Q.element;if($e.push(Re),this.collectedEnterElements.length){let Ft=St[yr];if(Ft&&Ft.setForMove){if(Ft.previousTriggersValues&&Ft.previousTriggersValues.has(Q.triggerName)){let jo=Ft.previousTriggersValues.get(Q.triggerName),kn=this.statesByElement.get(Q.element);if(kn&&kn.has(Q.triggerName)){let Od=kn.get(Q.triggerName);Od.value=jo,kn.set(Q.triggerName,Od)}}Re.destroy();return}}let Cr=!d||!this.driver.containsElement(d,St),_n=q.get(St),Bi=g.get(St),Xe=this._buildInstruction(Q,r,Bi,_n,Cr);if(Xe.errors&&Xe.errors.length){ke.push(Xe);return}if(Cr){Re.onStart(()=>ca(St,Xe.fromStyles)),Re.onDestroy(()=>Yr(St,Xe.toStyles)),i.push(Re);return}if(Q.isFallbackTransition){Re.onStart(()=>ca(St,Xe.fromStyles)),Re.onDestroy(()=>Yr(St,Xe.toStyles)),i.push(Re);return}let hw=[];Xe.timelines.forEach(Ft=>{Ft.stretchStartingKeyframe=!0,this.disabledNodes.has(Ft.element)||hw.push(Ft)}),Xe.timelines=hw,r.append(St,Xe.timelines);let TR={instruction:Xe,player:Re,element:St};s.push(TR),Xe.queriedElements.forEach(Ft=>xn(a,Ft,[]).push(Re)),Xe.preStyleProps.forEach((Ft,jo)=>{if(Ft.size){let kn=c.get(jo);kn||c.set(jo,kn=new Set),Ft.forEach((Od,ng)=>kn.add(ng))}}),Xe.postStyleProps.forEach((Ft,jo)=>{let kn=l.get(jo);kn||l.set(jo,kn=new Set),Ft.forEach((Od,ng)=>kn.add(ng))})});if(ke.length){let V=[];ke.forEach(W=>{V.push(fV(W.triggerName,W.errors))}),$e.forEach(W=>W.destroy()),this.reportError(V)}let Ge=new Map,bt=new Map;s.forEach(V=>{let W=V.element;r.has(W)&&(bt.set(W,W),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Ge))}),i.forEach(V=>{let W=V.element;this._getPreviousPlayers(W,!1,V.namespaceId,V.triggerName,null).forEach(Re=>{xn(Ge,W,[]).push(Re),Re.destroy()})});let Xr=S.filter(V=>kD(V,c,l)),fa=new Map;xD(fa,this.driver,G,l,Kr).forEach(V=>{kD(V,c,l)&&Xr.push(V)});let Bo=new Map;p.forEach((V,W)=>{xD(Bo,this.driver,new Set(V),c,om)}),Xr.forEach(V=>{let W=fa.get(V),Q=Bo.get(V);fa.set(V,new Map([...W?.entries()??[],...Q?.entries()??[]]))});let tg=[],uw=[],dw={};s.forEach(V=>{let{element:W,player:Q,instruction:Re}=V;if(r.has(W)){if(u.has(W)){Q.onDestroy(()=>Yr(W,Re.toStyles)),Q.disabled=!0,Q.overrideTotalTime(Re.totalTime),i.push(Q);return}let St=dw;if(bt.size>1){let _n=W,Bi=[];for(;_n=_n.parentNode;){let Xe=bt.get(_n);if(Xe){St=Xe;break}Bi.push(_n)}Bi.forEach(Xe=>bt.set(Xe,St))}let Cr=this._buildAnimation(Q.namespaceId,Re,Ge,o,Bo,fa);if(Q.setRealPlayer(Cr),St===dw)tg.push(Q);else{let _n=this.playersByElement.get(St);_n&&_n.length&&(Q.parentPlayer=Fo(_n)),i.push(Q)}}else ca(W,Re.fromStyles),Q.onDestroy(()=>Yr(W,Re.toStyles)),uw.push(Q),u.has(W)&&i.push(Q)}),uw.forEach(V=>{let W=o.get(V.element);if(W&&W.length){let Q=Fo(W);V.setRealPlayer(Q)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<S.length;V++){let W=S[V],Q=W[yr];if(Xc(W,__),Q&&Q.hasAnimation)continue;let Re=[];if(a.size){let Cr=a.get(W);Cr&&Cr.length&&Re.push(...Cr);let _n=this.driver.query(W,w_,!0);for(let Bi=0;Bi<_n.length;Bi++){let Xe=a.get(_n[Bi]);Xe&&Xe.length&&Re.push(...Xe)}}let St=Re.filter(Cr=>!Cr.destroyed);St.length?eH(this,W,St):this.processLeaveNode(W)}return S.length=0,tg.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let W=this.players.indexOf(V);this.players.splice(W,1)}),V.play()}),tg}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==fd;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=xn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(p=>{let g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),d.push(p)})}ca(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,f=t.timelines.map(g=>{let v=g.element;u.add(v);let S=v[yr];if(S&&S.removedBeforeQueried)return new Lo(g.duration,g.delay);let L=v!==c,G=tH((r.get(v)||QV).map(Ge=>Ge.getRealPlayer())).filter(Ge=>{let bt=Ge;return bt.element?bt.element===v:!1}),q=o.get(v),pe=s.get(v),$e=LD(this._normalizer,g.keyframes,q,pe),ke=this._buildPlayer(g,$e,G);if(g.subTimeline&&i&&d.add(v),L){let Ge=new yd(e,a,v);Ge.setRealPlayer(ke),l.push(Ge)}return ke});l.forEach(g=>{xn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>ZV(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Qn(g,bD));let p=Fo(f);return p.onDestroy(()=>{u.forEach(g=>Xc(g,bD)),Yr(c,t.toStyles)}),d.forEach(g=>{xn(i,g,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lo(e.duration,e.delay)}},yd=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>F_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function ZV(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function JV(n){return n??null}function lm(n){return n&&n.nodeType===1}function XV(n){return n=="start"||n=="done"}function OD(n,e){let t=n.style.display;return n.style.display=e??"none",t}function xD(n,e,t,r,i){let o=[];t.forEach(c=>o.push(OD(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let f=e.computeStyle(l,d,i);u.set(d,f),(!f||f.length==0)&&(l[yr]=YV,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>OD(c,o[a++])),s}function PD(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Qn(n,e){n.classList?.add(e)}function Xc(n,e){n.classList?.remove(e)}function eH(n,e,t){Fo(t).onDone(()=>n.processLeaveNode(e))}function tH(n){let e=[];return WD(n,e),e}function WD(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof ud?WD(r.players,e):e.push(r)}}function nH(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function kD(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var el=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new P_(e.body,t,r),this._timelineEngine=new O_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=$D(this._driver,o,c,l);if(c.length)throw nV(i,c);l.length&&void 0,a=jV(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=ID(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=ID(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function rH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=E_(e[0]),e.length>1&&(r=E_(e[e.length-1]))):e instanceof Map&&(t=E_(e)),t||r?new k_(n,t,r):null}var k_=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yr(this._element,this._initialStyles),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ca(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ca(this._element,this._endStyles),this._endStyles=null),Yr(this._element,this._initialStyles),this._state=3)}};function E_(n){let e=null;return n.forEach((t,r)=>{iH(r)&&(e=e||new Map,e.set(r,t))}),e}function iH(n){return n==="display"||n==="position"}var vm=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:j_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Cm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return FD(e,t)}getParentElement(e){return V_(e)}query(e,t,r){return UD(e,t,r)}computeStyle(e,t,r){return j_(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(p=>p instanceof vm);TV(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((g,v)=>l.set(v,g))});let d=_V(t).map(p=>new Map(p));d=bV(e,d,l);let f=rH(e,d);return new vm(e,d,c,f)}};var um="@",KD="@.disabled",Em=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==um&&t==KD?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},L_=class extends Em{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==um?t.charAt(1)=="."&&t==KD?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==um){let i=oH(e),o=t.slice(1),s="";return o.charAt(0)!=um&&([o,s]=sH(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function oH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function sH(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var _m=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Em(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new L_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cH=(()=>{class n extends el{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(k(Fe),k(la),k(ua))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();function lH(){return new fm}function uH(n,e,t){return new _m(n,e,t)}var QD=[{provide:ua,useFactory:lH},{provide:el,useClass:cH},{provide:Mr,useFactory:uH,deps:[Mf,el,He]}],dH=[{provide:la,useFactory:()=>new Cm},{provide:yv,useValue:"BrowserAnimations"},...QD],ine=[{provide:la,useClass:H_},{provide:yv,useValue:"NoopAnimations"},...QD];function YD(){return to("NgEagerAnimations"),[...dH]}var Yn={Production:!1,DebugMode:!0,ActiveDirectory:{auth:{clientId:"be9b24f1-745d-4d15-97b3-3ae615529471",authority:"https://login.microsoftonline.com/20352d16-9134-4df5-a4c0-440ddb0b8585",redirectUri:"http://localhost:4200"},defaultScopes:["user.read"],forceRefresh:!0,refreshTokenExpirationOffsetSeconds:3e3},AppProps:{navType:"white",logoFile:"logo-coppel.svg",bannerFile:"banner.jpg",useLoginScreen:!0,hideSidebarHeader:!0}};var Zn=class n{constructor(e,t){this.rendererFactory=e;this.platformId=t;this.renderer=this.rendererFactory.createRenderer(null,null),this.initializeTheme()}renderer;currentTheme=ge(null);isDarkTheme=ge(!1);darkThemeUrl="assets/css/dark-theme.css";defaultThemeUrl="assets/css/default-theme.css";initializeTheme(){Wa(this.platformId)&&(this.isDarkTheme.set(localStorage.getItem("theme")==="dark"),this.setTheme(this.isDarkTheme()?this.darkThemeUrl:this.defaultThemeUrl))}toggleTheme(){let e=this.isDarkTheme();this.isDarkTheme.set(!e),localStorage.setItem("theme",e?"light":"dark"),this.setTheme(e?this.defaultThemeUrl:this.darkThemeUrl)}setTheme(e){this.currentTheme()&&this.renderer.removeChild(document.head,this.currentTheme());let t=this.renderer.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.renderer.appendChild(document.head,t),this.currentTheme.set(t)}static \u0275fac=function(t){return new(t||n)(k(Mr),k(un))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bt=function(n){return n.GET="GET",n.PATCH="PATCH",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",n}(Bt||{});var ZD="v1.0",JD="https://graph.microsoft.com/",XD=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);var En=class n extends Error{static setGraphClientError(e){let t;return e instanceof Error?t=e:(t=new n,t.customError=e),t}constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}};var eM=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],tM=n=>{let e=o=>o.replace(/\/+$/,""),t=o=>o.replace(/^\/+/,""),r=(o,s)=>[e(o),t(s)].join("/");return Array.prototype.slice.call(n).reduce(r)},wm=n=>{let e=n&&n.constructor&&n.constructor.name;if(e==="Buffer"||e==="Blob"||e==="File"||e==="FormData"||typeof n=="string")return n;if(e==="ArrayBuffer")n=Buffer.from(n);else if(e==="Int8Array"||e==="Int16Array"||e==="Int32Array"||e==="Uint8Array"||e==="Uint16Array"||e==="Uint32Array"||e==="Uint8ClampedArray"||e==="Float32Array"||e==="Float64Array"||e==="DataView")n=Buffer.from(n.buffer);else try{n=JSON.stringify(n)}catch{throw new Error("Unable to stringify the content")}return n},Im=n=>nM(n),Tm=(n,e)=>(e.forEach(t=>hH(t)),nM(n,e)),nM=(n,e=XD)=>{if(n=n.toLowerCase(),n.indexOf("https://")!==-1){n=n.replace("https://","");let t=n.indexOf(":"),r=n.indexOf("/"),i="";if(r!==-1)return t!==-1&&t<r?(i=n.substring(0,t),e.has(i)):(i=n.substring(0,r),e.has(i))}return!1},hH=n=>{if(n.indexOf("/")!==-1)throw new En("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};var jt=class{constructor(e=[]){this.middlewareOptions=new Map;for(let t of e){let r=t.constructor;this.middlewareOptions.set(r,t)}}getMiddlewareOptions(e){return this.middlewareOptions.get(e)}setMiddlewareOptions(e,t){this.middlewareOptions.set(e,t)}};var q_=()=>{let n="";for(let e=0;e<32;e++)(e===8||e===12||e===16||e===20)&&(n+="-"),n+=Math.floor(Math.random()*16).toString(16);return n},bm=(n,e,t)=>{let r=null;if(typeof Request<"u"&&n instanceof Request)r=n.headers.get(t);else if(typeof e<"u"&&e.headers!==void 0)if(typeof Headers<"u"&&e.headers instanceof Headers)r=e.headers.get(t);else if(e.headers instanceof Array){let i=e.headers;for(let o=0,s=i.length;o<s;o++)if(i[o][0]===t){r=i[o][1];break}}else e.headers[t]!==void 0&&(r=e.headers[t]);return r},Sm=(n,e,t,r)=>{if(typeof Request<"u"&&n instanceof Request)n.headers.set(t,r);else if(typeof e<"u")if(e.headers===void 0)e.headers=new Headers({[t]:r});else if(typeof Headers<"u"&&e.headers instanceof Headers)e.headers.set(t,r);else if(e.headers instanceof Array){let i=0,o=e.headers.length;for(;i<o;i++){let s=e.headers[i];if(s[0]===t){s[1]=r;break}}i===o&&e.headers.push([t,r])}else Object.assign(e.headers,{[t]:r})},Am=(n,e,t,r)=>{typeof Request<"u"&&n instanceof Request?n.headers.append(t,r):typeof e<"u"&&(e.headers===void 0?e.headers=new Headers({[t]:r}):typeof Headers<"u"&&e.headers instanceof Headers?e.headers.append(t,r):e.headers instanceof Array?e.headers.push([t,r]):e.headers===void 0?e.headers={[t]:r}:e.headers[t]===void 0?e.headers[t]=r:e.headers[t]+=`, ${r}`)},rM=(n,e)=>fe(void 0,void 0,void 0,function*(){let t=e.headers.get("Content-Type")?yield e.blob():yield Promise.resolve(void 0),{method:r,headers:i,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:u,integrity:d,keepalive:f,signal:p}=e;return new Request(n,{method:r,headers:i,body:t,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:u,integrity:d,keepalive:f,signal:p})});var Cd=class{constructor(e,t){this.authenticationProvider=e,this.authenticationProviderOptions=t}};var Li=function(n){return n[n.NONE=0]="NONE",n[n.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",n[n.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",n[n.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED",n}(Li||{}),vr=class n{constructor(){this.featureUsage=Li.NONE}static updateFeatureUsageFlag(e,t){let r;e.middlewareControl instanceof jt?r=e.middlewareControl.getMiddlewareOptions(n):e.middlewareControl=new jt,typeof r>"u"&&(r=new n,e.middlewareControl.setMiddlewareOptions(n,r)),r.setFeatureUsage(t)}setFeatureUsage(e){this.featureUsage=this.featureUsage|e}getFeatureUsage(){return this.featureUsage.toString(16)}};var Dm=(()=>{class n{constructor(t){this.authenticationProvider=t}execute(t){return fe(this,void 0,void 0,function*(){let r=typeof t.request=="string"?t.request:t.request.url;if(Im(r)||t.customHosts&&Tm(r,t.customHosts)){let i;t.middlewareControl instanceof jt&&(i=t.middlewareControl.getMiddlewareOptions(Cd));let o,s;i&&(o=i.authenticationProvider,s=i.authenticationProviderOptions),o||(o=this.authenticationProvider);let c=`Bearer ${yield o.getAccessToken(s)}`;Am(t.request,t.options,n.AUTHORIZATION_HEADER,c),vr.updateFeatureUsageFlag(t,Li.AUTHENTICATION_HANDLER_ENABLED)}else t.options.headers&&delete t.options.headers[n.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}return n.AUTHORIZATION_HEADER="Authorization",n})();var tl=class{execute(e){return fe(this,void 0,void 0,function*(){e.response=yield fetch(e.request,e.options)})}};var da=(()=>{class n{constructor(t=n.DEFAULT_DELAY,r=n.DEFAULT_MAX_RETRIES,i=n.defaultShouldRetry){if(t>n.MAX_DELAY&&r>n.MAX_MAX_RETRIES){let o=new Error(`Delay and MaxRetries should not be more than ${n.MAX_DELAY} and ${n.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}else if(t>n.MAX_DELAY){let o=new Error(`Delay should not be more than ${n.MAX_DELAY}`);throw o.name="MaxLimitExceeded",o}else if(r>n.MAX_MAX_RETRIES){let o=new Error(`MaxRetries should not be more than ${n.MAX_MAX_RETRIES}`);throw o.name="MaxLimitExceeded",o}else if(t<0&&r<0){let o=new Error("Delay and MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}else if(t<0){let o=new Error("Delay should not be negative");throw o.name="MinExpectationNotMet",o}else if(r<0){let o=new Error("MaxRetries should not be negative");throw o.name="MinExpectationNotMet",o}this.delay=Math.min(t,n.MAX_DELAY),this.maxRetries=Math.min(r,n.MAX_MAX_RETRIES),this.shouldRetry=i}getMaxDelay(){return n.MAX_DELAY}}return n.DEFAULT_DELAY=3,n.DEFAULT_MAX_RETRIES=3,n.MAX_DELAY=180,n.MAX_MAX_RETRIES=10,n.defaultShouldRetry=()=>!0,n})();var Mm=(()=>{class n{constructor(t=new da){this.options=t}isRetry(t){return n.RETRY_STATUS_CODES.indexOf(t.status)!==-1}isBuffered(t,r){let i=typeof t=="string"?r.method:t.method;return!((i===Bt.PUT||i===Bt.PATCH||i===Bt.POST)&&bm(t,r,"Content-Type")==="application/octet-stream")}getDelay(t,r,i){let o=()=>Number(Math.random().toFixed(3)),s=t.headers!==void 0?t.headers.get(n.RETRY_AFTER_HEADER):null,a;return s!==null?Number.isNaN(Number(s))?a=Math.round((new Date(s).getTime()-Date.now())/1e3):a=Number(s):a=r>=2?this.getExponentialBackOffTime(r)+i+o():i+o(),Math.min(a,this.options.getMaxDelay()+o())}getExponentialBackOffTime(t){return Math.round(1/2*(Math.pow(2,t)-1))}sleep(t){return fe(this,void 0,void 0,function*(){let r=t*1e3;return new Promise(i=>setTimeout(i,r))})}getOptions(t){let r;return t.middlewareControl instanceof jt&&(r=t.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof r>"u"&&(r=Object.assign(new da,this.options)),r}executeWithRetry(t,r,i){return fe(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(t),r<i.maxRetries&&this.isRetry(t.response)&&this.isBuffered(t.request,t.options)&&i.shouldRetry(i.delay,r,t.request,t.options,t.response)){++r,Sm(t.request,t.options,n.RETRY_ATTEMPT_HEADER,r.toString());let o=this.getDelay(t.response,r,i.delay);return yield this.sleep(o),yield this.executeWithRetry(t,r,i)}else return})}execute(t){return fe(this,void 0,void 0,function*(){let i=this.getOptions(t);return vr.updateFeatureUsageFlag(t,Li.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(t,0,i)})}setNext(t){this.nextMiddleware=t}}return n.RETRY_STATUS_CODES=[429,503,504],n.RETRY_ATTEMPT_HEADER="Retry-Attempt",n.RETRY_AFTER_HEADER="Retry-After",n})();var Uo=(()=>{class n{constructor(t=n.DEFAULT_MAX_REDIRECTS,r=n.defaultShouldRedirect){if(t>n.MAX_MAX_REDIRECTS){let i=new Error(`MaxRedirects should not be more than ${n.MAX_MAX_REDIRECTS}`);throw i.name="MaxLimitExceeded",i}if(t<0){let i=new Error("MaxRedirects should not be negative");throw i.name="MinExpectationNotMet",i}this.maxRedirects=t,this.shouldRedirect=r}}return n.DEFAULT_MAX_REDIRECTS=5,n.MAX_MAX_REDIRECTS=20,n.defaultShouldRedirect=()=>!0,n})();var Rm=(()=>{class n{constructor(t=new Uo){this.options=t}isRedirect(t){return n.REDIRECT_STATUS_CODES.indexOf(t.status)!==-1}hasLocationHeader(t){return t.headers.has(n.LOCATION_HEADER)}getLocationHeader(t){return t.headers.get(n.LOCATION_HEADER)}isRelativeURL(t){return t.indexOf("://")===-1}shouldDropAuthorizationHeader(t,r){let i=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=i.exec(t),s,a;o!==null&&(s=o[0]);let c=i.exec(r);return c!==null&&(a=c[0]),typeof s<"u"&&typeof a<"u"&&s!==a}updateRequestUrl(t,r){return fe(this,void 0,void 0,function*(){r.request=typeof r.request=="string"?t:yield rM(t,r.request)})}getOptions(t){let r;return t.middlewareControl instanceof jt&&(r=t.middlewareControl.getMiddlewareOptions(Uo)),typeof r>"u"&&(r=Object.assign(new Uo,this.options)),r}executeWithRedirect(t,r,i){return fe(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(t);let o=t.response;if(r<i.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&i.shouldRedirect(o)){if(++r,o.status===n.STATUS_CODE_SEE_OTHER)t.options.method=Bt.GET,delete t.options.body;else{let s=this.getLocationHeader(o);!this.isRelativeURL(s)&&this.shouldDropAuthorizationHeader(o.url,s)&&delete t.options.headers[n.AUTHORIZATION_HEADER],yield this.updateRequestUrl(s,t)}yield this.executeWithRedirect(t,r,i)}else return})}execute(t){return fe(this,void 0,void 0,function*(){let i=this.getOptions(t);return t.options.redirect=n.MANUAL_REDIRECT,vr.updateFeatureUsageFlag(t,Li.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(t,0,i)})}setNext(t){this.nextMiddleware=t}}return n.REDIRECT_STATUS_CODES=[301,302,303,307,308],n.STATUS_CODE_SEE_OTHER=303,n.LOCATION_HEADER="Location",n.AUTHORIZATION_HEADER="Authorization",n.MANUAL_REDIRECT="manual",n})();var iM="3.0.7";var Nm=(()=>{class n{execute(t){return fe(this,void 0,void 0,function*(){let r=typeof t.request=="string"?t.request:t.request.url;if(Im(r)||t.customHosts&&Tm(r,t.customHosts)){let i=bm(t.request,t.options,n.CLIENT_REQUEST_ID_HEADER);i||(i=q_(),Sm(t.request,t.options,n.CLIENT_REQUEST_ID_HEADER,i));let o=`${n.PRODUCT_NAME}/${iM}`,s;if(t.middlewareControl instanceof jt&&(s=t.middlewareControl.getMiddlewareOptions(vr)),s){let a=s.getFeatureUsage();o+=` (${n.FEATURE_USAGE_STRING}=${a})`}Am(t.request,t.options,n.SDK_VERSION_HEADER,o)}else delete t.options.headers[n.CLIENT_REQUEST_ID_HEADER],delete t.options.headers[n.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}return n.CLIENT_REQUEST_ID_HEADER="client-request-id",n.SDK_VERSION_HEADER="SdkVersion",n.PRODUCT_NAME="graph-js",n.FEATURE_USAGE_STRING="featureUsage",n})();var Pn=function(n){return n.ARRAYBUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.RAW="raw",n.STREAM="stream",n.TEXT="text",n}(Pn||{});var sM=function(n){return n.TEXT_HTML="text/html",n.TEXT_XML="text/xml",n.APPLICATION_XML="application/xml",n.APPLICATION_XHTML="application/xhtml+xml",n}(sM||{}),z_=function(n){return n.TEXT_PLAIN="text/plain",n.APPLICATION_JSON="application/json",n}(z_||{}),G_=function(n){return n.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",n.IMAGE="^image\\/.+",n}(G_||{}),Ed=class n{static parseDocumentResponse(e,t){return typeof DOMParser<"u"?new Promise((r,i)=>{e.text().then(o=>{try{let a=new DOMParser().parseFromString(o,t);r(a)}catch(s){i(s)}})}):Promise.resolve(e.body)}static convertResponse(e,t){return fe(this,void 0,void 0,function*(){if(e.status===204)return Promise.resolve();let r,i=e.headers.get("Content-type");switch(t){case Pn.ARRAYBUFFER:r=yield e.arrayBuffer();break;case Pn.BLOB:r=yield e.blob();break;case Pn.DOCUMENT:r=yield n.parseDocumentResponse(e,sM.TEXT_XML);break;case Pn.JSON:r=yield e.json();break;case Pn.STREAM:r=yield Promise.resolve(e.body);break;case Pn.TEXT:r=yield e.text();break;default:if(i!==null){let o=i.split(";")[0];new RegExp(G_.DOCUMENT).test(o)?r=yield n.parseDocumentResponse(e,o):new RegExp(G_.IMAGE).test(o)?r=e.blob():o===z_.TEXT_PLAIN?r=yield e.text():o===z_.APPLICATION_JSON?r=yield e.json():r=Promise.resolve(e.body)}else r=Promise.resolve(e.body);break}return r})}static getResponse(e,t,r){return fe(this,void 0,void 0,function*(){if(t===Pn.RAW)return Promise.resolve(e);{let i=yield n.convertResponse(e,t);if(e.ok)if(typeof r=="function")r(null,i);else return i;else throw i}})}};var _d=class{constructor(e){this.provider=e}getAccessToken(){return fe(this,void 0,void 0,function*(){return new Promise((e,t)=>{this.provider((r,i)=>fe(this,void 0,void 0,function*(){if(i)e(i);else{if(!r){let s="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md";r=new En(s)}let o=yield En.setGraphClientError(r);t(o)}}))})})}};var Fi=class n extends Error{constructor(e=-1,t,r){super(t||r&&r.message),Object.setPrototypeOf(this,n.prototype),this.statusCode=e,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}};var Om=class n{static constructError(e,t,r){let i=new Fi(t,"",e);return e.name!==void 0&&(i.code=e.name),i.body=e.toString(),i.date=new Date,i.headers=r?.headers,i}static constructErrorFromResponse(e,t,r){let i=e.error,o=new Fi(t,i.message);return o.code=i.code,i.innerError!==void 0&&(o.requestId=i.innerError["request-id"],o.date=new Date(i.innerError.date)),o.body=JSON.stringify(i),o.headers=r?.headers,o}static getError(e=null,t=-1,r,i){return fe(this,void 0,void 0,function*(){let o;if(e&&e.error?o=n.constructErrorFromResponse(e,t,i):e instanceof Error?o=n.constructError(e,t,i):(o=new Fi(t),o.body=e),typeof r=="function")r(o,null);else return o})}};var wd=class{constructor(e,t,r){this.parsePath=i=>{if(i.indexOf("https://")!==-1){i=i.replace("https://","");let s=i.indexOf("/");s!==-1&&(this.urlComponents.host="https://"+i.substring(0,s),i=i.substring(s+1,i.length));let a=i.indexOf("/");a!==-1&&(this.urlComponents.version=i.substring(0,a),i=i.substring(a+1,i.length))}i.charAt(0)==="/"&&(i=i.substr(1));let o=i.indexOf("?");if(o===-1)this.urlComponents.path=i;else{this.urlComponents.path=i.substr(0,o);let s=i.substring(o+1,i.length).split("&");for(let a of s)this.parseQueryParameter(a)}},this.httpClient=e,this.config=t,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(e,t,r){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";let i=[];r.length>1&&typeof t=="string"?i=Array.prototype.slice.call(r):typeof t=="string"?i.push(t):i=i.concat(t),this.urlComponents.oDataQueryParams[e]+=i.join(",")}buildFullUrl(){let e=tM([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e}createQueryString(){let e=this.urlComponents,t=[];if(Object.keys(e.oDataQueryParams).length!==0)for(let r in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,r)&&t.push(r+"="+e.oDataQueryParams[r]);if(Object.keys(e.otherURLQueryParams).length!==0)for(let r in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,r)&&t.push(r+"="+e.otherURLQueryParams[r]);if(e.otherURLQueryOptions.length!==0)for(let r of e.otherURLQueryOptions)t.push(r);return t.length>0?"?"+t.join("&"):""}parseQueryParameter(e){if(typeof e=="string")if(e.charAt(0)==="?"&&(e=e.substring(1)),e.indexOf("&")!==-1){let t=e.split("&");for(let r of t)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setURLComponentsQueryParamater(t,e[t]);return this}parseQueryParamenterString(e){if(this.isValidQueryKeyValuePair(e)){let t=e.indexOf("="),r=e.substring(0,t),i=e.substring(t+1);this.setURLComponentsQueryParamater(r,i)}else this.urlComponents.otherURLQueryOptions.push(e)}setURLComponentsQueryParamater(e,t){if(eM.indexOf(e)!==-1){let r=this.urlComponents.oDataQueryParams[e],i=r&&(e==="$expand"||e==="$select"||e==="$orderby");this.urlComponents.oDataQueryParams[e]=i?r+","+t:t}else this.urlComponents.otherURLQueryParams[e]=t}isValidQueryKeyValuePair(e){let t=e.indexOf("=");return!(t===-1||e.indexOf("(")!==-1&&e.indexOf("(")<t)}updateRequestOptions(e){let t=Object.assign({},e.headers);if(this.config.fetchOptions!==void 0){let r=Object.assign({},this.config.fetchOptions);Object.assign(e,r),typeof this.config.fetchOptions.headers!==void 0&&(e.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),e.headers!==void 0&&Object.assign(t,e.headers),Object.assign(t,this._headers),e.headers=t}send(e,t,r){var i;return fe(this,void 0,void 0,function*(){let o,s=new jt(this._middlewareOptions);this.updateRequestOptions(t);let a=(i=this.config)===null||i===void 0?void 0:i.customHosts;try{return o=(yield this.httpClient.sendRequest({request:e,options:t,middlewareControl:s,customHosts:a})).response,yield Ed.getResponse(o,this._responseType,r)}catch(c){if(c instanceof En)throw c;let l;throw o&&(l=o.status),yield Om.getError(c,l,r,o)}})}setHeaderContentType(){if(!this._headers){this.header("Content-Type","application/json");return}let e=Object.keys(this._headers);for(let t of e)if(t.toLowerCase()==="content-type")return;this.header("Content-Type","application/json")}header(e,t){return this._headers[e]=t,this}headers(e){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this._headers[t]=e[t]);return this}option(e,t){return this._options[e]=t,this}options(e){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this._options[t]=e[t]);return this}middlewareOptions(e){return this._middlewareOptions=e,this}version(e){return this.urlComponents.version=e,this}responseType(e){return this._responseType=e,this}select(e){return this.addCsvQueryParameter("$select",e,arguments),this}expand(e){return this.addCsvQueryParameter("$expand",e,arguments),this}orderby(e){return this.addCsvQueryParameter("$orderby",e,arguments),this}filter(e){return this.urlComponents.oDataQueryParams.$filter=e,this}search(e){return this.urlComponents.oDataQueryParams.$search=e,this}top(e){return this.urlComponents.oDataQueryParams.$top=e,this}skip(e){return this.urlComponents.oDataQueryParams.$skip=e,this}skipToken(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this}count(e=!0){return this.urlComponents.oDataQueryParams.$count=e.toString(),this}query(e){return this.parseQueryParameter(e)}get(e){return fe(this,void 0,void 0,function*(){let t=this.buildFullUrl(),r={method:Bt.GET};return yield this.send(t,r,e)})}post(e,t){return fe(this,void 0,void 0,function*(){let r=this.buildFullUrl(),i={method:Bt.POST,body:wm(e)};return(e&&e.constructor&&e.constructor.name)==="FormData"?i.headers={}:(this.setHeaderContentType(),i.headers=this._headers),yield this.send(r,i,t)})}create(e,t){return fe(this,void 0,void 0,function*(){return yield this.post(e,t)})}put(e,t){return fe(this,void 0,void 0,function*(){let r=this.buildFullUrl();this.setHeaderContentType();let i={method:Bt.PUT,body:wm(e)};return yield this.send(r,i,t)})}patch(e,t){return fe(this,void 0,void 0,function*(){let r=this.buildFullUrl();this.setHeaderContentType();let i={method:Bt.PATCH,body:wm(e)};return yield this.send(r,i,t)})}update(e,t){return fe(this,void 0,void 0,function*(){return yield this.patch(e,t)})}delete(e){return fe(this,void 0,void 0,function*(){let t=this.buildFullUrl(),r={method:Bt.DELETE};return yield this.send(t,r,e)})}del(e){return fe(this,void 0,void 0,function*(){return yield this.delete(e)})}getStream(e){return fe(this,void 0,void 0,function*(){let t=this.buildFullUrl(),r={method:Bt.GET};return this.responseType(Pn.STREAM),yield this.send(t,r,e)})}putStream(e,t){return fe(this,void 0,void 0,function*(){let r=this.buildFullUrl(),i={method:Bt.PUT,headers:{"Content-Type":"application/octet-stream"},body:e};return yield this.send(r,i,t)})}};var nl=class{constructor(...e){if(!e||!e.length){let t=new Error;throw t.name="InvalidMiddlewareChain",t.message="Please provide a default middleware chain or custom middleware chain",t}this.setMiddleware(...e)}setMiddleware(...e){e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]}parseMiddleWareArray(e){e.forEach((t,r)=>{r<e.length-1&&t.setNext(e[r+1])}),this.middleware=e[0]}sendRequest(e){return fe(this,void 0,void 0,function*(){if(typeof e.request=="string"&&e.options===void 0){let t=new Error;throw t.name="InvalidRequestOptions",t.message="Unable to execute the middleware, Please provide valid options for a request",t}return yield this.middleware.execute(e),e})}};var CH=()=>typeof process=="object"&&typeof rg=="function",xm=class n{static createWithAuthenticationProvider(e){let t=new Dm(e),r=new Mm(new da),i=new Nm,o=new tl;if(t.setNext(r),CH()){let s=new Rm(new Uo);r.setNext(s),s.setNext(i)}else r.setNext(i);return i.setNext(o),n.createWithMiddleware(t)}static createWithMiddleware(...e){return new nl(...e)}};var aM=()=>{if(typeof Promise>"u"&&typeof fetch>"u"){let n=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw n.name="PolyFillNotAvailable",n}else if(typeof Promise>"u"){let n=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}else if(typeof fetch>"u"){let n=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}return!0};var Id=class n{static init(e){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=r==="authProvider"?new _d(e[r]):e[r]);return n.initWithMiddleware(t)}static initWithMiddleware(e){return new n(e)}constructor(e){this.config={baseUrl:JD,debugLogging:!1,defaultVersion:ZD},aM();for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);let t;if(e.authProvider!==void 0&&e.middleware!==void 0){let r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}else if(e.authProvider!==void 0)t=xm.createWithAuthenticationProvider(e.authProvider);else if(e.middleware!==void 0)t=new nl(...[].concat(e.middleware));else{let r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}this.httpClient=t}api(e){return new wd(this.httpClient,this.config,e)}};var{ActiveDirectory:EH}=Yn,Pm=class n{constructor(e){this.msalService=e;this.msalService.initialize(),this.graphClient=Id.init({authProvider:t=>m(this,null,function*(){let r=this.msalService.instance.getActiveAccount();if(r)try{let i=yield this.msalService.instance.acquireTokenSilent({account:r,scopes:EH.defaultScopes});t(null,i.accessToken)}catch(i){t(i,null)}})})}graphClient;loadAditionalUserData(){return m(this,null,function*(){try{return yield this.graphClient.api("/me?$select=displayName,givenName,surname,employeeId,mail,jobTitle,department,companyName,email").get()}catch(e){if(e instanceof Fi)switch(e.statusCode){case 404:console.info("Usuario no encontrado.");break;case 403:console.warn("Debes solicitar el permiso necesario.");break;default:console.error("Error inesperado");break}throw e}})}static \u0275fac=function(t){return new(t||n)(k(Wr))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var{AppProps:wH}=Yn,Mt=class n{constructor(e,t,r,i,o){this.msalGuardConfig=e;this.msalService=t;this.themeService=r;this.graphService=i;this.msalBroadcastService=o;this.subscribeToMsalEvents(),this.initializeSession()}isLoadingUserData=ge(!1);_destroying$=new Ve;activeAccount=ge(null);accountData=ge(null);userProfilePicture=ge(void 0);navbarType=ge(wH.navType);isLoadingAD=ge(!0);isSidebarMenuVisible=ge(!1);ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}initializeSession(){this.checkAndSetActiveAccount()}subscribeToMsalEvents(){this.msalService.handleRedirectObservable().subscribe(),this.msalService.instance.enableAccountStorageEvents(),this.msalBroadcastService.msalSubject$.pipe().subscribe(e=>{}),this.msalBroadcastService.msalSubject$.pipe(ft(e=>e.eventType===P.LOGIN_SUCCESS)).subscribe(e=>{let t=e.payload.account;this.setActiveAccount(t),window.location.pathname="/"}),this.msalBroadcastService.msalSubject$.pipe(ft(e=>e.eventType===P.ACQUIRE_TOKEN_SUCCESS)).subscribe(e=>{let t=e.payload.account;this.setActiveAccount(t)}),this.msalService.instance.addEventCallback(e=>{e.eventType===P.LOGIN_START||e.eventType===P.ACQUIRE_TOKEN_START?this.isLoadingAD.set(!0):(e.eventType===P.LOGIN_SUCCESS||e.eventType===P.LOGIN_FAILURE||e.eventType===P.ACQUIRE_TOKEN_SUCCESS||e.eventType===P.ACQUIRE_TOKEN_FAILURE)&&this.isLoadingAD.set(!1)})}checkAndSetActiveAccount(){let e=this.msalService.instance.getActiveAccount(),t=this.msalService.instance.getAllAccounts();!e&&t.length>0?this.setActiveAccount(t[0]):this.activeAccount()?!e&&t.length===0&&this.isLoadingAD.set(!1):this.setActiveAccount(e)}setActiveAccount(e){e?(this.activeAccount.set(e),this.msalService.instance.setActiveAccount(e),this.loadAditionalUserData()):this.isLoadingAD.set(!1)}loadAditionalUserData(){return m(this,null,function*(){if(!this.isLoadingUserData())try{this.isLoadingUserData.set(!0),this.msalService.initialize(),this.accountData.set(yield this.graphService.loadAditionalUserData()),this.isLoadingUserData.set(!1),this.isLoadingAD.set(!1)}catch(e){console.error("Error",e)}})}toggleSidebarMenu(){this.isSidebarMenuVisible.set(!this.isSidebarMenuVisible())}getThemeClass(e){let t=this.themeService.isDarkTheme();if(e){let r=`${e} ${e}-${this.navbarType()}`;return t&&(r=`${e} ${e}-dark`),r}return t?"dark":this.navbarType()}loginRedirect(){this.msalGuardConfig.authRequest?this.msalService.loginRedirect(y({},this.msalGuardConfig.authRequest)):this.msalService.loginRedirect()}logout(){this.msalService.logoutRedirect()}static \u0275fac=function(t){return new(t||n)(k(Yc),k(Wr),k(Zn),k(Pm),k(ia))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var Td=class n{constructor(e){this.appService=e}static \u0275fac=function(t){return new(t||n)(M(Mt))};static \u0275cmp=j({type:n,selectors:[["app-protected"]],standalone:!0,features:[te],decls:12,vars:0,consts:[[1,"element-container","use-dark-mode"],[1,"text-center"],[1,"element-container"],["width","96px","height","96px","viewBox","0 0 128 128"],["fill","#006FB9","d","M52.864 64h23.28l-12.375-25.877zM63.81 1.026l-59.257 20.854 9.363 77.637 49.957 27.457 50.214-27.828 9.36-77.635-59.637-20.485zm-15.766 73.974l-7.265 18.176-13.581.056 36.608-81.079-.07-.153h-.064l.001-.133.063.133h.14100000000000001l.123-.274v.274h-.124l-.069.153 38.189 81.417-13.074-.287-8.042-18.58-17.173.082"]],template:function(t,r){t&1&&(I(0,"section",0)(1,"div",1)(2,"div",2),ln(),I(3,"svg",3),x(4,"path",4),T()(),UT(),I(5,"div",2)(6,"h1"),se(7,"Develop better. Faster."),T()(),I(8,"div",2)(9,"p")(10,"strong"),se(11,"Plantilla para desarrollo de aplicaciones web, powered by Angular"),T()()()()())},styles:[".element-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:10px;padding:20px}.justify-text-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;text-align:end}"]})};var rl=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,s,a;if(r&&i){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var c=this.isDate(e),l=this.isDate(t);if(c!=l)return!1;if(c&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if(s=f.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[o]))return!1;for(o=s;o--!==0;)if(a=f[o],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let r=t.split("."),i=e;for(let o=0,s=r.length;o<s;++o){if(i==null)return null;i=i[r[o]]}return i}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){let i;e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let o=!1;for(let s=0;s<r.length;s++)if(this.findIndexInList(r[s],i)>t){r.splice(s,0,e),o=!0;break}o||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}}return r}static contains(e,t){if(e!=null&&t&&t.length){for(let r of t)if(this.equals(e,r))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let o=-1,s=this.isEmpty(e),a=this.isEmpty(t);return s&&a?o=0:s?o=i:a?o=-i:typeof e=="string"&&typeof t=="string"?o=e.localeCompare(t,r,{numeric:!0}):o=e<t?-1:e>t?1:0,o}static sort(e,t,r=1,i,o=1){let s=n.compare(e,t,i,r),a=r;return(n.isEmpty(e)||n.isEmpty(t))&&(a=o===1?r:o),a*s}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return y(y({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,s,a;if(r&&i){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var c=e instanceof Date,l=t instanceof Date;if(c!=l)return!1;if(c&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if(s=f.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[o]))return!1;for(o=s;o--!==0;)if(a=f[o],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},cM=0;function Zr(n="pn_id_"){return cM++,`${n}${cM}`}function IH(){let n=[],e=(o,s)=>{let a=n.length>0?n[n.length-1]:{key:o,value:s},c=a.value+(a.key===o?0:s)+2;return n.push({key:o,value:c}),c},t=o=>{n=n.filter(s=>s.value!==o)},r=()=>n.length>0?n[n.length-1].value:0,i=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:i,set:(o,s,a)=>{s&&(s.style.zIndex=String(e(o,a)))},clear:o=>{o&&(t(i(o)),o.style.zIndex="")},getCurrent:()=>r()}}var Ui=IH();var $t=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var Jr=(()=>{class n{messageSource=new Ve;clearSource=new Ve;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var ha=(()=>{class n{ripple=!1;inputStyle=ge("outlined");overlayOptions={};csp=ge({nonce:void 0});filterMatchModeOptions={text:[$t.STARTS_WITH,$t.CONTAINS,$t.NOT_CONTAINS,$t.ENDS_WITH,$t.EQUALS,$t.NOT_EQUALS],numeric:[$t.EQUALS,$t.NOT_EQUALS,$t.LESS_THAN,$t.LESS_THAN_OR_EQUAL_TO,$t.GREATER_THAN,$t.GREATER_THAN_OR_EQUAL_TO],date:[$t.DATE_IS,$t.DATE_IS_NOT,$t.DATE_BEFORE,$t.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ve;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=y(y({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vi=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(M(ii))};static \u0275dir=nt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),Hi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({})}return n})();var TH=["*"],Xn=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=rl.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",be],styleClass:"styleClass"},standalone:!0,features:[Nt,te],ngContentSelectors:TH,decls:1,vars:0,template:function(r,i){r&1&&(Bn(),jn(0))},encapsulation:2,changeDetection:0})}return n})();var W_=(()=>{class n extends Xn{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Dt,te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0),x(1,"path",1),T()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var K_=(()=>{class n extends Xn{pathId;ngOnInit(){this.pathId="url(#"+Zr()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[Dt,te],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0)(1,"g"),x(2,"path",1)(3,"path",2)(4,"path",3),T(),I(5,"defs")(6,"clipPath",4),x(7,"rect",5),T()()()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),_(),H("clip-path",i.pathId),_(5),E("id",i.pathId))},encapsulation:2})}return n})();var Q_=(()=>{class n extends Xn{pathId;ngOnInit(){this.pathId="url(#"+Zr()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[Dt,te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0)(1,"g"),x(2,"path",1),T(),I(3,"defs")(4,"clipPath",2),x(5,"rect",3),T()()()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),_(),H("clip-path",i.pathId),_(3),E("id",i.pathId))},encapsulation:2})}return n})();var il=(()=>{class n extends Xn{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Dt,te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0),x(1,"path",1),T()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var Y_=(()=>{class n extends Xn{pathId;ngOnInit(){this.pathId="url(#"+Zr()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Dt,te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0)(1,"g"),x(2,"path",1),T(),I(3,"defs")(4,"clipPath",2),x(5,"rect",3),T()()()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),_(),H("clip-path",i.pathId),_(3),E("id",i.pathId))},encapsulation:2})}return n})();var Je=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let o=0;o<i.length;o++)t.classList.add(i[o])}else{let i=r.split(" ");for(let o=0;o<i.length;o++)t.className+=" "+i[o]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(o=>this.removeClass(t,o)))}static hasClass(t,r){return t&&r?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var o=0;o<r.length;o++){if(r[o]==t)return i;r[o].nodeType==1&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<i.length;s++){if(i[s]==t)return o;i[s].attributes&&i[s].attributes[r]&&i[s].nodeType==1&&o++}return-1}static appendOverlay(t,r,i="self"){i!=="self"&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",o=!0){t&&r&&(o&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){let o=G=>{if(G)return getComputedStyle(G).getPropertyValue("position")==="relative"?G:o(G.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,c=r.getBoundingClientRect(),l=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),p=o(t)?.getBoundingClientRect()||{top:-1*l,left:-1*u},g,v;c.top+a+s.height>d.height?(g=c.top-p.top-s.height,t.style.transformOrigin="bottom",c.top+g<0&&(g=-1*c.top)):(g=a+c.top-p.top,t.style.transformOrigin="top");let S=c.left+s.width-d.width,L=c.left-p.left;s.width>d.width?v=(c.left-p.left)*-1:S>0?v=L-S:v=c.left-p.left,t.style.top=g+"px",t.style.left=v+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=o.height,a=o.width,c=r.offsetHeight??r.getBoundingClientRect().height,l=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),d=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),g,v;u.top+c+s>p.height?(g=u.top+d-s,t.style.transformOrigin="bottom",g<0&&(g=d)):(g=c+u.top+d,t.style.transformOrigin="top"),u.left+a>p.width?v=Math.max(0,u.left+f+l-a):v=u.left+f,t.style.top=g+"px",t.style.left=v+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t),o=/(auto|scroll)/,s=a=>{let c=window.getComputedStyle(a,null);return o.test(c.getPropertyValue("overflow"))||o.test(c.getPropertyValue("overflowX"))||o.test(c.getPropertyValue("overflowY"))};for(let a of i){let c=a.nodeType===1&&a.dataset.scrollselectors;if(c){let l=c.split(",");for(let u of l){let d=this.findSingle(a,u);d&&s(d)&&r.push(d)}}a.nodeType!==9&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,c=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-o-a,d=t.scrollTop,f=t.clientHeight,p=this.getOuterHeight(r);u<0?t.scrollTop=d+u:u+p>f&&(t.scrollTop=d+u-f+p)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,r){var i=1,o=50,s=r,a=o/s;let c=setInterval(()=>{i=i-a,i<=0&&(i=0,clearInterval(c)),t.style.opacity=i},o)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0],s=t.innerWidth||i.clientWidth||o.clientWidth,a=t.innerHeight||i.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return!0;var i=t.indexOf("Trident/");if(i>0){var o=t.indexOf("rv:");return!0}var s=t.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw"Cannot append "+r+" to "+t}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+r}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),o=[];for(let s of i){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){let o=getComputedStyle(i);if(this.isVisible(i)&&o.display!="none"&&o.visibility!="hidden")return i}return null}static getFirstFocusableElement(t,r=""){let i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){let i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){let i=n.getFocusableElements(t),o=0;if(i&&i.length>0){let s=i.indexOf(i[0].ownerDocument.activeElement);r?s==-1||s===0?o=i.length-1:o=s-1:s!=-1&&s!==i.length-1&&(o=s+1)}return i[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let i=typeof t;if(i==="string")return document.querySelector(t);if(i==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){let i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){let o=document.createElement(t);return this.setAttributes(o,r),o.append(...i),o}}static setAttribute(t,r="",i){this.isElement(t)&&i!==null&&i!==void 0&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){let i=(o,s)=>{let a=t?.$attrs?.[o]?[t?.$attrs?.[o]]:[];return[s].flat().reduce((c,l)=>{if(l!=null){let u=typeof l;if(u==="string"||u==="number")c.push(l);else if(u==="object"){let d=Array.isArray(l)?i(o,l):Object.entries(l).map(([f,p])=>o==="style"&&(p||p===0)?`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?f:void 0);c=d.length?c.concat(d.filter(f=>!!f)):c}}return c},a)};Object.entries(r).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(t,s):(s=o==="class"?[...new Set(i("class",s))].join(" ").trim():o==="style"?i("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[o]=s),t.setAttribute(o,s))}})}}static isFocusableElement(t,r=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})();var ol=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,o,s,a){this.document=t,this.platformId=r,this.renderer=i,this.el=o,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Wa(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(Je.removeClass(r,"p-ink-active"),!Je.getHeight(r)&&!Je.getWidth(r)){let a=Math.max(Je.getOuterWidth(this.el.nativeElement),Je.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Je.getOffset(this.el.nativeElement),o=t.pageX-i.left+this.document.body.scrollTop-Je.getWidth(r)/2,s=t.pageY-i.top+this.document.body.scrollLeft-Je.getHeight(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",o+"px"),Je.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Je.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if(typeof t[r].className=="string"&&t[r].className.indexOf("p-ink")!==-1)return t[r];return null}resetInk(){let t=this.getInk();t&&Je.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Je.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Je.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(M(Fe),M(un),M(dn),M(Qe),M(He),M(ha,8))};static \u0275dir=nt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),km=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({})}return n})();var uM=["container"],bH=n=>[n,"p-toast-message"],SH=(n,e,t,r)=>({showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:r}),AH=n=>({value:"visible",params:n}),DH=(n,e)=>({$implicit:n,closeFn:e}),MH=n=>({$implicit:n});function RH(n,e){n&1&&hn(0)}function NH(n,e){if(n&1&&(Ot(0),$(1,RH,1,0,"ng-container",4),xt()),n&2){let t=N();_(),E("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",ls(2,DH,t.message,t.onCloseIconClick))}}function OH(n,e){if(n&1&&x(0,"span"),n&2){let t=N(3);Ee("p-toast-message-icon pi "+t.message.icon)}}function xH(n,e){n&1&&x(0,"CheckIcon"),n&2&&H("aria-hidden",!0)("data-pc-section","icon")}function PH(n,e){n&1&&x(0,"InfoCircleIcon"),n&2&&H("aria-hidden",!0)("data-pc-section","icon")}function kH(n,e){n&1&&x(0,"TimesCircleIcon"),n&2&&H("aria-hidden",!0)("data-pc-section","icon")}function LH(n,e){n&1&&x(0,"ExclamationTriangleIcon"),n&2&&H("aria-hidden",!0)("data-pc-section","icon")}function FH(n,e){if(n&1&&(I(0,"span",13),Ot(1),$(2,xH,1,2,"CheckIcon",6)(3,PH,1,2,"InfoCircleIcon",6)(4,kH,1,2,"TimesCircleIcon",6)(5,LH,1,2,"ExclamationTriangleIcon",6),xt(),T()),n&2){let t=N(3);H("aria-hidden",!0)("data-pc-section","icon"),_(2),E("ngIf",t.message.severity==="success"),_(),E("ngIf",t.message.severity==="info"),_(),E("ngIf",t.message.severity==="error"),_(),E("ngIf",t.message.severity==="warn")}}function UH(n,e){if(n&1&&(Ot(0),$(1,OH,1,2,"span",8)(2,FH,6,6,"span",9),I(3,"div",10)(4,"div",11),se(5),T(),I(6,"div",12),se(7),T()(),xt()),n&2){let t=N(2);_(),E("ngIf",t.message.icon),_(),E("ngIf",!t.message.icon),_(),H("data-pc-section","text"),_(),H("data-pc-section","summary"),_(),pt(t.message.summary),_(),H("data-pc-section","detail"),_(),pt(t.message.detail)}}function VH(n,e){n&1&&hn(0)}function HH(n,e){if(n&1&&x(0,"span"),n&2){let t=N(3);Ee("pt-1 text-base p-toast-message-icon pi "+t.message.closeIcon)}}function BH(n,e){n&1&&x(0,"TimesIcon",16),n&2&&(E("styleClass","p-toast-icon-close-icon"),H("aria-hidden",!0)("data-pc-section","closeicon"))}function jH(n,e){if(n&1){let t=st();I(0,"button",14),ee("click",function(i){ve(t);let o=N(2);return Ce(o.onCloseIconClick(i))})("keydown.enter",function(i){ve(t);let o=N(2);return Ce(o.onCloseIconClick(i))}),$(1,HH,1,2,"span",8)(2,BH,1,3,"TimesIcon",15),T()}if(n&2){let t=N(2);H("aria-label",t.closeAriaLabel)("data-pc-section","closebutton"),_(),E("ngIf",t.message.closeIcon),_(),E("ngIf",!t.message.closeIcon)}}function $H(n,e){if(n&1&&(I(0,"div",5),$(1,UH,8,7,"ng-container",6)(2,VH,1,0,"ng-container",4)(3,jH,3,4,"button",7),T()),n&2){let t=N();E("ngClass",t.message==null?null:t.message.contentStyleClass),H("data-pc-section","content"),_(),E("ngIf",!t.template),_(),E("ngTemplateOutlet",t.template)("ngTemplateOutletContext",bn(6,MH,t.message)),_(),E("ngIf",(t.message==null?null:t.message.closable)!==!1)}}function qH(n,e){if(n&1){let t=st();I(0,"p-toastItem",3),ee("onClose",function(i){ve(t);let o=N();return Ce(o.onMessageClose(i))})("@toastAnimation.start",function(i){ve(t);let o=N();return Ce(o.onAnimationStart(i))})("@toastAnimation.done",function(i){ve(t);let o=N();return Ce(o.onAnimationEnd(i))}),T()}if(n&2){let t=e.$implicit,r=e.index,i=N();E("message",t)("index",r)("life",i.life)("template",i.template)("headlessTemplate",i.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}var zH=(()=>{class n{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new Te;containerViewChild;timeout;constructor(t,r){this.zone=t,this.config=r}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=t=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(r){return new(r||n)(M(He),M(ha))};static \u0275cmp=j({type:n,selectors:[["p-toastItem"]],viewQuery:function(r,i){if(r&1&&Ll(uM,5),r&2){let o;fn(o=pn())&&(i.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",mn],life:[2,"life","life",mn],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[Nt],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(r,i){if(r&1){let o=st();I(0,"div",2,0),ee("mouseenter",function(){return ve(o),Ce(i.onMouseEnter())})("mouseleave",function(){return ve(o),Ce(i.onMouseLeave())}),$(2,NH,2,5,"ng-container",3)(3,$H,4,8,"ng-template",null,1,us),T()}if(r&2){let o=cs(4);Ee(i.message==null?null:i.message.styleClass),E("ngClass",bn(9,bH,"p-toast-message-"+(i.message==null?null:i.message.severity)))("@messageState",bn(16,AH,MS(11,SH,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),H("id",i.message==null?null:i.message.id)("data-pc-name","toast")("data-pc-section","root"),_(2),E("ngIf",i.headlessTemplate)("ngIfElse",o)}},dependencies:()=>[Et,Ye,io,ol,W_,Q_,Y_,K_,il],encapsulation:2,data:{animation:[dd("messageState",[CD("visible",Qr({transform:"translateY(0)",opacity:1})),oa("void => *",[Qr({transform:"{{showTransformParams}}",opacity:0}),Jc("{{showTransitionParams}}")]),oa("* => void",[Jc("{{hideTransitionParams}}",Qr({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return n})(),dM=(()=>{class n{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(t){this._position=t,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new Te;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(t,r,i,o,s){this.document=t,this.renderer=r,this.messageService=i,this.cd=o,this.config=s}styleElement;id=Zr();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){let r=t.filter(i=>this.canAdd(i));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return t?t.find(i=>i.summary===r.summary&&i.detail==r.detail&&i.severity===r.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"message":this.template=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.template=t.template;break}})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){t.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&Ui.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){t.toState==="void"&&this.autoZIndex&&rl.isEmpty(this.messages)&&Ui.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Je.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints){let i="";for(let o in this.breakpoints[r])i+=o+":"+this.breakpoints[r][o]+" !important;";t+=`
                    @media screen and (max-width: ${r}) {
                        .p-toast[${this.id}] {
                           ${i}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Ui.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(r){return new(r||n)(M(Fe),M(dn),M(Jr),M(Wt),M(ha))};static \u0275cmp=j({type:n,selectors:[["p-toast"]],contentQueries:function(r,i,o){if(r&1&&xr(o,Vi,4),r&2){let s;fn(s=pn())&&(i.templates=s)}},viewQuery:function(r,i){if(r&1&&Ll(uM,5),r&2){let o;fn(o=pn())&&(i.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",be],baseZIndex:[2,"baseZIndex","baseZIndex",mn],life:[2,"life","life",mn],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",be],preventDuplicates:[2,"preventDuplicates","preventDuplicates",be],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[Nt],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(r,i){r&1&&(I(0,"div",1,0),$(2,qH,1,10,"p-toastItem",2),T()),r&2&&(Ee(i.styleClass),E("ngClass","p-toast-"+i._position)("ngStyle",i.style),_(2),E("ngForOf",i.messages))},dependencies:[Et,Pr,$n,zH],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[dd("toastAnimation",[oa(":enter, :leave",[_D("@*",ED())])])]},changeDetection:0})}return n})(),sl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se,km,W_,Q_,Y_,K_,il,Hi]})}return n})();var WH=(n,e)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":e}),KH=(n,e)=>({width:n,display:"flex",background:e}),QH=n=>({$implicit:n}),YH=n=>({display:n}),ZH=n=>({background:n});function JH(n,e){if(n&1&&(I(0,"div",7),se(1),T()),n&2){let t=N(2);E("ngStyle",bn(4,YH,t.value!=null&&t.value!==0?"flex":"none")),H("data-pc-section","label"),_(),Lv(" ",t.value,"",t.unit," ")}}function XH(n,e){n&1&&hn(0)}function eB(n,e){if(n&1&&(I(0,"div",3)(1,"div",4),$(2,JH,2,6,"div",5)(3,XH,1,0,"ng-container",6),T()()),n&2){let t=N();E("ngStyle",ls(5,KH,t.value+"%",t.color)),H("data-pc-section","value"),_(2),E("ngIf",t.showValue&&!t.contentTemplate),_(),E("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",bn(8,QH,t.value))}}function tB(n,e){if(n&1&&(I(0,"div",8),x(1,"div",3),T()),n&2){let t=N();H("data-pc-section","container"),_(),E("ngStyle",bn(3,ZH,t.color)),H("data-pc-section","value")}}var hM=(()=>{class n{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["p-progressBar"]],contentQueries:function(r,i,o){if(r&1&&xr(o,Vi,4),r&2){let s;fn(s=pn())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",mn],showValue:[2,"showValue","showValue",be],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Nt],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(r,i){r&1&&(I(0,"div",0),$(1,eB,4,10,"div",1)(2,tB,2,5,"div",2),T()),r&2&&(Ee(i.styleClass),E("ngStyle",i.style)("ngClass",ls(11,WH,i.mode==="determinate",i.mode==="indeterminate")),H("aria-valuemin",0)("aria-valuenow",i.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),_(),E("ngIf",i.mode==="determinate"),_(),E("ngIf",i.mode==="indeterminate"))},dependencies:[Et,Ye,io,$n],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return n})(),fM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se]})}return n})();var rB=()=>({height:"var(--s-unit)"});function iB(n,e){n&1&&x(0,"p-progressBar",1),n&2&&gf(AS(2,rB))}var Lm=class n{show=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["app-progress-bar"]],inputs:{show:"show"},standalone:!0,features:[te],decls:1,vars:1,consts:[["mode","indeterminate",3,"style",4,"ngIf"],["mode","indeterminate"]],template:function(t,r){t&1&&$(0,iB,1,3,"p-progressBar",0),t&2&&E("ngIf",r.show)},dependencies:[Se,Ye,fM,hM]})};var{DebugMode:rae}=Yn,Z_=[{text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",icon:"pi pi-objects-column",title:"Notificaci\xF3n 1",type:"info",date:new Date},{text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",icon:"pi pi-envelope",title:"Notificaci\xF3n 2",type:"success",date:new Date(Date.now()-6e4*5)},{text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",icon:"pi pi-sparkles",title:"Notificaci\xF3n 3",type:"error",date:new Date(Date.now()-6e4*10)}],pM=[{label:"Iniciar Sesi\xF3n",value:"login"},{label:"Contenido Protegido",value:"protected"}],mM=[{title:"Dispositivos",icon:"mobile",items:[{title:"Android",icon:"android",items:[{title:"Samsung",items:[{title:"S23 Ultra",to:"/android/samsung/s23-ultra",items:[{title:"512GB",to:"/android/samsung/s23-ultra/512gb"},{title:"256GB",to:"/android/samsung/s22/256gb"}]},{title:"S22",to:"/android/samsung/s22"}]},{title:"Xiaomi",items:[{title:"Poco X3 pro",to:"/android/xiaomi/poco-x3-pro"},{title:"Redmi Note 10",to:"/android/xiaomi/redmi-note-10"}]},{title:"Huawei",items:[{title:"Y9 Prime",to:"/android/huawei/y9-prime"},{title:"P40 Pro",to:"/android/huawei/p40-pro"}]}]},{title:"iOS",items:[{title:"iPhone 15",to:"/ios/iphone-15"},{title:"iPhone 14",to:"/ios/iphone-14"},{title:"iPhone 13",to:"/ios/iphone-13"}]}]},{title:"Accesorios",icon:"qrcode",items:[{title:"Aud\xEDfonos",to:"/accesorios/audifonos"},{title:"Cargadores",to:"/accesorios/cargadores"},{title:"Fundas",to:"/accesorios/fundas"}]},{title:"Soporte",icon:"question-circle",items:[{title:"FAQ",to:"/soporte/faq"},{title:"Contacto",to:"/soporte/contacto"}]}];var oB=["*"],sB=(n,e,t,r,i,o)=>({"p-sidebar":!0,"p-sidebar-active":n,"p-sidebar-left":e,"p-sidebar-right":t,"p-sidebar-top":r,"p-sidebar-bottom":i,"p-sidebar-full":o}),aB=(n,e)=>({transform:n,transition:e}),cB=n=>({value:"visible",params:n});function lB(n,e){n&1&&hn(0)}function uB(n,e){if(n&1&&(Ot(0),$(1,lB,1,0,"ng-container",5),xt()),n&2){let t=N(2);_(),E("ngTemplateOutlet",t.headlessTemplate)}}function dB(n,e){n&1&&hn(0)}function hB(n,e){n&1&&x(0,"TimesIcon",13),n&2&&(E("styleClass","p-sidebar-close-icon"),H("data-pc-section","closeicon"))}function fB(n,e){}function pB(n,e){n&1&&$(0,fB,0,0,"ng-template")}function mB(n,e){if(n&1&&(I(0,"span",14),$(1,pB,1,0,null,5),T()),n&2){let t=N(4);H("data-pc-section","closeicon"),_(),E("ngTemplateOutlet",t.closeIconTemplate)}}function gB(n,e){if(n&1){let t=st();I(0,"button",10),ee("click",function(i){ve(t);let o=N(3);return Ce(o.close(i))})("keydown.enter",function(i){ve(t);let o=N(3);return Ce(o.close(i))}),$(1,hB,1,2,"TimesIcon",11)(2,mB,2,2,"span",12),T()}if(n&2){let t=N(3);H("aria-label",t.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),_(),E("ngIf",!t.closeIconTemplate),_(),E("ngIf",t.closeIconTemplate)}}function yB(n,e){n&1&&hn(0)}function vB(n,e){n&1&&hn(0)}function CB(n,e){if(n&1&&(Ot(0),I(1,"div",15),$(2,vB,1,0,"ng-container",5),T(),xt()),n&2){let t=N(3);_(),H("data-pc-section","footer"),_(),E("ngTemplateOutlet",t.footerTemplate)}}function EB(n,e){if(n&1&&(I(0,"div",6),$(1,dB,1,0,"ng-container",5)(2,gB,3,5,"button",7),T(),I(3,"div",8),jn(4),$(5,yB,1,0,"ng-container",5),T(),$(6,CB,3,2,"ng-container",9)),n&2){let t=N(2);H("data-pc-section","header"),_(),E("ngTemplateOutlet",t.headerTemplate),_(),E("ngIf",t.showCloseIcon),_(),H("data-pc-section","content"),_(2),E("ngTemplateOutlet",t.contentTemplate),_(),E("ngIf",t.footerTemplate)}}function _B(n,e){if(n&1){let t=st();I(0,"div",3,0),ee("@panelState.start",function(i){ve(t);let o=N();return Ce(o.onAnimationStart(i))})("@panelState.done",function(i){ve(t);let o=N();return Ce(o.onAnimationEnd(i))})("keydown",function(i){ve(t);let o=N();return Ce(o.onKeyDown(i))}),$(2,uB,2,1,"ng-container",4)(3,EB,7,6,"ng-template",null,1,us),T()}if(n&2){let t=cs(4),r=N();Ee(r.styleClass),E("ngClass",RS(9,sB,r.visible,r.position==="left"&&!r.fullScreen,r.position==="right"&&!r.fullScreen,r.position==="top"&&!r.fullScreen,r.position==="bottom"&&!r.fullScreen,r.fullScreen))("@panelState",bn(19,cB,ls(16,aB,r.transformOptions,r.transitionOptions)))("ngStyle",r.style),H("data-pc-name","sidebar")("data-pc-section","root"),_(2),E("ngIf",r.headlessTemplate)("ngIfElse",t)}}var wB=f_([Qr({transform:"{{transform}}",opacity:0}),Jc("{{transition}}")]),IB=f_([Jc("{{transition}}",Qr({transform:"{{transform}}",opacity:0}))]),gM=(()=>{class n{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(t){this._visible=t}get position(){return this._position}set position(t){switch(this._position=t,t){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(t){this._fullScreen=t,t&&(this.transformOptions="none")}templates;onShow=new Te;onHide=new Te;visibleChange=new Te;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(t,r,i,o,s){this.document=t,this.el=r,this.renderer=i,this.cd=o,this.config=s}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}onKeyDown(t){t.code==="Escape"&&this.hide(!1)}show(){this.autoZIndex&&Ui.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(t=!0){t&&this.onHide.emit({}),this.modal&&this.disableModality()}close(t){this.hide(!1),this.visibleChange.emit(!1),t.preventDefault()}enableModality(){let t=this.document.querySelectorAll(".p-sidebar-active"),i=t.length==1?String(parseInt(this.container.style.zIndex)-1):String(parseInt(t[0].style.zIndex)-1);this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",i),Je.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",o=>{this.dismissible&&this.close(o)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&Je.blockBodyScroll())}disableModality(){this.mask&&(Je.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&Je.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(t){switch(t.toState){case"void":this.hide(!0),Ui.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):Je.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){let t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(t,"keydown",r=>{r.which==27&&parseInt(this.container.style.zIndex)===Ui.get(this.container)&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&Ui.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(r){return new(r||n)(M(Fe),M(Qe),M(dn),M(Wt),M(ha))};static \u0275cmp=j({type:n,selectors:[["p-sidebar"]],contentQueries:function(r,i,o){if(r&1&&xr(o,Vi,4),r&2){let s;fn(s=pn())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",be],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",be],baseZIndex:[2,"baseZIndex","baseZIndex",mn],modal:[2,"modal","modal",be],dismissible:[2,"dismissible","dismissible",be],showCloseIcon:[2,"showCloseIcon","showCloseIcon",be],closeOnEscape:[2,"closeOnEscape","closeOnEscape",be],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[Nt],ngContentSelectors:oB,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(r,i){r&1&&(Bn(),$(0,_B,5,21,"div",2)),r&2&&E("ngIf",i.visible)},dependencies:()=>[Et,Ye,io,$n,ol,il],styles:[`@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}
`],encapsulation:2,data:{animation:[dd("panelState",[oa("void => visible",[p_(wB)]),oa("visible => void",[p_(IB)])])]},changeDetection:0})}return n})(),yM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se,km,Hi,il,Hi]})}return n})();var al=class n{constructor(e,t,r){this.http=e;this.sanitizer=t;this.elementRef=r}path;fillColor="currentColor";svgContent="";ngOnInit(){this.loadSvg()}ngAfterViewInit(){setTimeout(()=>{this.applyFillColor()},0)}loadSvg(){this.http.get(this.path,{responseType:"text"}).subscribe(e=>{this.svgContent=this.sanitizer.bypassSecurityTrustHtml(e),setTimeout(()=>this.applyFillColor(),0)},e=>{console.error("Error al cargar el SVG:",e)})}applyFillColor(){let e=this.elementRef.nativeElement.querySelector("div svg");e&&this.setFillRecursively(e,this.fillColor)}setFillRecursively(e,t){e.setAttribute("fill",t),e.removeAttribute("style"),Array.from(e.children).forEach(r=>{this.setFillRecursively(r,t)})}static \u0275fac=function(t){return new(t||n)(M(tC),M(hC),M(Qe))};static \u0275cmp=j({type:n,selectors:[["app-svg"]],inputs:{path:"path",fillColor:"fillColor"},standalone:!0,features:[te],decls:2,vars:3,consts:[[3,"innerHTML"]],template:function(t,r){t&1&&(Ot(0),x(1,"div",0),xt()),t&2&&(gf("color:"+r.fillColor),_(),E("innerHTML",r.svgContent,vb))},styles:['svg[_ngcontent-%COMP%]{width:100%;height:auto}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:"auto"}']})};function bB(n,e){if(n&1&&x(0,"i"),n&2){let t=N().$implicit,r=N();Ee(r.getIconClass(t.icon))}}function SB(n,e){if(n&1&&x(0,"app-svg",5),n&2){let t=N(2);E("path",t.ArrowRightIconPath)("fillColor","#2881b3")}}function AB(n,e){if(n&1){let t=st();I(0,"li",1),ee("click",function(){let i=ve(t).$implicit,o=N();return Ce(o.handleClickItem(i))}),$(1,bB,1,2,"i",2),I(2,"span",3),se(3),T(),$(4,SB,1,2,"app-svg",4),T()}if(n&2){let t=e.$implicit,r=N();Ee(r.getItemClass(t)),_(),E("ngIf",r.indexSubMenu===void 0),_(2),pt(t.title),_(),E("ngIf",t&&t.items&&t.items.length>0)}}var Fm=class n{constructor(e,t){this.appService=e;this.messageService=t}menuItems=[];indexSubMenu=void 0;activeMenuPath=[];onMenuChange=void 0;onMenuChangeExtended=void 0;ArrowRightIconPath="assets/icons/Actions.arrowright.flechaderecha.svg";getIconClass(e){return`pi pi-${e} sidebarIcon`}isSelected(e,t=this.activeMenuPath){for(let r of t)if(r.title===e.title||r.items&&r.items.length>0&&this.isSelected(e,r.items))return!0;return!1}getItemClass(e){return`menuItem ${this.indexSubMenu!==void 0?"submenuList":""} ${this.isSelected(e)?" selected-title":""}`}handleClickItem(e){this.indexSubMenu&&this.onMenuChange&&e.items&&e.items.length>0?this.onMenuChange([...this.activeMenuPath,e]):!this.indexSubMenu&&this.onMenuChange?this.onMenuChange([e]):this.indexSubMenu!==void 0&&this.indexSubMenu>=0&&e.items&&e.items.length>0&&!this.isSelected(e)&&this.onMenuChangeExtended?this.onMenuChangeExtended([e],this.indexSubMenu):this.messageService.add({severity:"info",summary:"Clicked",detail:`Fake redirect to: '${e.to}'`,icon:e.icon})}static \u0275fac=function(t){return new(t||n)(M(Mt),M(Jr))};static \u0275cmp=j({type:n,selectors:[["app-sidebar-menu"]],inputs:{menuItems:"menuItems",indexSubMenu:"indexSubMenu",activeMenuPath:"activeMenuPath",onMenuChange:"onMenuChange",onMenuChangeExtended:"onMenuChangeExtended"},standalone:!0,features:[te],decls:1,vars:1,consts:[[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[3,"class",4,"ngIf"],[1,"menuItemTitle"],[3,"path","fillColor",4,"ngIf"],[3,"path","fillColor"]],template:function(t,r){t&1&&$(0,AB,5,5,"li",0),t&2&&E("ngForOf",r.menuItems)},dependencies:[Se,Pr,Ye,al],styles:[".menuItem[_ngcontent-%COMP%]{align-items:center;border-radius:8px;cursor:pointer;display:flex;justify-content:space-between;color:var(--primary-hover)}.menuItem[_ngcontent-%COMP%]:hover{background-color:var(--background);color:var(--primary-hover)}.menuItem.selected-title[_ngcontent-%COMP%]{background-color:var(--background-office);font-weight:700}.menuItem[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:var(--s-unit-2)}.menuItemTitle[_ngcontent-%COMP%]{flex-grow:1;font-size:14px;font-weight:700!important;line-height:var(--s-unit-3);text-align:left}.menuItemTitle[_ngcontent-%COMP%]:hover{color:var(--primary-hover)}.submenuList[_ngcontent-%COMP%]{padding:4px 12px}"]})};var DB=["*"];function MB(n,e){if(n&1&&x(0,"app-sidebar-menu",11),n&2){let t=N(),r=t.$implicit,i=t.index,o=N(3);E("menuItems",r.items)("activeMenuPath",o.activeMenuPath.slice(i+1))("indexSubMenu",i)("onMenuChangeExtended",o.onMenuChangeExtended.bind(o))}}function RB(n,e){if(n&1&&(Ot(0),I(1,"ul")(2,"h3",9),se(3),T(),$(4,MB,1,4,"app-sidebar-menu",10),T(),xt()),n&2){let t=e.$implicit,r=N(3);_(),Ee(r.activeMenuPath.length>1?"submenuContainer display-right-line":"submenuContainer"),_(2),pt(t.title),_(),E("ngIf",t.items)}}function NB(n,e){if(n&1&&(I(0,"div",7),$(1,RB,5,4,"ng-container",8),T()),n&2){let t=N(2);_(),E("ngForOf",t.activeMenuPath)}}function OB(n,e){if(n&1){let t=st();I(0,"p-sidebar",0),Uv("visibleChange",function(i){ve(t);let o=N();return bS(o.appService.isSidebarMenuVisible,i)||(o.appService.isSidebarMenuVisible=i),Ce(i)}),ee("onHide",function(){ve(t);let i=N();return Ce(i.activeMenuPath=[])}),I(1,"div",1),x(2,"app-sidebar-menu",2),T(),I(3,"div",3)(4,"div",4),ee("click",function(){ve(t);let i=N();return Ce(i.onCloseSidebar())}),x(5,"app-svg",5),T()(),$(6,NB,2,1,"div",6),T()}if(n&2){let t=N();Ee(t.getSidebarClass()),Fv("visible",t.appService.isSidebarMenuVisible),_(2),E("menuItems",t.menuItems)("onMenuChange",t.onMenuChange.bind(t))("activeMenuPath",t.activeMenuPath),_(3),E("path",t.ArrowLeftIconPath)("fillColor","#2881b3"),_(),E("ngIf",t.activeMenuPath.length>0)}}var Um=class n{constructor(e){this.appService=e}menuItems=[];hideHeader=!1;activeMenuPath=[];ArrowLeftIconPath="assets/icons/Actions.arrowleft.flechaizquierda.svg";onMenuChange(e){this.activeMenuPath=[...e]}onRestart(){this.activeMenuPath=[]}onMenuChangeExtended(e,t){if(t!==void 0&&t>=0){let r=[];t<this.activeMenuPath.length-1&&this.activeMenuPath[t].title!==e[0].title&&e[0].items&&e[0].items.length>0?r=[...this.activeMenuPath.slice(0,t+1),...e]:e[0].items&&e[0].items.length>0&&(r=[...this.activeMenuPath.slice(0,this.activeMenuPath.length),...e]),r.length>0&&this.onMenuChange(r)}}getSidebarClass(){return`sidebar ${this.activeMenuPath.length>0?"sidebar-extended":""} ${this.hideHeader?"hideHeader":""}`}onCloseSidebar(){this.onRestart(),setTimeout(()=>this.appService.toggleSidebarMenu(),50)}static \u0275fac=function(t){return new(t||n)(M(Mt))};static \u0275cmp=j({type:n,selectors:[["app-sidebar"]],inputs:{menuItems:"menuItems",hideHeader:"hideHeader"},standalone:!0,features:[te],ngContentSelectors:DB,decls:2,vars:0,consts:[[3,"visibleChange","onHide","visible"],[1,"sidebarContent"],[3,"menuItems","onMenuChange","activeMenuPath"],[1,"footerContent"],[1,"closeSidebarBtn",3,"click"],[3,"path","fillColor"],["class","extendedSidebar",4,"ngIf"],[1,"extendedSidebar"],[4,"ngFor","ngForOf"],[1,"itemTitle"],[3,"menuItems","activeMenuPath","indexSubMenu","onMenuChangeExtended",4,"ngIf"],[3,"menuItems","activeMenuPath","indexSubMenu","onMenuChangeExtended"]],template:function(t,r){t&1&&(Bn(),jn(0,0,[2,"width","auto"],OB,7,9))},dependencies:[yM,gM,Fm,al,Se,Pr,Ye],styles:[".sidebar[_ngcontent-%COMP%]{max-width:248px;font-feature-settings:var(--font-feature-settings)}.sidebar[_ngcontent-%COMP%]   .p-sidebar[_ngcontent-%COMP%]{position:absolute;top:56px;height:calc(100% - 56px)}.sidebar[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]{align-items:center;border-radius:8px;cursor:pointer;display:flex;justify-content:space-between;padding:var(--s-unit-2)}.sidebar[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]:hover{background-color:var(--background);color:var(--primary-hover)}.sidebar[_ngcontent-%COMP%]   .menuItem[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:var(--s-unit-2)}.sidebar.sidebar-extended[_ngcontent-%COMP%]{max-width:1048px;width:100%}.sidebar.sidebar-extended[_ngcontent-%COMP%]   .p-sidebar-content[_ngcontent-%COMP%]{width:100%}.sidebar.sidebar-extended[_ngcontent-%COMP%]   .p-sidebar-left[_ngcontent-%COMP%]{max-width:1048px;width:100%}.sidebar.hideHeader[_ngcontent-%COMP%]   .p-sidebar-header[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .extendedSidebar[_ngcontent-%COMP%]{background-color:var(--background-soft);box-shadow:2px 0 5px #0000001a;display:flex;flex-direction:row;width:calc(100% - 248px);height:100%;left:248px;padding:var(--s-unit-4) var(--s-unit-5);position:absolute;top:0;transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   .submenuContainer[_ngcontent-%COMP%]{border-right:1px solid var(--text-soft);padding-right:var(--s-unit-2);padding-top:0;padding-left:var(--s-unit-2);margin-top:0;width:100%}.sidebar[_ngcontent-%COMP%]   .submenuContainer[_ngcontent-%COMP%]:last-child{border-right:none;margin-right:0;padding-right:0}.sidebar[_ngcontent-%COMP%]   .submenuList[_ngcontent-%COMP%]{padding:4px 12px}.sidebar[_ngcontent-%COMP%]   .p-sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0;width:248px}.sidebar[_ngcontent-%COMP%]   .p-sidebar-left[_ngcontent-%COMP%]{width:248px}.footerContent[_ngcontent-%COMP%]{bottom:0;align-items:center;border-top:1px solid var(--text-neutral, #bdbdbd);box-sizing:border-box;display:flex;gap:var(--s-unit-2);height:48px;justify-content:space-between;padding:12px var(--s-unit-4);width:100%;background-color:var(--background-soft)}.sidebarContent[_ngcontent-%COMP%]{flex:1;padding:var(--s-unit-2);max-width:248px;background-color:var(--background-soft)}.sidebarIcon[_ngcontent-%COMP%]{color:var(--text)}.menuList[_ngcontent-%COMP%]{list-style-type:none;font-feature-settings:var(--font-feature-settings);margin:0;padding:0;width:100%;padding-left:var(--s-unit-2);padding-right:var(--s-unit-2)}.menuItemTitle[_ngcontent-%COMP%]{flex-grow:1;font-size:var(--small);font-weight:400;line-height:var(--s-unit-3);text-align:left;color:var(--text)}.menuItemTitle[_ngcontent-%COMP%]:hover{color:var(--primary-hover)}.menuItemTitle.selected[_ngcontent-%COMP%]{color:var(--primary-press);font-weight:700}.closeButton[_ngcontent-%COMP%]{cursor:pointer}.itemTitle[_ngcontent-%COMP%]{border-bottom:.5px solid var(--text-soft);color:var(--text);font-size:var(--h3);margin-bottom:var(--s-unit-3);margin-top:0;padding-bottom:var(--s-unit)}.closeSidebarBtn[_ngcontent-%COMP%]{cursor:pointer}"]})};function ze(n){let e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function vM(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}var xB=Math.pow(10,8)*24*60*60*1e3,Oae=-xB;var Sd=43200,J_=1440;var PB=3600;var CM=PB*24,xae=CM*7,kB=CM*365.2425,LB=kB/12,Pae=LB*3;var FB={};function EM(){return FB}function X_(n){let e=ze(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function cl(n,e){let t=ze(n),r=ze(e),i=t.getTime()-r.getTime();return i<0?-1:i>0?1:i}function _M(n){return vM(n,Date.now())}function wM(n,e){let t=ze(n),r=ze(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function IM(n){return e=>{let r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function TM(n,e){return+ze(n)-+ze(e)}function bM(n){let e=ze(n);return e.setHours(23,59,59,999),e}function SM(n){let e=ze(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function AM(n){let e=ze(n);return+bM(e)==+SM(e)}function DM(n,e){let t=ze(n),r=ze(e),i=cl(t,r),o=Math.abs(wM(t,r)),s;if(o<1)s=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*o);let a=cl(t,r)===-i;AM(ze(n))&&o===1&&cl(n,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function MM(n,e,t){let r=TM(n,e)/1e3;return IM(t?.roundingMethod)(r)}var UB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RM=(n,e,t)=>{let r,i=UB[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Ho(n){return(e={})=>{let t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var VB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NM={date:Ho({formats:VB,defaultWidth:"full"}),time:Ho({formats:HB,defaultWidth:"full"}),dateTime:Ho({formats:BB,defaultWidth:"full"})};var jB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OM=(n,e,t,r)=>jB[n];function er(n){return(e,t)=>{let r=t?.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){let s=n.defaultFormattingWidth||n.defaultWidth,a=t?.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{let s=n.defaultWidth,a=t?.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[s]}let o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}var $B={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QB=(n,e)=>{let t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},xM={ordinalNumber:QB,era:er({values:$B,defaultWidth:"wide"}),quarter:er({values:qB,defaultWidth:"wide",argumentCallback:n=>n-1}),month:er({values:zB,defaultWidth:"wide"}),day:er({values:GB,defaultWidth:"wide"}),dayPeriod:er({values:WB,defaultWidth:"wide",formattingValues:KB,defaultFormattingWidth:"wide"})};function tr(n){return(e,t={})=>{let r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;let s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?ZB(a,d=>d.test(s)):YB(a,d=>d.test(s)),l;l=n.valueCallback?n.valueCallback(c):c,l=t.valueCallback?t.valueCallback(l):l;let u=e.slice(s.length);return{value:l,rest:u}}}function YB(n,e){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function ZB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Vm(n){return(e,t={})=>{let r=e.match(n.matchPattern);if(!r)return null;let i=r[0],o=e.match(n.parsePattern);if(!o)return null;let s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;let a=e.slice(i.length);return{value:s,rest:a}}}var JB=/^(\d+)(th|st|nd|rd)?/i,XB=/\d+/i,ej={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tj={any:[/^b/i,/^(a|c)/i]},nj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rj={any:[/1/i,/2/i,/3/i,/4/i]},ij={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PM={ordinalNumber:Vm({matchPattern:JB,parsePattern:XB,valueCallback:n=>parseInt(n,10)}),era:tr({matchPatterns:ej,defaultMatchWidth:"wide",parsePatterns:tj,defaultParseWidth:"any"}),quarter:tr({matchPatterns:nj,defaultMatchWidth:"wide",parsePatterns:rj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tr({matchPatterns:ij,defaultMatchWidth:"wide",parsePatterns:oj,defaultParseWidth:"any"}),day:tr({matchPatterns:sj,defaultMatchWidth:"wide",parsePatterns:aj,defaultParseWidth:"any"}),dayPeriod:tr({matchPatterns:cj,defaultMatchWidth:"any",parsePatterns:lj,defaultParseWidth:"any"})};var ew={code:"en-US",formatDistance:RM,formatLong:NM,formatRelative:OM,localize:xM,match:PM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kM(n,e,t){let r=EM(),i=t?.locale??r.locale??ew,o=2520,s=cl(n,e);if(isNaN(s))throw new RangeError("Invalid time value");let a=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:s}),c,l;s>0?(c=ze(e),l=ze(n)):(c=ze(n),l=ze(e));let u=MM(l,c),d=(X_(l)-X_(c))/1e3,f=Math.round((u-d)/60),p;if(f<2)return t?.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,a):u<10?i.formatDistance("lessThanXSeconds",10,a):u<20?i.formatDistance("lessThanXSeconds",20,a):u<40?i.formatDistance("halfAMinute",0,a):u<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):f===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",f,a);if(f<45)return i.formatDistance("xMinutes",f,a);if(f<90)return i.formatDistance("aboutXHours",1,a);if(f<J_){let g=Math.round(f/60);return i.formatDistance("aboutXHours",g,a)}else{if(f<o)return i.formatDistance("xDays",1,a);if(f<Sd){let g=Math.round(f/J_);return i.formatDistance("xDays",g,a)}else if(f<Sd*2)return p=Math.round(f/Sd),i.formatDistance("aboutXMonths",p,a)}if(p=DM(l,c),p<12){let g=Math.round(f/Sd);return i.formatDistance("xMonths",g,a)}else{let g=p%12,v=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",v,a):g<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function LM(n,e){return kM(n,_M(n),e)}var uj={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},FM=(n,e,t)=>{let r,i=uj[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+r:"hace "+r:r};var dj={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fj={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UM={date:Ho({formats:dj,defaultWidth:"full"}),time:Ho({formats:hj,defaultWidth:"full"}),dateTime:Ho({formats:fj,defaultWidth:"full"})};var pj={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mj={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},VM=(n,e,t,r)=>e.getHours()!==1?mj[n]:pj[n];var gj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},yj={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},vj={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Cj={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},Ej={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},_j={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},wj=(n,e)=>Number(n)+"\xBA",HM={ordinalNumber:wj,era:er({values:gj,defaultWidth:"wide"}),quarter:er({values:yj,defaultWidth:"wide",argumentCallback:n=>Number(n)-1}),month:er({values:vj,defaultWidth:"wide"}),day:er({values:Cj,defaultWidth:"wide"}),dayPeriod:er({values:Ej,defaultWidth:"wide",formattingValues:_j,defaultFormattingWidth:"wide"})};var Ij=/^(\d+)(º)?/i,Tj=/\d+/i,bj={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Sj={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Aj={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Dj={any:[/1/i,/2/i,/3/i,/4/i]},Mj={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Rj={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Nj={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Oj={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},xj={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Pj={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},BM={ordinalNumber:Vm({matchPattern:Ij,parsePattern:Tj,valueCallback:function(n){return parseInt(n,10)}}),era:tr({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:Sj,defaultParseWidth:"any"}),quarter:tr({matchPatterns:Aj,defaultMatchWidth:"wide",parsePatterns:Dj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tr({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Rj,defaultParseWidth:"any"}),day:tr({matchPatterns:Nj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),dayPeriod:tr({matchPatterns:xj,defaultMatchWidth:"any",parsePatterns:Pj,defaultParseWidth:"any"})};var jM={code:"es",formatDistance:FM,formatLong:UM,formatRelative:VM,localize:HM,match:BM,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Hm=class n{transform(e){return LM(new Date(e),{addSuffix:!0,locale:jM})}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Xy({name:"timeAgo",type:n,pure:!0,standalone:!0})};function kj(n,e){if(n&1){let t=st();I(0,"li",6),ee("click",function(){let i=ve(t).$implicit,o=N(2);return Ce(o.onOptionSelect(i.value))}),se(1),T()}if(n&2){let t=e.$implicit;_(),ui(" ",t.label," ")}}function Lj(n,e){if(n&1&&(I(0,"ul",0)(1,"div",4)(2,"span",0),se(3," Rutas "),T()(),$(4,kj,2,1,"li",5),T()),n&2){let t=N();E("ngClass",t.appService.getThemeClass("filtered-options")),_(2),E("ngClass",t.appService.getThemeClass("search-header-label")),_(2),E("ngForOf",t.filteredOptions())}}var Bm=class n{constructor(e,t,r){this.router=e;this.appService=t;this.themeService=r;$v(()=>{this.filterOptions()},{allowSignalWrites:!0})}options=ge([]);type=ge(null);searchQuery=ge("");filteredOptions=ge([]);isInputActive=ge(!1);onInputChange(e){let t=e.target;this.searchQuery.set(t.value||"")}onFocus(){this.isInputActive.set(!0)}onBlur(){setTimeout(()=>this.isInputActive.set(!1),500)}getClassIcon(){return this.type()=="white-1"||this.type()=="blue-1"||this.themeService.isDarkTheme()?"p-input-icon-left":"p-input-icon-right"}getPlaceholder(){return this.type()==="white-1"||this.type()==="blue-1"||this.themeService.isDarkTheme()?"Busca apps, manuales, noticias...":"Buscar.."}filterOptions(){let e=this.searchQuery().toLowerCase(),t=this.router.url;if(!e){this.filteredOptions.set([]);return}this.filteredOptions.set(this.options().filter(r=>r.label.toLowerCase().includes(e.toLocaleLowerCase())&&!t.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())))}onOptionSelect(e){this.router.navigate([`/${e}`])}static \u0275fac=function(t){return new(t||n)(M(uo),M(Mt),M(Zn))};static \u0275cmp=j({type:n,selectors:[["app-search-input"]],inputs:{options:"options",type:"type"},standalone:!0,features:[te],decls:5,vars:7,consts:[[3,"ngClass"],[1,"pi","pi-search",3,"ngClass"],["type","text",3,"input","focus","blur","value","placeholder","ngClass"],[3,"ngClass",4,"ngIf"],[1,"search-header-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"span",0),x(2,"i",1),I(3,"input",2),ee("input",function(o){return r.onInputChange(o)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),T()(),$(4,Lj,5,3,"ul",3),T()),t&2&&(E("ngClass",r.appService.getThemeClass("search-input-container")),_(),E("ngClass",r.getClassIcon()),_(),E("ngClass",r.appService.getThemeClass("search-icon")),_(),E("value",r.searchQuery())("placeholder",r.getPlaceholder())("ngClass",r.appService.getThemeClass("search-input")),_(),E("ngIf",r.isInputActive()&&r.filteredOptions().length>0))},dependencies:[Se,Et,Pr,Ye],styles:["input[_ngcontent-%COMP%]::placeholder{color:var(--black)}[_ngcontent-%COMP%]:root{width:search_input_max_width}.search-input-container[_ngcontent-%COMP%]{flex-basis:325px;flex-grow:1;position:relative;display:flex;justify-content:flex-end}.search-input-containerspan[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0;max-width:100%}.search-input-container-white-1[_ngcontent-%COMP%], .search-input-container-blue-1[_ngcontent-%COMP%], .search-input-container-dark[_ngcontent-%COMP%]{max-width:387px}.search-input[_ngcontent-%COMP%]{width:100%;min-width:120px;max-width:325px;height:var(--s-unit-5);border:1px solid var(--neutral);background-color:var(--white);border-radius:var(--s-unit)}.search-input-blue-1[_ngcontent-%COMP%]{height:56px;max-width:387px;background-color:var(--primary);border:0;border-radius:0;color:var(--white);padding-left:var(--s-unit-5)}.search-input-blue-1[_ngcontent-%COMP%]::placeholder{color:var(--white)}.search-input-white-1[_ngcontent-%COMP%]{height:56px;max-width:387px;border:1px solid var(--neutral);background-color:#d9e3f2;border:0;border-radius:0;padding-left:var(--s-unit-5)}.search-input-dark[_ngcontent-%COMP%]{height:56px;max-width:387px;background-color:#d3d1d6;border:0;border-radius:0;padding-left:var(--s-unit-5)}.search-icon[_ngcontent-%COMP%]{font-size:20px}.search-icon-white-1[_ngcontent-%COMP%]{font-size:var(--s-unit-3)}.search-icon-blue-1[_ngcontent-%COMP%]{color:var(--white)}.search-icon-dark[_ngcontent-%COMP%]{font-size:var(--s-unit-3)}ul[_ngcontent-%COMP%]{margin:0}.filtered-options[_ngcontent-%COMP%]{position:fixed;top:64px;width:100vw;right:1px;background-color:var(--white);border:1px solid var(--neutral);list-style:none;padding:var(--s-unit) 0 var(--s-unit);width:100%;box-shadow:0 2px var(--s-unit) rgba(var(--background),.1);display:flex;flex-direction:column;border-bottom-left-radius:var(--s-unit-2);border-bottom-right-radius:var(--s-unit-2)}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--white);padding:20px var(--s-unit-4);display:flex;flex-direction:row;align-items:flex-start;cursor:pointer;color:var(--text)}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:var(--white)}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border:0}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-radius:0}.close-icon[_ngcontent-%COMP%]{padding:var(--s-unit-2);color:var(--text);position:absolute;right:var(--s-unit-2);cursor:pointer}.filtered-options-blue[_ngcontent-%COMP%]{color:var(--text)}.filtered-options-blue-1[_ngcontent-%COMP%]{color:var(--white);top:56px}.filtered-options-white-1[_ngcontent-%COMP%]{background-color:#d9e3f2;top:56px}.filtered-options-white-1[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#d9e3f2}.filtered-options-dark[_ngcontent-%COMP%]{background-color:var(--background);top:56px;color:var(--black)}.filtered-options-dark[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--background)}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px var(--s-unit-4);width:100%;cursor:pointer;font-size:16px;font-weight:500}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--primary-press);color:var(--white)}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:first-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.filtered-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:not(:first-child):not(:last-child){border-radius:0}.search-header-container[_ngcontent-%COMP%]{padding:var(--s-unit-2);font-weight:700}.p-input-icon-right[_ngcontent-%COMP%], .p-input-icon-left[_ngcontent-%COMP%]{width:100%}.search-header-label[_ngcontent-%COMP%]{margin-left:var(--s-unit-2);font-size:var(--s-unit-3);font-weight:500;color:var(--text);background-color:var(--white)}.search-header-label-white-1[_ngcontent-%COMP%]{background-color:#d9e3f2}.search-header-label-dark[_ngcontent-%COMP%]{margin-left:var(--s-unit-2);font-weight:500;color:var(--text);background-color:var(--background)}"]})};var YM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(M(dn),M(Qe))}}static{this.\u0275dir=nt({type:n})}}return n})(),Fj=(()=>{class n extends YM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})()}static{this.\u0275dir=nt({type:n,features:[Dt]})}}return n})(),Gm=new B("");var Uj={provide:Gm,useExisting:is(()=>ZM),multi:!0};function Vj(){let n=hi()?hi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Hj=new B(""),ZM=(()=>{class n extends YM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Vj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(M(dn),M(Qe),M(Hj,8))}}static{this.\u0275dir=nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ee("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[di([Uj]),Dt]})}}return n})();var Bj=new B(""),jj=new B("");function JM(n){return n!=null}function XM(n){return ds(n)?Ie(n):n}function eR(n){let e={};return n.forEach(t=>{e=t!=null?y(y({},e),t):e}),Object.keys(e).length===0?null:e}function tR(n,e){return e.map(t=>t(n))}function $j(n){return!n.validate}function nR(n){return n.map(e=>$j(e)?e:t=>e.validate(t))}function qj(n){if(!n)return null;let e=n.filter(JM);return e.length==0?null:function(t){return eR(tR(t,e))}}function rR(n){return n!=null?qj(nR(n)):null}function zj(n){if(!n)return null;let e=n.filter(JM);return e.length==0?null:function(t){let r=tR(t,e).map(XM);return _g(r).pipe(X(eR))}}function iR(n){return n!=null?zj(nR(n)):null}function $M(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Gj(n){return n._rawValidators}function Wj(n){return n._rawAsyncValidators}function tw(n){return n?Array.isArray(n)?n:[n]:[]}function $m(n,e){return Array.isArray(n)?n.includes(e):n===e}function qM(n,e){let t=tw(e);return tw(n).forEach(i=>{$m(t,i)||t.push(i)}),t}function zM(n,e){return tw(e).filter(t=>!$m(n,t))}var qm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},nw=class extends qm{get formDirective(){return null}get path(){return null}},Nd=class extends qm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rw=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Kj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Mle=R(y({},Kj),{"[class.ng-submitted]":"isSubmitted"}),oR=(()=>{class n extends rw{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(M(Nd,2))}}static{this.\u0275dir=nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&za("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dt]})}}return n})();var Ad="VALID",jm="INVALID",ll="PENDING",Dd="DISABLED",dl=class{},zm=class extends dl{constructor(e,t){super(),this.value=e,this.source=t}},Md=class extends dl{constructor(e,t){super(),this.pristine=e,this.source=t}},Rd=class extends dl{constructor(e,t){super(),this.touched=e,this.source=t}},ul=class extends dl{constructor(e,t){super(),this.status=e,this.source=t}};function Qj(n){return(Wm(n)?n.validators:n)||null}function Yj(n){return Array.isArray(n)?rR(n):n||null}function Zj(n,e){return(Wm(e)?e.asyncValidators:n)||null}function Jj(n){return Array.isArray(n)?iR(n):n||null}function Wm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var iw=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ef(()=>this.statusReactive()),this.statusReactive=ge(void 0),this._pristine=Ef(()=>this.pristineReactive()),this.pristineReactive=ge(!0),this._touched=Ef(()=>this.touchedReactive()),this.touchedReactive=ge(!1),this._events=new Ve,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ro(this.statusReactive)}set status(e){ro(()=>this.statusReactive.set(e))}get valid(){return this.status===Ad}get invalid(){return this.status===jm}get pending(){return this.status==ll}get disabled(){return this.status===Dd}get enabled(){return this.status!==Dd}get pristine(){return ro(this.pristineReactive)}set pristine(e){ro(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ro(this.touchedReactive)}set touched(e){ro(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zM(e,this._rawAsyncValidators))}hasValidator(e){return $m(this._rawValidators,e)}hasAsyncValidator(e){return $m(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(R(y({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Rd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Rd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(R(y({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Md(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Md(!0,r))}markAsPending(e={}){this.status=ll;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ul(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(R(y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dd,this.errors=null,this._forEachChild(i=>{i.disable(R(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zm(this.value,r)),this._events.next(new ul(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this._forEachChild(r=>{r.enable(R(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ad||this.status===ll)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zm(this.value,t)),this._events.next(new ul(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(R(y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dd:Ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ll,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=XM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ul(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Dd:this.errors?jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ll)?ll:this._anyControlsHaveStatus(jm)?jm:Ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Md(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Rd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Yj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Jj(this._rawAsyncValidators)}};var sR=new B("CallSetDisabledState",{providedIn:"root",factory:()=>ow}),ow="always";function Xj(n,e){return[...e.path,n]}function e3(n,e,t=ow){n3(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),r3(n,e),o3(n,e),i3(n,e),t3(n,e)}function GM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function t3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function n3(n,e){let t=Gj(n);e.validator!==null?n.setValidators($M(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Wj(n);e.asyncValidator!==null?n.setAsyncValidators($M(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();GM(e._rawValidators,i),GM(e._rawAsyncValidators,i)}function r3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&aR(n,e)})}function i3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&aR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function aR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function s3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function a3(n){return Object.getPrototypeOf(n.constructor)===Fj}function c3(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ZM?t=o:a3(o)?r=o:i=o}),i||r||t||null}function WM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var l3=class extends iw{constructor(e=null,t,r){super(Qj(t),Zj(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(KM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var u3={provide:Nd,useExisting:is(()=>sw)},QM=Promise.resolve(),sw=(()=>{class n extends Nd{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new l3,this._registered=!1,this.name="",this.update=new Te,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=c3(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),s3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){e3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&be(r);QM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xj(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(M(nw,9),M(Bj,10),M(jj,10),M(Gm,10),M(Wt,8),M(sR,8))}}static{this.\u0275dir=nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[di([u3]),Dt,ai]})}}return n})();var d3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xe({type:n})}static{this.\u0275inj=Oe({})}}return n})();var cR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sR,useValue:t.callSetDisabledState??ow}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xe({type:n})}static{this.\u0275inj=Oe({imports:[d3]})}}return n})();var Km=(()=>{class n{autofocus=!1;focused=!1;platformId=A(un);document=A(Fe);host=A(Qe);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Wa(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=Je.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",be]},standalone:!0,features:[Nt]})}return n})(),lR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({})}return n})();var p3=["input"],m3=(n,e,t)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":e,"p-focus":t}),g3={provide:Gm,useExisting:is(()=>aw),multi:!0},aw=(()=>{class n{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new Te;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(t){this.cd=t}onClick(t){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:t,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(t){this.modelValue=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(r){return new(r||n)(M(Wt))};static \u0275cmp=j({type:n,selectors:[["p-inputSwitch"]],viewQuery:function(r,i){if(r&1&&Ll(p3,5),r&2){let o;fn(o=pn())&&(i.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",mn],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",be],readonly:[2,"readonly","readonly",be],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",be]},outputs:{onChange:"onChange"},features:[di([g3]),Nt],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(r,i){if(r&1){let o=st();I(0,"div",1),ee("click",function(a){return ve(o),Ce(i.onClick(a))}),I(1,"div",2)(2,"input",3,0),ee("focus",function(){return ve(o),Ce(i.onFocus())})("blur",function(){return ve(o),Ce(i.onBlur())}),T()(),x(4,"span",4),T()}r&2&&(Ee(i.styleClass),E("ngClass",DS(19,m3,i.checked(),i.disabled,i.focused))("ngStyle",i.style),H("data-pc-name","inputswitch")("data-pc-section","root"),_(),H("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),_(),E("checked",i.checked())("disabled",i.disabled)("autofocus",i.autofocus),H("id",i.inputId)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("name",i.name)("tabindex",i.tabindex)("data-pc-section","hiddenInput"),_(2),H("data-pc-section","slider"))},dependencies:[Et,$n,Km],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return n})(),uR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se,lR]})}return n})();var Qm=class n{constructor(e){this.themeService=e}static \u0275fac=function(t){return new(t||n)(M(Zn))};static \u0275cmp=j({type:n,selectors:[["app-theme-switch"]],standalone:!0,features:[te],decls:3,vars:1,consts:[[3,"onChange","ngModel"]],template:function(t,r){t&1&&(I(0,"p-inputSwitch",0),ee("onChange",function(){return r.themeService.toggleTheme()}),T(),I(1,"label"),se(2,"Dark Mode"),T()),t&2&&E("ngModel",r.themeService.isDarkTheme())},dependencies:[uR,aw,Se,cR,oR,sw],styles:["[_nghost-%COMP%]{display:flex;align-items:center;gap:10px;padding:5px 10px}p-inputSwitch[_ngcontent-%COMP%]{--inputSwitch-checked-bg: var(--primary);--inputSwitch-unchecked-bg: var(--background);--inputSwitch-handle-bg: var(--neutral)}label[_ngcontent-%COMP%]{font-size:14px;color:var(--neutral);cursor:pointer;margin-left:5px;-webkit-user-select:none;user-select:none}"]})};var dR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se]})}return n})();var v3=["*"];function C3(n,e){if(n&1&&(I(0,"span",4),se(1),T()),n&2){let t=N();_(),pt(t.label)}}function E3(n,e){if(n&1&&x(0,"span",6),n&2){let t=N(2);Ee(t.icon),E("ngClass","p-avatar-icon")}}function _3(n,e){if(n&1&&$(0,E3,1,3,"span",5),n&2){let t=N(),r=cs(6);E("ngIf",t.icon)("ngIfElse",r)}}function w3(n,e){if(n&1){let t=st();I(0,"img",8),ee("error",function(i){ve(t);let o=N(2);return Ce(o.imageError(i))}),T()}if(n&2){let t=N(2);E("src",t.image,as),H("aria-label",t.ariaLabel)}}function I3(n,e){if(n&1&&$(0,w3,1,2,"img",7),n&2){let t=N();E("ngIf",t.image)}}var hR=(()=>{class n{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new Te;currentStyle={};containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":this.image!=null,"p-avatar-circle":this.shape==="circle","p-avatar-lg":this.size==="large","p-avatar-xl":this.size==="xlarge"}}ngOnChanges(t){t.style&&(this.currentStyle=y({},t.style.currentValue))}imageError(t){this.onImageError.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=j({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},features:[ai],ngContentSelectors:v3,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(r,i){if(r&1&&(Bn(),I(0,"div",2),jn(1),$(2,C3,2,1,"span",3)(3,_3,1,2,"ng-template",null,0,us)(5,I3,1,1,"ng-template",null,1,us),T()),r&2){let o=cs(4);Ee(i.styleClass),E("ngClass",i.containerClass())("ngStyle",i.currentStyle),H("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","avatar"),_(2),E("ngIf",i.label)("ngIfElse",o)}},dependencies:[Et,Ye,$n],styles:[`@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),fR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se]})}return n})();function b3(n,e){if(n&1&&(I(0,"div"),x(1,"p-avatar",1),T()),n&2){let t=N();_(),E("label",t.getInitials())}}function S3(n,e){if(n&1&&(I(0,"div"),x(1,"p-avatar",2),T()),n&2){let t=N();_(),E("image",t.image)}}var Ym=class n{fullName;image=void 0;getInitials(){return this.fullName&&this.fullName?.split(" ")?.filter(i=>i.trim()!=="")?.map(i=>i.charAt(0).toUpperCase()).join("")||"Guest"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["app-avatar"]],inputs:{fullName:"fullName",image:"image"},standalone:!0,features:[te],decls:2,vars:2,consts:[[4,"ngIf"],["styleClass","mr-2","size","large","shape","circle",3,"label"],["styleClass","mr-2","size","large","shape","circle",3,"image"]],template:function(t,r){t&1&&$(0,b3,2,1,"div",0)(1,S3,2,1,"div",0),t&2&&(E("ngIf",r.fullName!==void 0&&r.image===void 0),_(),E("ngIf",r.image!==void 0))},dependencies:[fR,hR,Se,Ye],styles:[".p-avatar{background-color:var(--complementary);padding:var(--s-unit-3)}  .p-avatar .p-avatar-text{font-size:14px!important;font-family:Helvetica;color:var(--primary);font-weight:700}"]})};var Zm=class n{constructor(e){this.appService=e}static \u0275fac=function(t){return new(t||n)(M(Mt))};static \u0275cmp=j({type:n,selectors:[["app-userinfo"]],standalone:!0,features:[te],decls:8,vars:5,consts:[[1,"account-container"],[1,"account-avatar-container"],[3,"fullName","image"],[1,"account-data"],[3,"ngClass"],[1,"account-center"]],template:function(t,r){if(t&1&&(I(0,"div",0)(1,"div",1),x(2,"app-avatar",2),T(),I(3,"div",3)(4,"span",4),se(5),T(),I(6,"span",5),se(7),T()()()),t&2){let i,o,s;_(2),E("fullName",(i=r.appService.activeAccount())==null?null:i.name)("image",r.appService.userProfilePicture()),_(2),E("ngClass",r.appService.getThemeClass("account-name")),_(),pt((o=r.appService.activeAccount())==null?null:o.name),_(2),pt((s=r.appService.activeAccount())==null?null:s.username)}},dependencies:[Ym,Se,Et],styles:[".account-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;margin-top:var(--s-unit-2)}.account-avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-left:var(--s-unit-3)}.account-name[_ngcontent-%COMP%]{padding:0 0 var(--s-unit) var(--s-unit-2);display:flex;align-items:center;font-size:var(--s-unit-2);font-weight:700;color:var(--primary-press)}.account-name-dark[_ngcontent-%COMP%]{color:var(--text)}.account-center[_ngcontent-%COMP%]{padding:0 0 var(--s-unit) var(--s-unit-2);display:flex;align-items:center;font-weight:400;font-size:var(--caption);color:var(--text)}"]})};function A3(n,e){if(n&1&&(I(0,"div",0),se(1," Coppel Framework AngularSPA 18 "),T()),n&2){let t=N();E("ngClass",t.appService.getThemeClass("navbar-brand"))}}function D3(n,e){if(n&1&&(I(0,"span",12),se(1),T()),n&2){let t=N();_(),pt(t.notifications().length)}}function M3(n,e){if(n&1){let t=st();I(0,"li",20),ee("click",function(){let i=ve(t).index,o=N(2);return Ce(o.onClickNotification(i))}),x(1,"i",0),I(2,"div",21)(3,"span",22),se(4),T(),I(5,"span",23),se(6),T(),I(7,"span",24),se(8),OS(9,"timeAgo"),T()()()}if(n&2){let t=e.$implicit;_(),E("ngClass",t.icon+" notification-icon"),_(3),ui(" ",t.title," "),_(2),ui(" ",t.text," "),_(2),ui(" ",xS(9,4,t.date)," ")}}function R3(n,e){n&1&&(I(0,"div")(1,"i",25)(2,"span"),se(3,"No tienes notificaciones sin leer"),T()()())}function N3(n,e){if(n&1){let t=st();I(0,"ul",13),ee("blur",function(){ve(t);let i=N();return Ce(i.onBlurNotifications())}),I(1,"div",14)(2,"span",0),se(3," Notificaciones "),T(),I(4,"i",15),ee("click",function(){ve(t);let i=N();return Ce(i.toggleNotifications())}),T()(),I(5,"div",16)(6,"span",17),ee("click",function(){ve(t);let i=N();return Ce(i.toogleViewAllNotifications())}),se(7,"Sin leer"),T(),I(8,"span",17),ee("click",function(){ve(t);let i=N();return Ce(i.toogleViewAllNotifications())}),se(9,"Todas"),T()(),$(10,M3,10,6,"li",18)(11,R3,4,0,"div",19),T()}if(n&2){let t=N();E("ngClass",t.appService.getThemeClass("notifications-dropdown")),_(2),E("ngClass",t.appService.getThemeClass("notification-label")),_(4),E("ngClass",t.viewAllNotifications()?"notification-btn":"notification-btn selected"),_(2),E("ngClass",t.viewAllNotifications()?"notification-btn selected":"notification-btn"),_(2),E("ngForOf",t.getNotifications()),_(),E("ngIf",t.getNotifications().length===0)}}function O3(n,e){if(n&1){let t=st();I(0,"ul",13),ee("blur",function(){ve(t);let i=N();return Ce(i.onBlurUserMenu())}),x(1,"app-userinfo"),I(2,"i",15),ee("click",function(){ve(t);let i=N();return Ce(i.toggleUserMenu())}),T(),I(3,"li",0),x(4,"app-theme-switch"),T(),I(5,"li",20),ee("click",function(){ve(t);let i=N();return Ce(i.userConfigRedirect())}),x(6,"i"),I(7,"span",26),se(8,"Perfil"),T()(),I(9,"li",20),ee("click",function(){ve(t);let i=N();return Ce(i.logout())}),x(10,"i"),I(11,"span",26),se(12,"Cerrar Sesi\xF3n"),T()()()}if(n&2){let t=N();E("ngClass",t.appService.getThemeClass("user-dropdown")),_(3),E("ngClass",t.appService.getThemeClass("theme-switch-container")),_(3),Ee("pi pi-user "+t.appService.getThemeClass("account-icon")),_(4),Ee("pi pi-external-link "+t.appService.getThemeClass("account-icon"))}}var Jm=class n{constructor(e,t,r,i){this.router=e;this.messageService=t;this.appService=r;this.themeService=i}accountConfigUrl="https://portal.office.com/account/";type=ge(null);logoSrc=ge("white");isNotificationsVisible=ge(!1);isUserMenuVisible=ge(!1);searchOptions=ge(pM);notifications=ge(Z_);viewAllNotifications=ge(!1);onDocumentClick(e){let t=e.target;this.isNotificationsVisible()&&!t.closest(".notifications-dropdown")&&!t.closest(".navbar-icon.pi-bell")&&this.isNotificationsVisible.set(!1),this.isUserMenuVisible()&&!t.closest(".user-dropdown")&&!t.closest(".navbar-icon.pi-user")&&this.isUserMenuVisible.set(!1)}toogleViewAllNotifications(){this.viewAllNotifications.set(!this.viewAllNotifications())}toggleTheme(){this.themeService.isDarkTheme.set(!this.themeService.isDarkTheme())}onBlurNotifications(){this.isNotificationsVisible.set(!1)}onBlurUserMenu(){this.isUserMenuVisible.set(!1)}toggleNotifications(){this.isNotificationsVisible.set(!this.isNotificationsVisible()),this.isNotificationsVisible()&&this.isUserMenuVisible.set(!1)}getNotifications(){return this.viewAllNotifications()?Z_:this.notifications()}onClickNotification(e){let t=this.notifications().find((r,i)=>i===e);t&&this.messageService.add({severity:t?.type,summary:t?.title,detail:t?.text,icon:t?.icon}),this.notifications.set(this.notifications().filter((r,i)=>i!==e)),this.isNotificationsVisible.set(!1)}toggleUserMenu(){this.isUserMenuVisible.set(!this.isUserMenuVisible())}navTo(e){this.router.navigate([`/${e}`])}userConfigRedirect(){window.open(this.accountConfigUrl,"_blank")}logout(){this.isUserMenuVisible.set(!1);let e=this.appService.accountData()?.givenName;this.messageService.add({severity:"info",summary:"Cerrando sesi\xF3n",detail:`${e||this.appService.activeAccount()?.name} para cerrar completamente la sesi\xF3n selecciona tu cuenta activa en la ventana emergente.`}),setTimeout(()=>this.appService.logout(),1500)}static \u0275fac=function(t){return new(t||n)(M(uo),M(Jr),M(Mt),M(Zn))};static \u0275cmp=j({type:n,selectors:[["app-navbar"]],hostBindings:function(t,r){t&1&&ee("click",function(o){return r.onDocumentClick(o)},!1,Eb)},inputs:{type:"type",logoSrc:"logoSrc"},standalone:!0,features:[te],decls:15,vars:12,consts:[[3,"ngClass"],[1,"pi","pi-bars","navbar-menu-icon",3,"click"],[1,"navbar-logo"],["href","/"],["alt","Logo",3,"src"],[3,"ngClass",4,"ngIf"],[3,"options","type"],[1,"navbar-buttons"],[1,"pi","pi-bell","notification-button",3,"click","ngClass"],["class","notification-count",4,"ngIf"],[1,"pi","pi-user","navbar-icon",3,"click","ngClass"],[3,"ngClass","blur",4,"ngIf"],[1,"notification-count"],[3,"blur","ngClass"],[1,"notification-header-container"],[1,"close-icon","pi","pi-times",3,"click"],[1,"notification-btn-container"],[3,"click","ngClass"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"notification-text-container"],[1,"notification-title"],[1,"notification-text"],[1,"notification-time"],[1,"pi","pi-eye-slash","notification-text","no-notifications"],[1,"account-data-text"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",0)(2,"i",1),ee("click",function(){return r.appService.toggleSidebarMenu()}),T()(),I(3,"div",2)(4,"a",3),x(5,"img",4),T()(),$(6,A3,2,1,"div",5),I(7,"div",0),x(8,"app-search-input",6),T(),I(9,"div",7)(10,"i",8),ee("click",function(){return r.toggleNotifications()}),$(11,D3,2,1,"span",9),T(),I(12,"i",10),ee("click",function(){return r.toggleUserMenu()}),T()(),$(13,N3,12,6,"ul",11)(14,O3,13,6,"ul",11),T()),t&2&&(E("ngClass",r.appService.getThemeClass("navbar")),_(),E("ngClass",r.appService.getThemeClass("navbar-icon")),_(4),E("src",r.logoSrc(),as),_(),E("ngIf",r.type()==="blue"||r.type()==="white"),_(),E("ngClass",r.appService.getThemeClass("navbar-search")),_(),E("options",r.searchOptions.bind(r))("type",r.type.bind(r)),_(2),E("ngClass",r.appService.getThemeClass("navbar-icon")),_(),E("ngIf",r.notifications().length>0),_(),E("ngClass",r.appService.getThemeClass("navbar-icon")),_(),E("ngIf",r.isNotificationsVisible()),_(),E("ngIf",r.isUserMenuVisible()))},dependencies:[Bm,Qm,dR,Zm,Se,Et,Pr,Ye,Hm],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:var(--s-unit-2);padding-right:var(--s-unit-2);justify-content:space-between;height:64px}.navbar-white[_ngcontent-%COMP%]{background-color:var(--white)}.navbar-white-1[_ngcontent-%COMP%]{background-color:var(--white);height:56px}.navbar-blue[_ngcontent-%COMP%]{background-color:var(--primary)}.navbar-blue-1[_ngcontent-%COMP%]{background-color:var(--primary-press);height:56px}.navbar-dark[_ngcontent-%COMP%]{height:56px;background-color:#2d2f37}.navbar-menu-icon[_ngcontent-%COMP%]{font-size:var(--s-unit-3);cursor:pointer}.navbar-sidebar[_ngcontent-%COMP%]{width:337px;z-index:2;height:calc(100vh - 64px);overflow-y:scroll;position:absolute;background-color:var(--background);border-top:1px;border-left:0px;border-right:1px;border-bottom:1px;border-style:solid;border-color:var(--neutral);top:64px;left:-337px;box-shadow:0 2px var(--s-unit) rgba(var(--background),.1);transition:left .3s ease-in-out;border-top-right-radius:var(--s-unit);border-bottom-right-radius:var(--s-unit)}.sidebar-show[_ngcontent-%COMP%]{left:0}.navbar-logo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:var(--s-unit-3);margin-right:var(--s-unit-2);margin-top:3px;cursor:pointer}.navbar-brand[_ngcontent-%COMP%]{font-size:var(--body);margin-right:var(--s-unit-2);color:var(--text)}.navbar-brand-blue[_ngcontent-%COMP%]{color:var(--white)}.navbar-search[_ngcontent-%COMP%]{max-width:325px;width:100%;margin-left:auto;margin-right:var(--s-unit-2)}.navbar-search-dark[_ngcontent-%COMP%], .navbar-search-blue-1[_ngcontent-%COMP%], .navbar-search-white-1[_ngcontent-%COMP%]{max-width:387px}.navbar-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:nowrap;align-items:center}.navbar-icon[_ngcontent-%COMP%]{font-size:var(--s-unit-3);cursor:pointer;margin-right:var(--s-unit-3)}.navbar-icon-blue[_ngcontent-%COMP%]{color:var(--white)}.navbar-icon-white[_ngcontent-%COMP%]{color:var(--black)}.navbar-icon-dark[_ngcontent-%COMP%]{color:var(--white)}.navbar-icon-white-1[_ngcontent-%COMP%]{color:var(--black)}.navbar-icon-blue-1[_ngcontent-%COMP%]{color:var(--white)}.notification-icon[_ngcontent-%COMP%]{margin-top:4px;margin-right:var(--s-unit);font-size:19.5px;color:var(--neutral)}.notification-btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:var(--s-unit-2);align-items:center}.close-icon[_ngcontent-%COMP%]{padding:var(--s-unit-2);color:var(--text);position:absolute;top:var(--s-unit-2);right:var(--s-unit-2);cursor:pointer}.notification-button[_ngcontent-%COMP%]{position:relative;display:inline-block}.notification-button[_ngcontent-%COMP%]   .notification-count[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;background-color:var(--error);color:var(--white);border-radius:50%;padding:2px 6px;font-size:var(--caption);font-weight:700;display:flex;justify-content:center;align-items:center}.notifications-dropdown[_ngcontent-%COMP%], .user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(64px - var(--s-unit-2));right:1px;background-color:var(--white);border:1px solid var(--neutral);list-style:none;padding:14px 0;width:360px;box-shadow:0 2px var(--s-unit) rgba(var(--background),.1);display:flex;flex-direction:column;border-bottom-left-radius:var(--s-unit-2);border-bottom-right-radius:var(--s-unit-2)}.notifications-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .user-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--white);padding:var(--s-unit) var(--s-unit);display:flex;flex-direction:row;align-items:center;cursor:pointer;color:var(--text)}.notifications-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .user-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--primary);color:var(--white)}.notifications-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child, .user-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border:0}.notifications-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child), .user-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-radius:0}.notifications-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{align-items:flex-start}.notification-header-container[_ngcontent-%COMP%]{padding:var(--s-unit-2)}.no-notifications[_ngcontent-%COMP%]{width:100%;color:var(--text);text-align:center;cursor:no-drop}.no-notifications[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Helvetica;margin-left:var(--s-unit-2)}.user-dropdown-dark[_ngcontent-%COMP%], .notifications-dropdown-dark[_ngcontent-%COMP%], .user-dropdown-dark[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .notifications-dropdown-dark[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:var(--background)}.notifications-dropdown-white-1[_ngcontent-%COMP%], .notifications-dropdown-blue-1[_ngcontent-%COMP%], .notifications-dropdown-dark[_ngcontent-%COMP%], .navbar-sidebar-white-1[_ngcontent-%COMP%], .navbar-sidebar-blue-1[_ngcontent-%COMP%], .navbar-sidebar-dark[_ngcontent-%COMP%], .user-dropdown-white-1[_ngcontent-%COMP%], .user-dropdown-blue-1[_ngcontent-%COMP%], .user-dropdown-dark[_ngcontent-%COMP%]{top:calc(56px - var(--s-unit-2))}.notification-label[_ngcontent-%COMP%]{margin-left:var(--s-unit-2);font-size:var(--s-unit-3);font-weight:500;color:var(--text);background-color:var(--white)}.notification-label-dark[_ngcontent-%COMP%]{margin-left:var(--s-unit-2);font-weight:500;color:var(--text);background-color:var(--background)}.notification-text-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;flex-wrap:nowrap}.notification-btn[_ngcontent-%COMP%]{font-size:14px;margin-left:var(--s-unit-2);color:var(--text);cursor:pointer}.notification-btn.selected[_ngcontent-%COMP%]{background-color:var(--primary);border-radius:var(--s-unit-3);color:var(--white);padding:var(--s-unit)}.notification-tittle[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.notification-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400}.notification-time[_ngcontent-%COMP%]{font-size:var(--caption);font-weight:400;color:var(--neutral)}.theme-switch-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding-left:var(--s-unit-2);background-color:var(--white)}.theme-switch-container-dark[_ngcontent-%COMP%]{background-color:var(--background)}.account-data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.account-icon[_ngcontent-%COMP%]{margin-left:var(--s-unit-2);font-size:24px;color:var(--neutral)}.account-data-text[_ngcontent-%COMP%]{font-size:var(--s-unit-2);font-weight:400;padding:var(--s-unit-2);font-family:Helvetica;width:100%}@media (max-width: 768px){.notifications-dropdown[_ngcontent-%COMP%], .user-dropdown[_ngcontent-%COMP%]{width:99.9%;margin-right:0;margin-left:1px}.navbar-brand[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}"]})};function x3(n,e){if(n&1&&x(0,"app-navbar",4),n&2){let t=N();E("type",t.appService.navbarType.bind(t))("logoSrc",t.logoSrc.bind(t))}}function P3(n,e){n&1&&x(0,"router-outlet")}var{AppProps:pR}=Yn,hl=class n{constructor(e,t,r){this.appService=e;this.themeService=t;this.route=r;this.themeService.isDarkTheme.set(this.themeService.isDarkTheme())}includeNavBar=ge(!1);logoSrc=ge(`/assets/logo/${pR.logoFile}`);sidebarData=mM;hideHeader=pR.hideSidebarHeader;ngOnInit(){this.route.data.subscribe(e=>{this.includeNavBar.set(e.includeNavBar)})}static \u0275fac=function(t){return new(t||n)(M(Mt),M(Zn),M(co))};static \u0275cmp=j({type:n,selectors:[["app-default-layout"]],standalone:!0,features:[te],decls:4,vars:5,consts:[[3,"type","logoSrc",4,"ngIf"],[3,"show"],[4,"ngIf"],[3,"menuItems","hideHeader"],[3,"type","logoSrc"]],template:function(t,r){t&1&&($(0,x3,1,2,"app-navbar",0),x(1,"app-progress-bar",1),$(2,P3,1,0,"router-outlet",2),x(3,"app-sidebar",3)),t&2&&(E("ngIf",r.includeNavBar()),_(),E("show",r.appService.isLoadingAD()),_(),E("ngIf",!r.appService.isLoadingAD()||!r.includeNavBar()&&!r.appService.activeAccount()||r.appService.activeAccount()),_(),E("menuItems",r.sidebarData)("hideHeader",r.hideHeader))},dependencies:[Jm,lu,sl,Se,Ye,Lm,Um]})};var mR=(()=>{class n extends Xn{pathId;ngOnInit(){this.pathId="url(#"+Zr()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Rt(n)))(i||n)}})();static \u0275cmp=j({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Dt,te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(ln(),I(0,"svg",0)(1,"g"),x(2,"path",1),T(),I(3,"defs")(4,"clipPath",2),x(5,"rect",3),T()()()),r&2&&(Ee(i.getClassNames()),H("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),_(),H("clip-path",i.pathId),_(3),E("id",i.pathId))},encapsulation:2})}return n})();var k3=["*"],gR=n=>({class:n});function L3(n,e){n&1&&hn(0)}function F3(n,e){if(n&1&&x(0,"span",8),n&2){let t=N(3);E("ngClass",t.iconClass()),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function U3(n,e){if(n&1&&x(0,"SpinnerIcon",9),n&2){let t=N(3);E("styleClass",t.spinnerIconClass())("spin",!0),H("aria-hidden",!0)("data-pc-section","loadingicon")}}function V3(n,e){if(n&1&&(Ot(0),$(1,F3,1,3,"span",6)(2,U3,1,4,"SpinnerIcon",7),xt()),n&2){let t=N(2);_(),E("ngIf",t.loadingIcon),_(),E("ngIf",!t.loadingIcon)}}function H3(n,e){}function B3(n,e){if(n&1&&$(0,H3,0,0,"ng-template",10),n&2){let t=N(2);E("ngIf",t.loadingIconTemplate)}}function j3(n,e){if(n&1&&(Ot(0),$(1,V3,3,2,"ng-container",2)(2,B3,1,1,null,5),xt()),n&2){let t=N();_(),E("ngIf",!t.loadingIconTemplate),_(),E("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",bn(3,gR,t.iconClass()))}}function $3(n,e){if(n&1&&x(0,"span",8),n&2){let t=N(2);E("ngClass",t.iconClass()),H("data-pc-section","icon")}}function q3(n,e){}function z3(n,e){if(n&1&&$(0,q3,0,0,"ng-template",10),n&2){let t=N(2);E("ngIf",!t.icon&&t.iconTemplate)}}function G3(n,e){if(n&1&&(Ot(0),$(1,$3,1,2,"span",6)(2,z3,1,1,null,5),xt()),n&2){let t=N();_(),E("ngIf",t.icon&&!t.iconTemplate),_(),E("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",bn(3,gR,t.iconClass()))}}function W3(n,e){if(n&1&&(I(0,"span",11),se(1),T()),n&2){let t=N();H("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),_(),pt(t.label)}}function K3(n,e){if(n&1&&(I(0,"span",8),se(1),T()),n&2){let t=N();Ee(t.badgeClass),E("ngClass",t.badgeStyleClass()),H("data-pc-section","badge"),_(),pt(t.badge)}}var cw=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Te;onFocus=new Te;onBlur=new Te;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(M(Qe))};static \u0275cmp=j({type:n,selectors:[["p-button"]],contentQueries:function(r,i,o){if(r&1&&xr(o,Vi,4),r&2){let s;fn(s=pn())&&(i.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){r&2&&za("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",be],loading:[2,"loading","loading",be],loadingIcon:"loadingIcon",raised:[2,"raised","raised",be],rounded:[2,"rounded","rounded",be],text:[2,"text","text",be],plain:[2,"plain","plain",be],severity:"severity",outlined:[2,"outlined","outlined",be],link:[2,"link","link",be],tabindex:[2,"tabindex","tabindex",mn],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",be]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Nt,te],ngContentSelectors:k3,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){r&1&&(Bn(),I(0,"button",0),ee("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),jn(1),$(2,L3,1,0,"ng-container",1)(3,j3,3,5,"ng-container",2)(4,G3,3,5,"ng-container",2)(5,W3,2,3,"span",3)(6,K3,2,5,"span",4),T()),r&2&&(E("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),H("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),_(2),E("ngTemplateOutlet",i.contentTemplate),_(),E("ngIf",i.loading),_(),E("ngIf",!i.loading),_(),E("ngIf",!i.contentTemplate&&i.label),_(),E("ngIf",!i.contentTemplate&&i.badge))},dependencies:[Ye,io,$n,Et,ol,Km,mR],encapsulation:2,changeDetection:0})}return n})(),yR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[cw,Hi]})}return n})();var vR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xe({type:n});static \u0275inj=Oe({imports:[Se,Hi]})}return n})();var{AppProps:CR}=Yn,Xm=class n{constructor(e){this.appService=e;this.appService.activeAccount()&&(window.location.pathname="/protected")}footerTitle=ge("Inicia sesi\xF3n con tu cuenta de colaborador Active Directory");bannerSrc=ge(`/assets/img/${CR.bannerFile}`);logoSrc=ge(`/assets/logo/${CR.logoFile}`);static \u0275fac=function(t){return new(t||n)(M(Mt))};static \u0275cmp=j({type:n,selectors:[["app-login"]],standalone:!0,features:[di([Jr]),te],decls:22,vars:4,consts:[["id","login-content",1,"use-dark-mode"],[1,"login-element-container"],["alt","Logo",1,"company-logo",3,"src"],[1,"p-d-flex","p-flex-column","p-ai-center","p-mt-1"],["label","Iniciar sesi\xF3n","styleClass","p-button-primary",3,"onClick","disabled"],[1,"neutral"],["id","banner-content"],["alt","CoppelframeworkWebclientAngularspa18",3,"src"]],template:function(t,r){t&1&&(I(0,"section",0),x(1,"header"),I(2,"article")(3,"div",1),x(4,"img",2),T(),I(5,"div",1)(6,"h1"),se(7,"Inicia sesi\xF3n."),T()(),I(8,"div",1)(9,"p"),se(10,"Inicia sesi\xF3n con Active Directory."),T()(),I(11,"div",3)(12,"div",1)(13,"p-button",4),ee("onClick",function(){return r.appService.loginRedirect()}),T()()(),I(14,"div")(15,"p"),se(16," Acceso restringido a usuarios autorizados. "),T()()(),I(17,"footer")(18,"p",5),se(19),T()()(),I(20,"section",6),x(21,"img",7),T()),t&2&&(_(4),E("src",r.logoSrc(),as),_(9),E("disabled",r.appService.isLoadingAD()),_(6),pt(r.footerTitle()),_(2),E("src",r.bannerSrc(),as))},dependencies:[yR,cw,vR,sl],styles:["[_nghost-%COMP%]{display:flex;background-color:var(--background-box);min-height:100%}[_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:800px;flex-direction:column;justify-content:space-around;min-width:400px}[_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   article[_ngcontent-%COMP%], [_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%], [_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:24px}[_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]{height:64px}[_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   .button-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   #login-content[_ngcontent-%COMP%]   .button-selector[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   #banner-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;object-position:center}section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media (max-width: 800px){[_nghost-%COMP%]{flex-direction:column-reverse}}.login-element-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;padding:4px}"]})};var ER=[{path:"",component:hl,data:{includeNavBar:!0},children:[{path:"",component:Td,canActivate:[Zc]}]}],_R=[{path:"",component:hl,children:[{path:"",component:Xm,canActivate:[]}]},{path:"protected",component:hl,data:{includeNavBar:!0},children:[{path:"",component:Td,canActivate:[Zc]}]}];var{ActiveDirectory:wR,AppProps:Y3}=Yn;function Z3(){return new ad({auth:wR.auth,cache:{cacheLocation:it.SessionStorage,storeAuthStateInCookie:!1}})}function J3(){return{interactionType:U.Redirect,authRequest:{scopes:wR.defaultScopes}}}var IR={providers:[eA(Y3.useLoginScreen?_R:ER),iC(c0()),iC(l0()),YD(),{provide:ld,useFactory:Z3},{provide:Yc,useFactory:J3},Wr,Zc,mD,ia]};var eg=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["app-root"]],standalone:!0,features:[di([Jr]),te],decls:2,vars:0,consts:[["position","bottom-center"]],template:function(t,r){t&1&&x(0,"router-outlet")(1,"p-toast",0)},dependencies:[gD,lu,sl,dM]})};g0(eg,IR).catch(n=>console.error(n));
